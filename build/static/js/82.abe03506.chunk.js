(this.webpackJsonpzjyz_admin=this.webpackJsonpzjyz_admin||[]).push([[82],{1762:function(e,t,s){"use strict";s(41);var a,c=s(8),o=s.n(c),n=(s(317),s(206)),r=s.n(n),i=(s(45),s(6)),l=s.n(i),d=(s(276),s(83)),u=s.n(d),m=(s(67),s(28)),p=s.n(m),I=s(9),h=s(12),g=s(11),f=s(10),v=s(0),S=s.n(v),k=(s(1789),s(35)),w=s(1794),y=s(1791),E=s(239),b=s(520),O=(s.n(b)()(),Object(k.g)(a=function(e){Object(g.a)(s,e);var t=Object(f.a)(s);function s(e){var a;return Object(I.a)(this,s),(a=t.call(this,e)).getClassRoom=function(){var e=a.state,t=e.classroomId,s=e.stepId;Object(E.s)([t,s]).then((function(e){e&&a.setState({classStatus:e.classStatus})}))},a.state={switchStatus:!0,classBtnContent:0==sessionStorage.getItem("stepId")?"\u8bfe\u524d\u9884\u4e60":2==sessionStorage.getItem("stepId")?"\u8bfe\u540e\u590d\u4e60":"\u8bfe\u5802\u6559\u5b66",stepId:sessionStorage.getItem("stepId")?sessionStorage.getItem("stepId"):1,courseId:"",classroomId:"",catalogId:"",classStatus:""},a}return Object(h.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location.search.split("?")[1];if(t){var s=t.includes("%")?decodeURI(t):t,a=JSON.parse(s);this.setState({courseId:a.courseId,classroomId:a.classroomId,catalogId:a.catalogId,pathname:a.pathname,id:a.id,homeworkId:a.homeworkId},(function(){e.getClassRoom()}))}}},{key:"rightSwitch",value:function(){this.props.open({isOpen:!0})}},{key:"goBack",value:function(){var e=this.state,t=e.catalogId,s=e.courseId,a=e.classroomId,c=e.pathname,o=e.id,n=e.homeworkId,r={courseId:s,classroomId:a,catalogId:t};if(sessionStorage.removeItem("coursewareBack"),c)return o&&(r.id=o),n&&(r.homeworkId=n),void this.props.history.replace("".concat(c,"?").concat(encodeURI(JSON.stringify(r))));this.props.history.replace("/teching/projection-screen?".concat(encodeURI(JSON.stringify(r))))}},{key:"finishClass",value:function(){var e=this,t=this.state.classStatus,s=3==t?"\u786e\u5b9a\u8981\u9000\u51fa\u5417\uff1f":"\u786e\u5b9a\u8981\u4e0b\u8bfe\u5417\uff1f";p.a.confirm({title:"\u63d0\u793a",content:s,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",className:"ModalConfirm border_none",onOk:function(){if(2==t){var s={id:e.state.classroomId,releaseStatus:2,over:9};Object(E.j)(s).then((function(t){0==t.code&&(localStorage.setItem("changeClass",e.state.classroomId),e.props.history.replace("/"))}))}else 3==t&&e.props.history.replace("/")},onCancel:function(){}})}},{key:"render",value:function(){var e=this,t=this.state,s=t.courseId,a=t.classroomId,c=t.catalogId,o=t.classStatus,n=this.props.changeBtn;return S.a.createElement("div",null,this.props.goBackVis?"":S.a.createElement("p",{onClick:this.goBack.bind(this)},S.a.createElement("i",{className:"iconfont"},"\ue6ba"),"\u8fd4\u56de"),n?S.a.createElement("div",null," ",S.a.createElement(r.a,{overlay:S.a.createElement(u.a,null,S.a.createElement(u.a.Item,{key:"0",onClick:function(t){sessionStorage.setItem("stepId",0),e.goBack(),e.setState({classBtnContent:t.item.props.children,stepId:0},(function(){e.props.stepCut({stepId:0}),e.setState({stepId:0})}))}},"\u8bfe\u524d\u9884\u4e60"),S.a.createElement(u.a.Item,{key:"1",onClick:function(t){sessionStorage.setItem("stepId",1),e.goBack(),e.setState({classBtnContent:t.item.props.children,stepId:1},(function(){e.props.stepCut({stepId:1}),e.setState({stepId:1})}))}},"\u8bfe\u5802\u6559\u5b66"),S.a.createElement(u.a.Item,{key:"2",onClick:function(t){sessionStorage.setItem("stepId",2),e.goBack(),e.setState({classBtnContent:t.item.props.children,stepId:2},(function(){e.props.stepCut({stepId:2}),e.setState({stepId:2})}))}},"\u8bfe\u540e\u590d\u4e60")),trigger:["click"],placement:"topCenter",className:"class-dropdown"},S.a.createElement(l.a,null,0==sessionStorage.getItem("stepId")?"\u8bfe\u524d\u9884\u4e60":2==sessionStorage.getItem("stepId")?"\u8bfe\u540e\u590d\u4e60":"\u8bfe\u5802\u6559\u5b66",S.a.createElement(w.a,null))),S.a.createElement("p",{onClick:function(){e.finishClass()}},S.a.createElement("i",{className:"iconfont"},"\ue634"),3==o?"\u9000\u51fa":"\u4e0b\u8bfe"),S.a.createElement("p",{onClick:function(){var t={courseId:s,classroomId:a,catalogId:c};sessionStorage.setItem("coursewareBack","success"),sessionStorage.removeItem("prevIds"),e.props.history.replace("/teching/projection-screen/courseware?".concat(encodeURI(JSON.stringify(t))))}},S.a.createElement("i",{className:"iconfont"},"\ue75b"),"\u8bfe\u4ef6"),S.a.createElement("div",{className:"switch",title:"\u6253\u5f00/\u5173\u95ed\u4e92\u52a8\u5217\u8868",onClick:this.rightSwitch.bind(this)},S.a.createElement(y.a,null))):null,S.a.createElement("p",{style:{float:"right"},onClick:function(){window.location.reload(!0)}},S.a.createElement("i",{className:"iconfont"},"\ue6a7"),"\u5237\u65b0"))}}]),s}(v.Component))||a),C=o.a.create()(O);t.a=C},1785:function(e,t,s){"use strict";var a=s(0),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},o=s(238),n=function(e,t){return a.createElement(o.a,Object.assign({},e,{ref:t,icon:c}))};n.displayName="RightOutlined";t.a=a.forwardRef(n)},1791:function(e,t,s){"use strict";var a=s(0),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 000-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0014.4 7z"}}]},name:"menu-unfold",theme:"outlined"},o=s(238),n=function(e,t){return a.createElement(o.a,Object.assign({},e,{ref:t,icon:c}))};n.displayName="MenuUnfoldOutlined";t.a=a.forwardRef(n)},1794:function(e,t,s){"use strict";var a=s(0),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},o=s(238),n=function(e,t){return a.createElement(o.a,Object.assign({},e,{ref:t,icon:c}))};n.displayName="UpOutlined";t.a=a.forwardRef(n)},2312:function(e,t,s){},2721:function(e,t,s){"use strict";s.r(t);s(41);var a,c=s(8),o=s.n(c),n=(s(43),s(2)),r=s.n(n),i=(s(40),s(5)),l=s.n(i),d=s(9),u=s(12),m=s(11),p=s(10),I=s(0),h=s.n(I),g=(s(2312),s(35)),f=s(1776),v=s(1762),S=s(520),k=s.n(S),w=s(239),y=k()();window.addEventListener("message",(function(e){1==e.data.status&&y.goBack(-1)}));var E=Object(g.g)(a=function(e){Object(m.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(d.a)(this,s),(a=t.call(this,e)).getClassRoom=function(){var e=a.state,t=e.classroomId,s=e.stepId;Object(w.s)([t,s]).then((function(e){e&&a.setState({courseName:e.courseName})}))},a.state={leftStyle:{width:"82%"},rightStyle:{width:"18%"},switchStatus:!0,stepId:sessionStorage.getItem("stepId")?sessionStorage.getItem("stepId"):1,courseId:"",classroomId:"",catalogId:"",courseName:""},a}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location.search.split("?")[1],s=t.includes("%")?decodeURI(t):t,a=JSON.parse(s);this.setState({courseId:a.courseId,classroomId:a.classroomId,catalogId:a.catalogId},(function(){return e.getClassRoom()}))}},{key:"rightSwitch",value:function(){this.state.switchStatus?this.setState({switchStatus:!1,concealRight:{width:"0"},colW:24}):this.setState({switchStatus:!0,concealRight:{width:"22.5%"},colW:18})}},{key:"goBack",value:function(){y.goBack(-1)}},{key:"render",value:function(){var e=this,t=this.state,s=t.leftStyle,a=t.courseName,c=t.rightStyle,o={addResource:1,isShow:!0,courseId:t.courseId,catalogId:t.catalogId,stepId:t.stepId,classroomId:t.classroomId,isHeader:!0},n="";if(sessionStorage.prevIds){var i=JSON.parse(sessionStorage.prevIds),d={addResource:i.addResource,catalogId:i.catalogId,classroomId:i.classroomId,courseId:i.courseId,handIsShow:i.handIsShow,resUrl:i.resUrl,resourceId:i.resourceId,stepId:i.stepId,isHeader:!0};n="/#/teching/resource-preview?".concat(encodeURI(JSON.stringify(d)))}else n="/#/teching/resource-library/my-resource?".concat(encodeURI(JSON.stringify(o)));return h.a.createElement("div",{className:"interaction"},h.a.createElement(r.a,{className:"screen-left",style:s},h.a.createElement("div",{className:"screen-left-top"},a),h.a.createElement(l.a,{className:"courseware"},h.a.createElement("iframe",{id:"courseware",title:"resg",style:{width:"100%",border:"1px solid rgba(230, 230, 230, 1)",borderRadius:"5px",display:"block",height:"100%"},src:n,scrolling:"auto"})),h.a.createElement("div",{className:"screen-left-bottom"},h.a.createElement(v.a,{open:this.rightSwitch.bind(this),stepCut:function(t){e.setState({stepId:t.stepId})}}))),h.a.createElement(r.a,{className:"interaction-right",style:c},h.a.createElement(f.a,{stepId:this.state.stepId})))}}]),s}(I.Component))||a,b=o.a.create()(E);t.default=b}}]);