(this.webpackJsonpzjyz_admin=this.webpackJsonpzjyz_admin||[]).push([[21],{1770:function(e,t,a){"use strict";a(48),a(1783)},1771:function(e,t,a){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,c=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){var o=n?Object.getOwnPropertyDescriptor(e,c):null;o&&(o.get||o.set)?Object.defineProperty(a,c,o):a[c]=e[c]}a.default=e,t&&t.set(e,a);return a}(a(0)),o=(n=a(13))&&n.__esModule?n:{default:n},s=a(32);function l(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var m=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a},p=function(e){return c.createElement(s.ConfigConsumer,null,(function(t){var a,r=t.getPrefixCls,n=e.prefixCls,s=e.type,l=void 0===s?"horizontal":s,p=e.orientation,d=void 0===p?"center":p,g=e.className,f=e.children,h=e.dashed,y=m(e,["prefixCls","type","orientation","className","children","dashed"]),C=r("divider",n),A=d.length>0?"-".concat(d):d,v=(0,o.default)(g,C,"".concat(C,"-").concat(l),(i(a={},"".concat(C,"-with-text").concat(A),f),i(a,"".concat(C,"-dashed"),!!h),a));return c.createElement("div",u({className:v},y,{role:"separator"}),f&&c.createElement("span",{className:"".concat(C,"-inner-text")},f))}))};t.default=p},1783:function(e,t,a){},1800:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"a",(function(){return c})),a.d(t,"e",(function(){return o})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return l}));var r=a(4);function n(e){return Object(r.c)("/api/course/api/v1/web/courseCenter/getStageSubject",e)}function c(e){return Object(r.c)("/api/course/api/v1/courseExamType/getBookCatalog",e)}function o(e){return Object(r.d)("/api/course/api/v1/courseResource/getPage",e)}function s(e){return Object(r.d)("/api/conf/api/v1/dic/getDicList",e)}function l(e){return Object(r.c)("/api/course/api/v1/web/webCourseResource/getExamList",e)}},1974:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACESURBVHgBhZAtDoAwDIXLT8CAAYVDgUKB4Q6cFcVRuAAGFGoKFK9JlzRbFl7yLe361m0l8jWDxd1MnbwAg8QNuGwhdoyTintdiMAIWumWk68bnHx1B0oKqwZZguWQjnnAaMDGxlfMQ8C4stl+5qEfxeodpA4ZlVe82DlmYtgFjnkanXV/mVsSE2F8q8YAAAAASUVORK5CYII="},1975:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAYAAACALL/6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAC4SURBVHgBdZA/C8JADMXjVTwQC4KDOIjdRNHJqZuT4OYX18VNd5EDQbhBKhR8gRd6Yn3wI/cvuZdk0ihnXIA9WII3iCADtXCh2oAdCGALusCDAjzBgcnBJQmqgfwqT99YQsUYWxKqNJqlPhiDFxny/AKmvD+ZpQKsWb3DvUnXN1YvwcRJ41+rrb7dSA/MwZH70rHRyMs26bnnL14t6BRGrDT7k3Smtbs2rfPVWQdWsiEIf76y4QeoP92+JHfseHwuAAAAAElFTkSuQmCC"},2389:function(e,t,a){"use strict";a.r(t);a(177);var r,n=a(110),c=a.n(n),o=(a(109),a(72)),s=a.n(o),l=(a(1770),a(1771)),u=a.n(l),i=(a(45),a(6)),m=a.n(i),p=(a(74),a(17)),d=a.n(p),g=(a(135),a(73)),f=a.n(g),h=(a(40),a(5)),y=a.n(h),C=(a(97),a(14)),A=a.n(C),v=(a(43),a(2)),b=a.n(v),S=a(3),O=a.n(S),E=a(7),N=(a(67),a(28)),j=a.n(N),I=a(20),w=a(9),k=a(12),K=a(52),T=a(11),z=a(10),x=(a(79),a(30)),D=a.n(x),R=(a(178),a(82)),L=a.n(R),B=(a(204),a(101)),M=a.n(B),P=(a(51),a(22)),Q=a.n(P),V=a(0),F=a.n(V),Y=(a(523),a(1800)),_=a(522),U=(a(2390),a(35)),W=a(75),X=a(111),J=Q.a.Search,G=(M.a.TabPane,L.a.TreeNode),Z=(D.a.Option,Object(U.g)(r=function(e){Object(T.a)(r,e);var t=Object(z.a)(r);function r(){var e;Object(w.a)(this,r);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={courseTotal:0,bigMajorId:"",collectFlag:"",majorId:"",medMajorId:"",opneRange:3,orderAscfield:"",orderDescfield:"",subjectName:"",studentId:"",unitId:"",userId:"",total:0,pageNum:1,pageSize:18,stageId:"",subjectList:null,courseTree:[],getCourseCenter:[],getCourseCenterCollection:[],courseCenterCatalog:[],resourceFormatList:X.e,activeKey:1,courseKey:localStorage.getItem("collectionKey")?localStorage.getItem("collectionKey"):"",category:"",sortSet:{value:"zh",zhOrder:!1,fbOrder:!1,syOrder:!1,scOrder:!1},resourceName:"",searchValue:void 0,isShow:!1,resourceTypeCheck:""},e.bookChange=function(t){var a=e.state.subjectList,r="",n="";a.forEach((function(e){e.id===t&&(r=e.stageId,n=e.subjectId)})),e.setState({pageNum:1,catalogArray:[],catalogArrayChecked:[],selectCatalogId:"",stageId:r,catalogStageId:r,subjectId:n,catalogSubjectId:n},(function(){e.getCourseListTreeNew(),e.getResourceList()}))},e.renderTreeNodes=function(t){return t.map((function(t){return t.children?F.a.createElement(G,{title:F.a.createElement("div",{className:"TreeIcon",onClick:e.DeptonSelect.bind(Object(K.a)(e),t)},t.name),key:t.id,dataRef:t},e.renderTreeNodes(t.children)):F.a.createElement(G,{title:t.name,key:t.id,value:t.id,dataRef:t})}))},e.resourceTypeChange=function(t){e.setState({pageNum:1,resourceTypeCheck:t.target.value},(function(){e.getResourceList()}))},e.resourceFormatChange=function(t){e.setState({pageNum:1,resourceFormatCheck:t.target.value},(function(){e.getResourceList()}))},e.zhClick=function(){var t=e.state.sortSet;"zh"===t.value?(t.zhOrder=!t.zhOrder,e.setState({sortSet:t},(function(){e.testOrderChange(t.zhOrder,"create_time")}))):e.setState({sortSet:Object(I.a)(Object(I.a)({},t),{},{zhOrder:!1,value:"zh"})},(function(){e.testOrderChange(t.zhOrder,"create_time")}))},e.syClick=function(){var t=e.state.sortSet;"sy"===t.value?(t.syOrder=!t.syOrder,e.setState({sortSet:t},(function(){e.testOrderChange(t.syOrder,"studentsNumber")}))):e.setState({sortSet:Object(I.a)(Object(I.a)({},t),{},{syOrder:!1,value:"sy"})},(function(){e.testOrderChange(t.syOrder,"studentsNumber")}))},e.scClick=function(){var t=e.state.sortSet;"sc"===t.value?(t.scOrder=!t.scOrder,e.setState({sortSet:t},(function(){e.testOrderChange(t.scOrder,"collection")}))):e.setState({sortSet:Object(I.a)(Object(I.a)({},t),{},{scOrder:!1,value:"sc"})},(function(){e.testOrderChange(t.scOrder,"collection")}))},e.testOrderChange=function(t,a){t?e.setState({pageNum:1,orderAscfield:a,orderDescfield:""},(function(){e.getCourseCenterCollection()})):e.setState({pageNum:1,orderAscfield:"",orderDescfield:a},(function(){e.getCourseCenterCollection()}))},e.resourceNameSearch=function(t){e.setState({pageNum:1,resourceName:t.replace(/(^\s*)|(\s*$)/g,"")},(function(){e.getResourceList()}))},e.searchChange=function(t){e.setState({searchValue:t.target.value},(function(){e.setState({pageNum:1,resourceName:e.state.searchValue.replace(/(^\s*)|(\s*$)/g,"")},(function(){e.getResourceList()}))}))},e.onShowSizeChange=function(t,a){e.setState({pageNum:1,pageSize:a},(function(){e.getCourseCenterCollection()}))},e.onPageNumChange=function(t,a){e.setState({pageNum:t},(function(){e.getCourseCenterCollection()}))},e.toCourseType=function(t){var a=t.target.value;"1"===t.target.value?(localStorage.setItem("collectionKey",1),e.setState({category:"",courseKey:a},(function(){e.getCourseCenterCollection()}))):"2"===t.target.value?(localStorage.setItem("collectionKey",2),e.setState({category:1,courseKey:a},(function(){e.getCourseCenterCollection()}))):"3"===t.target.value?(localStorage.setItem("collectionKey",3),e.setState({category:2,courseKey:a},(function(){e.getCourseCenterCollection()}))):"4"===t.target.value?(localStorage.setItem("collectionKey",4),e.setState({category:3,courseKey:a},(function(){e.getCourseCenterCollection()}))):e.getCourseCenterCollection()},e}return Object(k.a)(r,[{key:"courseClick",value:function(e){var t=this,a=this,r={subjectId:e.id,userId:this.state.userId};Object(_.c)(r).then((function(e){1===e.isDelete?j.a.confirm({title:"\u63d0\u793a",content:"\u8be5\u8bfe\u7a0b\u5df2\u7ecf\u88ab\u5220\u9664",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:function(){a.getCourseCenterCollection(this)}}):(localStorage.setItem("stuCenterKey",t.props.activeKey),t.props.history.push({pathname:"/course-center/course-center-details",search:JSON.stringify(r)}))}))}},{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):"",a=localStorage.getItem("collectionKey");""!==a&&null!==a?"1"===a?this.setState({userId:t.user.id,orderDescfield:"create_time",courseKey:a,category:""},(function(){e.getCourseCenterCollection()})):"2"===a?this.setState({userId:t.user.id,orderDescfield:"create_time",courseKey:a,category:"1"},(function(){e.getCourseCenterCollection()})):"3"===a?this.setState({userId:t.user.id,orderDescfield:"create_time",courseKey:a,category:"2"},(function(){e.getCourseCenterCollection()})):"4"===a&&this.setState({userId:t.user.id,orderDescfield:"create_time",courseKey:a,category:"3"},(function(){e.getCourseCenterCollection()})):this.setState({userId:t.user.id,orderDescfield:"create_time",courseKey:"1",category:""},(function(){e.getCourseCenterCollection()}))}},{key:"getCourseCenterCollection",value:function(){var e=Object(E.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.e)({pageNum:this.state.pageNum,pageSize:this.state.pageSize,userId:this.state.userId,orderAscfield:this.state.orderAscfield,orderDescfield:this.state.orderDescfield,subjectName:t,category:this.state.category});case 2:a=e.sent,this.setState({getCourseCenterCollection:a.data,pageNum:a.pageNum,pageSize:a.pageSize,courseTotal:a.total});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"callback",value:function(e){this.setState({activeKey:e})}},{key:"getMyStageList",value:function(){var e=Object(E.a)(O.a.mark((function e(){var t,a,r=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Y.d)();case 2:t=e.sent,a=t?t.map((function(e){return Object(I.a)(Object(I.a)({},e),{},{subjectName:e.stageName,id:e.stageId})})):"",this.setState({stageId:a[0].stageId,subjectList:a},(function(){r.getCourseListTreeNew(),r.getResourceList()}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCourseListTreeNew",value:function(){var e=Object(E.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.state.stageId)){e.next=7;break}return e.next=4,Object(Y.a)({bookId:t});case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=[];case 8:a=e.t0,this.setState({courseTree:a});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getResourceList",value:function(){var e=Object(E.a)(O.a.mark((function e(){var t,a,r,n,c,o,s,l,u,i,m,p,d,g;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.pageNum,r=t.pageSize,n=t.activeKey,c=t.stageId,o=t.resourceTypeCheck,s=t.resourceFormatCheck,l=t.orderAscfield,u=t.searchValue,i=t.orderDescfield,m=t.level,p=t.professionId,d={pageNum:a,pageSize:r,professionId:p,mediaType:o,applicationType:s,orderAscfield:l,orderDescfield:i,resourceName:u,tabType:n,level:m,stageId:c},e.next=4,Object(Y.e)(d);case 4:g=e.sent,this.setState({resourceList:g?g.data:null,total:g?g.total:0});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"DeptonSelect",value:function(e,t){W.a.isEmpty(e.id)||(this.state.professionId=e.id,this.state.level=e.level,this.setState({hierarchy:e.hierarchy})),this.getResourceList()}},{key:"getResourceFormatList",value:function(){var e=Object(E.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Y.b)(t);case 2:a=e.sent,this.setState({resourceFormatList:a});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,r=t.sortSet,n=t.pageNum,o=t.pageSize,l=t.courseKey,i=t.activeKey,p=t.getCourseCenterCollection,g=t.courseTotal,h=p.map((function(t,r){return F.a.createElement(b.a,{span:4,className:"paper-center-div",key:r,onClick:function(){return e.courseClick(t)}},F.a.createElement("div",{className:"pic-img"},F.a.createElement("img",{src:"/api/media/api/v1/media/showThumbnail/".concat(t.fileId),alt:""}),1===t.category?F.a.createElement("span",null,F.a.createElement("img",{src:a(925),alt:"",className:"course-logo-l"}),"\u5728\u7ebf\u8bfe\u7a0b"):2===t.category?F.a.createElement("span",null,F.a.createElement("img",{src:a(926),alt:"",className:"course-logo-l"}),"\u4e92\u52a8\u8bfe\u7a0b"):3===t.category?F.a.createElement("span",null,F.a.createElement("img",{src:a(927),alt:"",className:"course-logo-l"}),"\u5b9e\u8bad\u8bfe\u7a0b"):4===t.category?F.a.createElement("span",null,F.a.createElement("img",{src:a(928),alt:"",className:"course-logo-l"}),"\u9762\u6388\u8bfe\u7a0b"):null),F.a.createElement("h4",null,t.subjectName),F.a.createElement("p",null,F.a.createElement("span",{className:"span-a"},F.a.createElement("span",{className:"span-b"},t.unitName),t.unitName&&t.humanName?F.a.createElement("i",{className:"i"},"|"):""),F.a.createElement("span",null,t.humanName)),F.a.createElement("p",null,F.a.createElement("span",null,F.a.createElement("img",{src:a(1974)}),t.collection),F.a.createElement("span",{className:"span"},F.a.createElement("img",{src:a(1975)}),t.studentsNumber)))})),C=F.a.createElement(f.a,{className:"center-content-paper"},F.a.createElement(y.a,{className:"paper-common",id:"paperCommon"},F.a.createElement(b.a,{span:2,className:"paper-year"},"\u8bfe\u7a0b\u7c7b\u578b"),F.a.createElement(b.a,{span:22},F.a.createElement(A.a.Group,{value:l,onChange:this.toCourseType.bind(this)},F.a.createElement(A.a.Button,{value:"1"},"\u5168\u90e8"),F.a.createElement(A.a.Button,{value:"2"},"\u5728\u7ebf\u8bfe\u7a0b"),F.a.createElement(A.a.Button,{value:"3"},"\u4e92\u52a8\u8bfe\u7a0b"),F.a.createElement(A.a.Button,{value:"4"},"\u5b9e\u8bad\u8bfe\u7a0b"))))),v=F.a.createElement(f.a,null,F.a.createElement(y.a,{className:"paper-common paper-common-students"},F.a.createElement(b.a,{span:12,className:"paper-common-btn"},F.a.createElement(m.a,{type:"zh"===r.value?"primary":"",onClick:function(){return e.zhClick()}},"\u521b\u5efa\u65f6\u95f4","zh"===r.value?F.a.createElement(d.a,{type:r.zhOrder?"up":"down"}):""),F.a.createElement(m.a,{type:"sy"===r.value?"primary":"",onClick:function(){return e.syClick()}},"\u5b66\u4e60\u4eba\u6570","sy"===r.value?F.a.createElement(d.a,{type:r.syOrder?"up":"down"}):""),F.a.createElement(m.a,{type:"sc"===r.value?"primary":"",onClick:function(){return e.scClick()}},"\u6536\u85cf\u91cf","sc"===r.value?F.a.createElement(d.a,{type:r.scOrder?"up":"down"}):"")),F.a.createElement(b.a,{span:12},F.a.createElement("div",{className:"paper-common-search"},F.a.createElement(J,{style:{width:220},placeholder:"\u8bf7\u8f93\u5165\u8bfe\u7a0b\u540d\u79f0",onSearch:function(t){return e.getCourseCenterCollection(t)}}),F.a.createElement("span",{className:"paper-common-totale"},"\u5171 ",g," \u4e2a\u8bfe\u7a0b")))),F.a.createElement(u.a,null),h&&0===h.length?F.a.createElement("div",{className:"no-content"},F.a.createElement(s.a,null)):F.a.createElement("div",null,F.a.createElement(y.a,null,h),F.a.createElement(y.a,null,F.a.createElement(b.a,{span:24,style:{textAlign:"right",marginTop:10,justifyContent:"flex-end"}},F.a.createElement(c.a,{showSizeChanger:!0,pageSizeOptions:["18","36","54","72"],onShowSizeChange:this.onShowSizeChange,onChange:this.onPageNumChange,defaultCurrent:1,current:n,pageSize:o,total:g,showTotal:function(e){return"\u5171 "+e+" \u6761"}}))))),S=F.a.createElement(y.a,{className:"center-content"},F.a.createElement(b.a,{span:24,className:"center-content-center"},F.a.createElement(y.a,{className:"center-content-search"},F.a.createElement(b.a,{span:24},C)),F.a.createElement(y.a,null,F.a.createElement(b.a,{span:24},v)))),O=F.a.createElement(y.a,{className:"center-content"},F.a.createElement(b.a,{span:24,className:"center-content-center"},F.a.createElement(y.a,{className:"center-content-search"},F.a.createElement(b.a,{span:24},C)),F.a.createElement(y.a,null,F.a.createElement(b.a,{span:24},v))));return F.a.createElement("div",{className:"course-center-collection course-center-collection-students"},F.a.createElement("div",{className:"course-collection-pic"},1==i?S:2==i?O:""))}}]),r}(V.Component))||r);t.default=Z},2390:function(e,t,a){}}]);