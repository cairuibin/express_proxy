(this.webpackJsonpzjyz_admin=this.webpackJsonpzjyz_admin||[]).push([[93],{1763:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIDSURBVHgB5ZZNbtNAGIbfGRvjHT6Cl1VFg7NmQeYG4QQQiQ1KJZQTkJzARVWarW+Q9ARTfvY1RUJdhht42STN9zFua2rS4mby0w2PZOWzR8pjj795xwI37Oo4cqU3NGWIzTG+JLz+qdppcUEWxRZkOaErMSxfuBJGehBuQfZHekf4mDy60K0Yy5g5hSVCiAZWEUqS9VS9H8OSFyf9IQs0YSskcHNHD0awhAVFVeP/nlLJsQeOsWH+5y4lfGLMrbpUQAaQ4qMpA9gKHe9pfPry3S9Ysvel/0pwqUsJvaWE88vJqKYPj2EBO84zwVyScedM7R8sJTREkLKyxRcxsls5ofVD7Sd5vaPjMP89V52xiy1wLWsneR3pOCD55NTcTlD7OuhWRhvYHLYyRq+Q1b4dvbmYTT57+XuUiEHUrYg2qLS0cdqSyzDnxJOeORNvmbglTAdXRJtomGhb+gnPS7lbyG5H+WCGad2nYLSZaLtu/e79shyR+fCRqla2ftIY2ZlqdytkY0lCFTvPekJL2XrCkmxPHzXvypAtylYWmugaFbJd3Y9mmKSm5Xt/y6Du28BXWvjM9L2oHUfELnvhlKbKI/N3Un6oWlI3wgvT/h7WIDTrTUua1kF+UvVpcjWlqepkC1OyNGJOxyZdEnOcAH7w0HeQKJ8814cNAQ7xAA6cdNUU+g3vDey8IQNI6AAAAABJRU5ErkJggg=="},1784:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADRSURBVHgB3VK7DcIwEL2X0EOLaLIBbJCwAYxAA3SwAcoIdAghITbICEZiD9wBFSxgH+cIF4lIIoWOV/ikex9b8iP6AXDHfRFfZURgeskms8ac+oeL8qLbMhHOrkQ+cTq3Y4OxN/OXYM3WpggwFNO6TAo361A1IgTBsYanoI40jKl7QSvzYK8yZj63MjfhX80AulVc3T/TYx4/pT29BjNv5Q5pUi4ceZJRNLr6yk7L1ByGCuU012MZCZg39OmxQDGQ9ndKFcKoAnmIoYRC0mWTxxvRakPLz0XtsQAAAABJRU5ErkJggg=="},1801:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAARCAYAAAACCvahAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFUSURBVHgBpZI9S8NAGMf/dyapSUq7qDiUIji7COLky+as4Gx3Bb+Djn4EQfwA4qaCm0KXLg6li1AUtWCbIiptbZJLHi/xNbZpK/3BvTzH87vn7jhgCFjQ7eRrOc7ZlgyNbkmu8OxiubJ9nJu97JB389Y9Y8jEVXBcgdJNpckYrR9tzJ19rfNwhx7iTwmYROx09aCwFJH7oSkKUob+IXB+snZYWAzmCgZkOjOBtuMCBNMnf08uzQ8sB4xqaiSOlZezJrIpFbWWQLUpYAtC+dmB7dF3Du8uGhjTR3Bx1wzHpMqhqwypRDQ9EukyaSFjyIpaGM+MJ0Jh0lTw8OrCannxclrjaLg+6vKoaSmNcIb6m4fz2waqf8SOOz/KuwXt6rPqVFpFyXLwYvvoRuyDFS07bL0Y6JN0QL9lwjX+A6OnYAiPLbhYUUjZlNNkP48I1Tbj+xiWd3zIb66gtz8RAAAAAElFTkSuQmCC"},2326:function(e,a,t){},2733:function(e,a,t){"use strict";t.r(a);t(67);var r=t(28),s=t.n(r),c=t(3),i=t.n(c),n=t(7),l=t(9),m=t(12),o=t(11),u=t(10),d=(t(178),t(82)),A=t.n(d),p=t(0),g=t.n(p),y=(t(2326),t(522)),N=t(75),f=t(111),E=A.a.TreeNode,h=(localStorage.getItem("userInfo")&&JSON.parse(localStorage.getItem("userInfo")).user.id,[1,4,6]),v=function(e){Object(o.a)(r,e);var a=Object(u.a)(r);function r(){var e;Object(l.a)(this,r);for(var t=arguments.length,s=new Array(t),c=0;c<t;c++)s[c]=arguments[c];return(e=a.call.apply(a,[this].concat(s))).state={courseTree:[],resourceId:"",resourceDetail:{}},e.goBack=function(){e.props.history.goBack()},e}return Object(m.a)(r,[{key:"componentDidMount",value:function(){var e=this.props.location.search.split("?")[1],a=e.includes("%")?decodeURI(e):e,t=JSON.parse(a);this.getOne(t.resourceId),this.setState({courseTree:t.courseTree,resourceId:t.resourceId})}},{key:"getOne",value:function(){var e=Object(n.a)(i.a.mark((function e(a){var t,r=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.g)({id:a});case 2:t=e.sent,this.setState({resourceDetail:t,resourceId:t.id},(function(){r.getFileUrl()}));case 4:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"getCutOne",value:function(){var e=Object(n.a)(i.a.mark((function e(a){var t,r,c,n=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==a.belongType){e.next=8;break}return e.next=3,Object(y.g)({id:a.id});case 3:t=e.sent,N.a.isEmpty(document.getElementById("previewIframe"))||(document.getElementById("previewIframe").innerHTML=""),this.setState({resourceDetail:t,resourceId:t.id},(function(){n.getFileUrl()})),e.next=9;break;case 8:2===a.belongType?(r=new Date,c=new Date(a.studyFromTime),r<c?s.a.info({title:"\u63d0\u793a",content:"\u4f5c\u4e1a\u672a\u5f00\u59cb"}):1===a.homeworkStatus||2===a.homeworkStatus?this.props.history.push("/operation-begin/".concat(a.id)):3===a.homeworkStatus&&1===a.dealStatus?this.props.history.push("/my-operation/operation-reviewed/".concat(a.id)):3===a.homeworkStatus&&2===a.dealStatus?this.props.history.push("/my-operation/operation-message/".concat(a.id)):s.a.info({title:"\u63d0\u793a",content:"\u4f5c\u4e1a\u5df2\u7ed3\u675f"})):s.a.info({title:"\u63d0\u793a",content:"\u8bf7\u524d\u5f80\u624b\u673a\u7aef\u8fdb\u5165\u8bfe\u5802"});case 9:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"getFileUrl",value:function(){var e=this.state.resourceDetail;if(5===e.mediaType||4===e.mediaType){var a=document.getElementById("previewVideo");a.src="".concat(f.f,"/").concat(e.filePath),a.play()}else if(9===e.mediaType){var t=document.createElement("iframe"),r={content:e.content,resourceName:e.resourceName};t.src="/#/teching/safety-check?".concat(encodeURI(JSON.stringify(r))),t.width="100%",t.height="680px",t.parmas=r,document.getElementById("previewIframe").appendChild(t)}else if(1===e.mediaType||8===e.mediaType||99===e.mediaType){window.location.host;var s=document.createElement("iframe");if(s.src="".concat(f.b,"furl=").concat(f.d,"/api/media/api/v1/media/download/").concat(e.fileId),s.width="100%",s.height="680px",N.a.isEmpty(s)||N.a.isEmpty(document.getElementById("previewIframe"))||document.getElementById("previewIframe").appendChild(s),e&&e.fileName){var c=e.fileName.split("."),i=c.length-1,n=c&&c.length>0?c[i]:"";-1!==f.h.indexOf(n)?document.getElementById("previewIframe").style.background="#ffffff":"pdf"==n&&(document.getElementById("previewIframe").style.background="#E6E6E6")}}}},{key:"render",value:function(){var e=this,a=this.state,r=a.courseTree,s=a.resourceDetail,c=a.resourceId,i=function(e){if(!N.a.isEmpty(e))return g.a.createElement("div",null,2===e.belongType?g.a.createElement("img",{className:"user-img",src:t(1801),alt:""}):3===e.belongType?g.a.createElement("img",{className:"user-img",src:t(1784),alt:""}):1===e.mediaType?g.a.createElement("img",{className:"user-img",src:t(525),alt:""}):2===e.mediaType?g.a.createElement("img",{className:"user-img",src:t(533),alt:""}):3===e.mediaType?g.a.createElement("img",{className:"user-img",src:t(526),alt:""}):4===e.mediaType?g.a.createElement("img",{className:"user-img",src:t(534),alt:""}):5===e.mediaType?g.a.createElement("img",{className:"user-img",src:t(527),alt:""}):6===e.mediaType?g.a.createElement("img",{className:"user-img",src:t(528),alt:""}):7===e.mediaType?g.a.createElement("img",{className:"user-img",src:t(529),alt:""}):8===e.mediaType?g.a.createElement("img",{className:"user-img",src:t(530),alt:""}):9===e.mediaType?g.a.createElement("img",{className:"user-img",src:t(531),alt:""}):99===e.mediaType?g.a.createElement("img",{className:"user-img",src:t(524),alt:""}):0===e.mediaType?g.a.createElement("img",{className:"user-img",src:t(1763),alt:""}):"")},n=window.localStorage.userInfo&&JSON.parse(localStorage.userInfo).user.userMark;console.log(h.indexOf(n));return g.a.createElement("div",{className:"my-learn-details-show"},g.a.createElement("div",{className:"details-show-pic"},g.a.createElement("div",{className:"top"},g.a.createElement("span",{className:"img",style:{width:"80px"}},g.a.createElement("a",{className:"preview-f",onClick:this.goBack.bind(this)},g.a.createElement("img",{src:t(521),alt:"",style:{float:"left"}}),g.a.createElement("span",{className:"text-back",style:{float:"left",fontSize:"18px",color:"#2A283D"}},"\u8fd4\u56de"))),s.resourceName),g.a.createElement("div",{className:"preview-box preview-box-l clearfix"},g.a.createElement("div",{className:"left clearfix"},5===s.mediaType?g.a.createElement("video",{width:"100%",height:"680",id:"previewVideo",src:"",controls:"controls",controlsList:"nodownload"}):4===s.mediaType?g.a.createElement("audio",{id:"previewVideo",src:"",controls:"controls",controlsList:"nodownload",className:"preview_audio"}):6===s.mediaType?g.a.createElement("embed",{src:"/api/media/api/v1/media/getMedia/".concat(s.fileId,"/").concat(s.resourceName)}):3===s.mediaType?g.a.createElement("img",{src:"/api/media/api/v1/media/getMedia/".concat(s.fileId),alt:"",className:"preview_img"}):g.a.createElement("div",{id:"previewIframe"})),g.a.createElement("div",{className:"right clearfix"},g.a.createElement("span",{className:"span"},"\u8bfe\u7a0b\u76ee\u5f55:"),g.a.createElement("div",{className:"Catalogue-pic"},g.a.createElement("div",{className:"Catalogue-pic-tree"},r&&r.length>0?g.a.createElement(A.a,{defaultExpandAll:!0},function a(t){return t.map((function(t){return!N.a.isEmpty(t)&&t.hasOwnProperty("children")&&t.children?0===t.seniorId?g.a.createElement(E,{className:"TreeNode",key:t.id,title:g.a.createElement("div",{className:"TreeIcon"},g.a.createElement("span",{className:"title",style:{marginRight:10},title:t.catalogName},t.catalogName))},t.courseCenterResourceVoList.map((function(a,t){return g.a.createElement(E,{className:"ResourceTreeNode",key:t,title:g.a.createElement("div",{className:"TreeIcon"},i(a),g.a.createElement("span",{className:"title1",style:{marginRight:10},onClick:function(){return e.getCutOne(a)},title:a.resourceName},a.resourceName,h.indexOf(n)>-1?a.id===c?g.a.createElement("i",{className:"i"},"\u6b63\u5728\u5b66"):g.a.createElement("i",{className:"i"},a.studyProgressSum?a.studyProgressSum+"%":"0%"):null))})})),a(t.children)):g.a.createElement(E,{className:"TreeNode",key:t.id,title:g.a.createElement("div",{className:"TreeIcon"},g.a.createElement("span",{className:"title",style:{marginRight:10},title:t.catalogName},t.catalogName))},t.courseCenterResourceVoList.map((function(a,t){return g.a.createElement(E,{className:"ResourceTreeNode",key:t,title:g.a.createElement("div",{className:"TreeIcon"},i(a),g.a.createElement("span",{className:"title1",style:{marginRight:10},onClick:function(){return e.getCutOne(a)},title:a.resourceName},a.resourceName,h.indexOf(n)>-1?g.a.createElement("span",null,a.id===c?g.a.createElement("i",{className:"i"},"\u6b63\u5728\u5b66"):g.a.createElement("i",{className:"i"},a.studyProgressSum?a.studyProgressSum+"%":"0%")):null))})})),a(t.children)):(t.seniorId,g.a.createElement(E,{className:"TreeNode",key:t.id,title:g.a.createElement("div",{className:"TreeIcon"},g.a.createElement("span",{className:"title",style:{marginRight:10},title:t.catalogName},t.catalogName))},t.courseCenterResourceVoList.map((function(a,t){return g.a.createElement(E,{className:"ResourceTreeNode",key:t,title:g.a.createElement("div",{className:"TreeIcon"},i(a),g.a.createElement("span",{className:"title1",style:{marginRight:10},onClick:function(){return e.getCutOne(a)},title:a.resourceName},a.resourceName,h.indexOf(n)>-1?a.id===c?g.a.createElement("i",{className:"i"},"\u6b63\u5728\u5b66"):g.a.createElement("i",{className:"i"},a.studyProgressSum?a.studyProgressSum+"%":"0%"):null))})}))))}))}(r)):null))))))}}]),r}(p.Component);a.default=v}}]);