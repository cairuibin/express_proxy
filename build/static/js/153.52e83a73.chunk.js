(this.webpackJsonpzjyz_admin=this.webpackJsonpzjyz_admin||[]).push([[153],{2697:function(e,t,a){"use strict";a.r(t);a(41);var n,s=a(8),r=a.n(s),l=(a(1883),a(1888)),o=a.n(l),c=(a(109),a(72)),i=a.n(c),m=(a(45),a(6)),u=a.n(m),d=(a(135),a(73)),p=a.n(d),f=(a(97),a(14)),h=a.n(f),E=(a(155),a(53)),g=a.n(E),y=(a(40),a(5)),b=a.n(y),k=(a(43),a(2)),v=a.n(k),x=(a(79),a(30)),F=a.n(x),C=a(98),D=a(1861),S=(a(74),a(17)),N=a.n(S),T=a(244),O=a(20),w=(a(54),a(15)),L=a.n(w),I=a(3),M=a.n(I),_=a(7),j=a(9),A=a(12),V=a(52),z=a(11),R=a(10),q=(a(67),a(28)),G=a.n(q),B=(a(1884),a(1886)),J=a.n(B),P=a(0),U=a.n(P),H=a(35),W=a(182),Y=a(102),K=a(27),Q=a(181),X=(a(1885),a(93)),Z=a(2015),$=a(1887),ee=a.n($),te=a(2016),ae=a(2017),ne=a(2018),se=a(2019),re=a(241),le=a(1948),oe=a(242),ce=a(136),ie=J.a.Paragraph,me=ee()(),ue=G.a.confirm,de=Object(H.g)(n=function(e){Object(z.a)(a,e);var t=Object(R.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={similarList:[],checkedSimilar:{},checkedIndex:0,testRealMap:{},AnalyzeTestModal:!1,testBasketIdList:[],testBasketMax:0,examDetail:{},structureVo:{},courseExamTestFormList:[],visible:!1,checked:[],str:"1\u3001\u586b\u5199\u7b54\u9898\u5361\u7684\u5185\u5bb9\u75282B\u94c5\u7b14\u586b\u5199 \n2\u3001\u63d0\u524d xx \u5206\u949f\u6536\u53d6\u7b54\u9898\u5361",childTit:"\u6570\u5b66\u9898",templateValue:"",testId:"",resourceId:"",testDetailListData:[],topicValue:1,subSection:[],subSectionMap:{},testForm:[],testFormMap:{},testDiffMap:{},testDiff:[],template:[],totalScore:[],whetherClick:!0,scoreOne:{score:"",testForm:"",index:"",index1:"",index2:""},scoreAll:{allNum:"",testForm:"",index:"",index1:""},transfer:{lists:{},testForm:"",index:"",index1:"",index2:""},testPointNameStr:"",topicGradeModal:!1,transferModal:!1,questionsErrorModal:!1,typeflag:1,bool:!0,oldTest:{},list:["<h1>java</h1>","php","python"],paramData:"",historyType:"",randomkey:e.randomkey()},e.testChange=function(t){var a=t.target.value;e.setState({checkedSimilar:e.state.similarList[a],checkedIndex:a})},e.collectChangeTo=function(){var t=Object(_.a)(M.a.mark((function t(a){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(Q.a)({userId:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")).user.id:"",resourceId:a}).then((function(t){var a=e.state,n=a.similarList,s=a.checkedSimilar,r=a.checkedIndex;"0"===s.collectFlag?s.collectFlag="1":"1"===s.collectFlag&&(s.collectFlag="0"),n[r]=s,e.setState({checkedSimilar:s,similarList:n})}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.testDiffFilter=function(t){return e.state.testDiffMap[t]},e.testRealFilter=function(t){return e.state.testRealMap[t]},e.analyzeTestModal=function(){e.setState({AnalyzeTestModal:!0})},e.analyzeTestCancelModal=function(){e.setState({AnalyzeTestModal:!1})},e.collectChange=function(){var t=Object(_.a)(M.a.mark((function t(a){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Q.a)({userId:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")).user.id:"",resourceId:a});case 2:e.getExamDetail();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.structure=function(){var t=e.state,a=t.structureVo,n=t.examDetail;void 0==a.firstSubsectionDesc&&(a.firstSubsectionDesc="\u7b2c\u2160\u5377\u7684\u6ce8\u91ca"),void 0==a.firstSubsectionTitle&&(a.firstSubsectionTitle=""),void 0==a.secondSubsectionDesc&&(a.secondSubsectionDesc="\u7b2cII\u5377\u7684\u6ce8\u91ca"),void 0==a.secondSubsectionTitle&&(a.secondSubsectionTitle="\u7b2cII\u5377 \u4e3b\u89c2\u9898"),n.structureVo=a;var s=[];1===a.sealingLineDisplayFlag&&s.push("1"),1===a.scoreAreaDisplayFlag&&s.push("2"),1===a.attentionDisplayFlag&&s.push("3"),1===a.subtitleDisplayFlag&&s.push("4"),1===a.subsectionFlag&&s.push("5"),1===a.examTimeDisplayFlag&&s.push("6"),1===a.studentInfoFlag&&s.push("7"),1===a.formFlag&&s.push("8"),1===a.totalScoreDisplayFlag&&s.push("9"),e.setState({checked:s,examDetail:n}),void 0!=a.attention&&e.setState({str:a.attention})},e.goBack=function(){me.goBack()},e.handleChange=function(t){var a=e.state.template,n={};a.forEach((function(e){e.id===t&&(n=e.structure)}));var s=e.state.examDetail.structureVo;s.sealingLineDisplayFlag=n.sealingLineDisplayFlag,s.scoreAreaDisplayFlag=n.scoreAreaDisplayFlag,s.attentionDisplayFlag=n.attentionDisplayFlag,s.subtitleDisplayFlag=n.subtitleDisplayFlag,s.subsectionFlag=n.subsectionFlag,s.examTimeDisplayFlag=n.examTimeDisplayFlag,s.studentInfoFlag=n.studentInfoFlag,s.formFlag=n.formFlag,s.totalScoreDisplayFlag=n.totalScoreDisplayFlag,s.totalScoreDisplayFlag=n.totalScoreDisplayFlag,s.totalScoreDisplayFlag=n.totalScoreDisplayFlag;var r=e.state.examDetail;Object(W.s)(s).then((function(a){e.setState({templateValue:t,structureVo:s},(function(){e.structure(),r.templateId=n.refId,Object(W.q)(r).then((function(t){e.setState({examDetail:r})}))}))}))},e.onChange=function(t){var a=e.state.structureVo;t.includes("1")?a.sealingLineDisplayFlag=1:a.sealingLineDisplayFlag=0,t.includes("2")?a.scoreAreaDisplayFlag=1:a.scoreAreaDisplayFlag=0,t.includes("3")?a.attentionDisplayFlag=1:a.attentionDisplayFlag=0,t.includes("4")?a.subtitleDisplayFlag=1:a.subtitleDisplayFlag=0,t.includes("5")?a.subsectionFlag=1:a.subsectionFlag=0,t.includes("6")?a.examTimeDisplayFlag=1:a.examTimeDisplayFlag=0,t.includes("7")?a.studentInfoFlag=1:a.studentInfoFlag=0,t.includes("8")?a.formFlag=1:a.formFlag=0,t.includes("9")?a.totalScoreDisplayFlag=1:a.totalScoreDisplayFlag=0,Object(W.s)(a).then((function(n){var s=e.state.examDetail;s.structureVo=a,e.setState({examDetail:s,checked:t,structureVo:a})}))},e.onChildChange=function(t,a){if(""!==a&&null!==a){var n=e.state.examDetail;1==t?(n.title=a,Object(W.q)(n).then((function(t){e.setState({examDetail:n})}))):2==t?(n.structureVo.subtitle=a,Object(W.s)(n.structureVo).then((function(t){e.setState({examDetail:n})}))):3==t?(n.structureVo.attention=a,Object(W.s)(n.structureVo).then((function(t){e.setState({examDetail:n,str:a})}))):4==t?(n.structureVo.examTime=a,Object(W.s)(n.structureVo).then((function(t){e.setState({examDetail:n})}))):5==t&&(n.structureVo.testFormName=a,Object(W.s)(n.structureVo).then((function(t){e.setState({examDetail:n})})))}},e.onChildChangeSubsection=function(t,a,n){if(""!==n&&null!==n){var s=e.state.examDetail;1==t?0==a?s.structureVo.firstSubsectionDesc=n:s.structureVo.secondSubsectionDesc=n:(t=2)&&(0==a?s.structureVo.firstSubsectionTitle=n:s.structureVo.secondSubsectionTitle=n),Object(W.s)(s.structureVo).then((function(t){e.setState({examDetail:s})}))}},e.onChildChangeForm=function(t,a,n,s){if(""!==s&&null!==s){var r=e.state.testDetailListData;1==t&&(r[a][n].testFormName=s,Object(W.o)(r[a]).then((function(t){e.setState({testDetailListData:r})})))}},e.linkToComplete=function(){var t=Object(V.a)(e);""!=t.state.examDetail.title&&null!=t.state.examDetail.title?e.setState({addTestModal:!0,randomkey:e.randomkey()}):L.a.error("\u8bd5\u5377\u6807\u9898\u4e0d\u80fd\u4e3a\u7a7a")},e.analyzeModal=function(){e.setState({analyzeModal:!0})},e.analyzeCancel=function(){e.setState({analyzeModal:!1})},e.showDrawer=function(t,a,n,s){var r=t.testId,l=t.resourceId,o={index:a,index1:n,index2:s};e.setState({oldTest:o,visible:!0,testId:r,resourceId:l},(function(){e.getSimilarList(),e.getTestPoint()}))},e.onReplaceTest=function(t){var a=e.state.testDetailListData,n=a[e.state.oldTest.index][e.state.oldTest.index1].courseExamTestList[e.state.oldTest.index2];n.testId=t.id,n.isCollect=t.collectFlag,n.resourceId=t.resourceId,n.stem=t.stem,n.testForm=t.testForm,a[e.state.oldTest.index][e.state.oldTest.index1].courseExamTestList[e.state.oldTest.index2]=n,Object(W.n)(a[e.state.oldTest.index][e.state.oldTest.index1].courseExamTestList).then((function(t){e.setState({testDetailListData:e.state.testDetailListData,visible:!1},(function(){e.resetExamTestForm()}))}))},e.onClose=function(){e.setState({visible:!1})},e.clearscoreOnevalue=function(){e.state.scoreOne;e.setState((function(){return{scoreOne:{score:""}}}))},e.gradeShowModal=function(t,a,n,s,r,l){var o=e.state.scoreOne;o.score=a,o.testForm=t,o.index=n,o.index1=s,o.index2=r,o.index3=l,e.setState({topicGradeModal:!0,scoreOne:o})},e.topicGradeCancel=function(){e.setState({topicGradeModal:!1})},e.topicGradeCancelOne=function(){e.state.whetherClick&&e.setState({whetherClick:!1},(function(){var t=e.state,a=t.scoreOne,n=t.testDetailListData;e.SmallTopicSetGradeForm.props.form.validateFields((function(t,s){if(!t){n[a.index][a.index1].courseExamTestList[a.index2].score=s.score;var r=[],l=n[a.index][a.index1].courseExamTestList[a.index2],o=n[a.index][a.index1].testFormId;l&&(1==o||2==o||3==o||4==o||9==o?r.push(l.testId):l.courseTestOtherVo[a.index3]&&r.push(l.courseTestOtherVo[a.index3].id));var c=Object(O.a)(Object(O.a)({},s),{},{testIdList:r,basketId:e.state.examDetail.id});Object(W.a)(c).then((function(t){var a=Object(V.a)(e);setTimeout((function(){a.setState({whetherClick:!0})}),1e3),e.setState((function(){return{topicGradeModal:!1,scoreOne:{score:""},testDetailListData:e.state.testDetailListData}}),(function(){e.getExamDetail()}))}))}}))}))},e.questionsErrorShowModal=function(t){e.setState({questionsErrorModal:!0,testId:t})},e.questionsErrorCancel=function(){e.setState({questionsErrorModal:!1})},e.transferShowModal=function(t,a,n,s){var r={testForm:t.testFormId,lists:t.courseExamTestList[a],index:s,index1:n,index2:a};e.setState({transferModal:!0,transfer:r})},e.transferCancel=function(){e.setState({transferModal:!1})},e.transferCancelGet=function(){var t=e.state.transfer,a=e.TransFerForm.getValue().split("_");e.state.testDetailListData[t.index][t.index1].courseExamTestList.splice(t.index2,1),e.state.testDetailListData[a[0]][a[1]].courseExamTestList.push(t.lists),e.setState({transferModal:!1,testDetailListData:e.state.testDetailListData})},e.gradeModal=function(t,a,n){var s=e.state.scoreAll;s.index=t,s.index1=a,s.index2=n,s.testForm=e.state.testDetailListData[t][a].testFormId,"8"==s.testForm||"7"==s.testForm||"6"==s.testForm||"5"==s.testForm?s.allNum=e.state.testDetailListData[t][a].courseExamTestList[n].courseTestOtherVo.length:s.allNum=e.state.testDetailListData[t][a].courseExamTestList.length,e.setState({gradeModal:!0,scoreAll:s,randomkey:e.randomkey()})},e.gradeCancel=function(){e.setState({gradeModal:!1})},e.setAllScore=function(){e.state.whetherClick&&e.setState({whetherClick:!1},(function(){e.SetGradeForm.props.form.validateFields((function(t,a){if(!t){var n,s=e.state.scoreAll,r=e.SetGradeForm.numebe(),l=Object(T.a)(e.state.testDetailListData[s.index][s.index1].courseExamTestList);try{for(l.s();!(n=l.n()).done;){n.value.score=r.text}}catch(t){l.e(t)}finally{l.f()}var o=[];if(e.state.testDetailListData[s.index][s.index1]){var c=e.state.testDetailListData[s.index][s.index1].courseExamTestList;if(c&&c.length>0){var i=e.state.testDetailListData[s.index][s.index1].testFormId;if(1==i||2==i||3==i||4==i||9==i)c.map((function(e){return o.push(e.testId)}));else{var m=c[s.index2].courseTestOtherVo;m&&m.length>0&&m.map((function(e){return o.push(e.id)}))}}}var u=Object(O.a)(Object(O.a)({},a),{},{testIdList:o,basketId:e.state.examDetail.id});Object(W.a)(u).then((function(t){var a=Object(V.a)(e);setTimeout((function(){a.setState({whetherClick:!0})}),1e3),e.setState({gradeModal:!1,testDetailListData:e.state.testDetailListData,randomkey:e.randomkey()},(function(){e.getExamDetail()}))}))}}))}))},e.delTestForm=function(t,a){var n=Object(V.a)(e);ue({title:"\u8b66\u544a",content:"\u8be5\u5927\u9898\u5220\u9664\u540e\u4e0d\u80fd\u6062\u590d,\u662f\u5426\u7ee7\u7eed\uff1f",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",className:"ModalConfirm",onOk:function(){var e=n.state.testDetailListData;n.state.courseExamTestFormList.splice(n.state.courseExamTestFormList.findIndex((function(n){return n.id===e[t][a].id})),1),e[t].splice(a,1),n.setState({testDetailListData:e},(function(){n.resetExamTestForm(),Object(W.p)(n.state.examDetail).then((function(e){L.a.success("\u5220\u9664\u6210\u529f\uff01"),n.getExamDetail()}))}))},onCancel:function(){}})},e.delTest=function(t,a,n,s){var r=Object(V.a)(e);ue({title:"\u8b66\u544a",content:"\u8be5\u9898\u5220\u9664\u540e\u4e0d\u80fd\u6062\u590d,\u662f\u5426\u7ee7\u7eed\uff1f",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",className:"ModalConfirm",onOk:function(){var e=r.state.testDetailListData,l=e[t][a].testFormId;8==l||7==l||6==l||5==l?e[t][a].courseExamTestList[n].courseTestOtherVo.splice(s,1):e[t][a].courseExamTestList.splice(n,1),r.setState({testDetailListData:e},(function(){r.resetExamTestForm(),Object(W.p)(r.state.examDetail).then((function(e){L.a.success("\u5220\u9664\u6210\u529f\uff01"),r.getExamDetail()}))}))},onCancel:function(){}})},e.rankModal=function(){e.setState({rankModal:!0})},e.rankCancel=function(){e.setState({rankModal:!1})},e.rankCancelGet=function(){e.state.whetherClick&&e.setState({whetherClick:!1},(function(){var t,a=e.state.testDetailListData,n=e.TestRankForm.getValue(),s=Object(T.a)(n.checkValue);try{for(s.s();!(t=s.n()).done;){var r=t.value.split("_");a[r[0]][r[1]].courseExamTestList=a[r[0]][r[1]].courseExamTestList.sort(e.arraySort("difficulty",n.raValue)),a[r[0]][r[1]].courseExamTestList.forEach((function(e,t){e.displayOrder=t})),Object(W.n)(a[r[0]][r[1]].courseExamTestList).then((function(t){0==t.code&&e.setState({tmpTestDetailListData:a})}))}}catch(o){s.e(o)}finally{s.f()}var l=Object(V.a)(e);setTimeout((function(){l.setState({whetherClick:!0})}),1e3),e.setState({testDetailListData:a,rankModal:!1})}))},e.arraySort=function(e,t){return function(a,n){var s=a[e],r=n[e];return 2===t?r-s:s-r}},e.analysisShowModal=function(t){e.setState({analysisModal:!0,testId:t})},e.analysisCancelModal=function(){e.setState({analysisModal:!1})},e.subSectionFilter=function(t){var a=t+1;return e.state.subSectionMap[a]},e.testFormFilter=function(t){return e.state.testFormMap[t]},e.errorTestSave=function(){e.state.whetherClick&&e.setState({whetherClick:!1},(function(){e.ErrorTestForm.props.form.validateFields((function(t,a){if(!t){var n=e.ErrorTestForm.getItemsValue(),s={errorTypeList:n.patternValue.map((function(e){return{errorType:e}})),errorMemo:n.errorMemo,testId:e.state.testId};Object(Y.b)(s).then((function(t){e.ErrorTestForm.resetFields(),e.setState({questionsErrorModal:!1}),L.a.success("\u63d0\u4ea4\u6210\u529f\uff01");var a=Object(V.a)(e);setTimeout((function(){a.setState({whetherClick:!0})}),1e3)}))}}))}))},e.numFilter=function(t,a){a>0&&(t+=e.state.testDetailListData[a-1].length),t=Number(t);var n=["\u96f6","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u767e","\u5343","\u4e07","\u4ebf"],s=String(t).length;return 1===s?n[t]:2===s?10===t?n[t]:t>10&&t<20?"\u5341"+n[String(t).charAt(1)]:n[String(t).charAt(0)]+"\u5341"+n[String(t).charAt(1)].replace("\u96f6",""):void 0},e.getStemzh=function(e,t){if("2"===e.testForm){return U.a.createElement("span",{className:"titleTwo"},e.stem.replace(/___.*?___/g,"______"))}return U.a.createElement("span",{className:"titleTwo"},t+1,". ",e.stem)},e.getStem=function(e){if("2"===e.testForm){return U.a.createElement("span",{className:"ospan-2"},e.stem.replace(/___.*?___/g,"______"))}return"9"==e.testForm?U.a.createElement("div",{className:"odiv-9"},e.stem):U.a.createElement("p",{className:"ospan-9"},U.a.createElement("div",null,e.stem),e.testChooseAnwserList.length>0&&"4"===e.testForm?U.a.createElement("span",{style:{fontSize:"14px",color:"#999",marginRight:"20px"}},U.a.createElement("span",null,e.testChooseAnwserList[0].optionName||"A",".")," ",U.a.createElement("span",null,e.testChooseAnwserList[0].memo),U.a.createElement("span",null,e.testChooseAnwserList[1].optionName||"B",".")," ",U.a.createElement("span",null,e.testChooseAnwserList[1].memo)):"")},e.getStem1=function(t,a,n,s,r,l,o){var c=s.testForm,i=8==c||7==c||6==c||5==c?U.a.createElement("span",null,r+1,".",a+1+".\u3010"+(t.score?t.score:0)+"\u5206\u3011("+e.testFormFilter(t.testForm),")"):U.a.createElement("span",null,a+1+".("+e.testFormFilter(t.testForm),")iooioioi");if("2"===t.testForm){return U.a.createElement("p",{className:"text-item"},i,U.a.createElement("span",null,t.stem.replace(/___.*?___/g,"______")),U.a.createElement("div",{className:"group-location"},U.a.createElement("span",{className:"group-item",onClick:function(){return e.analysisShowModal(s.testId)}},U.a.createElement(N.a,{type:"read"}),"\u7b54\u6848\u89e3\u6790"),U.a.createElement("span",{className:"group-item",onClick:function(){e.gradeShowModal(c,t.score,o,l,r,a)}},U.a.createElement(N.a,{type:"line-chart"}),"\u8bbe\u5b9a\u5f97\u5206"),U.a.createElement("span",{className:"group-item",onClick:function(){return e.collectChange(s.resourceId)}},U.a.createElement(N.a,{type:"heart"}),0===t.isCollect?"\u6536\u85cf":"\u53d6\u6d88\u6536\u85cf"),U.a.createElement("span",{className:"group-item",onClick:function(){return e.questionsErrorShowModal(s.testId)}},U.a.createElement(N.a,{type:"file-exclamation"}),"\u7ea0\u9519"),U.a.createElement("span",{className:"group-item",onClick:function(){return e.delTest(o,l,r,a)}},U.a.createElement(N.a,{type:"delete"}),"\u5220\u9664")))}return U.a.createElement("p",{className:"text-item"},i,U.a.createElement("span",{dangerouslySetInnerHTML:{__html:t.stem}}),U.a.createElement("div",{className:"group-location"},U.a.createElement("span",{className:"group-item",onClick:function(){return e.analysisShowModal(t.testId)}},U.a.createElement(N.a,{type:"read"}),"\u7b54\u6848\u89e3\u6790"),U.a.createElement("span",{className:"group-item",onClick:function(){return e.gradeShowModal(c,t.score,o,l,r,a)}},U.a.createElement(N.a,{type:"line-chart"}),"\u8bbe\u5b9a\u5f97\u5206"),U.a.createElement("span",{className:"group-item",onClick:function(){return e.collectChange(s.resourceId)}},U.a.createElement(N.a,{type:"heart"}),0===t.isCollect?"\u6536\u85cf":"\u53d6\u6d88\u6536\u85cf"),U.a.createElement("span",{className:"group-item",onClick:function(){return e.questionsErrorShowModal(s.testId)}},U.a.createElement(N.a,{type:"file-exclamation"}),"\u7ea0\u9519"),U.a.createElement("span",{className:"group-item",onClick:function(){return e.delTest(o,l,r,a)}},U.a.createElement(N.a,{type:"delete"}),"\u5220\u9664")))},e.getStem2=function(t,a,n,s){var r=8==s?U.a.createElement("span",null,"sdddddddddddddddddd",a+1+".\u3010"+(t.score?t.score:0)+"\u5206\u3011("+e.testFormFilter(t.testForm),")"):U.a.createElement("span",null,a+1+".("+e.testFormFilter(t.testForm),")");if("2"===t.testForm){return U.a.createElement("p",{className:"op-2"},r,U.a.createElement("span",{dangerouslySetInnerHTML:{__html:t.stem.replace(/___.*?___/g,"______")}}))}return U.a.createElement("p",{className:"op-stemExam-2"},r,U.a.createElement("span",null,t.stem))},e.errorTestModal=function(){e.setState({ErrorTestModal:!0})},e.errorTestCancel=function(){e.setState({ErrorTestModal:!1})},e.copytobasket=function(){var t=Object(V.a)(e);ue({title:"\u91cd\u8981\u63d0\u793a",content:"\u8be5\u64cd\u4f5c\u9700\u8981\u6e05\u7a7a\u8bd5\u9898\u7bee\u540e\u590d\u5236\u8bd5\u5377\u5230\u8bd5\u9898\u7bee\uff0c\u662f\u5426\u7ee7\u7eed\uff1f",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",className:"ModalConfirm",onOk:function(){t.resetExamTestForm(),Object(W.c)(t.state.examDetail).then((function(e){L.a.success("\u590d\u5236\u8bd5\u5377\u6210\u529f\u6b63\u5728\u8df3\u8f6c..."),t.goSelectExam()}))},onCancel:function(){}})},e.onDragStart=function(t,a,n,s,r){e.index2=a,e.index1=n,e.index=s,e.type=r,e.dom=t,e.oldindex=s,e.oldindex1=n},e.dragenter=function(e){},e.onDrop=function(){},e.addTestCancel=function(){e.setState({addTestModal:!1})},e.courseTestSave=function(){e.state.whetherClick&&e.setState({whetherClick:!1},(function(){var t=e.state.paramData;e.AddTestForm.props.form.validateFields((function(a,n){if(!a){e.state.resourceId,e.AddTestForm.getItemsValue();var s=e.state.examDetail;(s=Object.assign(s,n)).confSubjectId=n.courseId,Object(W.b)(s).then((function(a){e.setState({addTestModal:!1,randomkey:e.randomkey()});var n=Object(V.a)(e);setTimeout((function(){n.setState({whetherClick:!0})}),1e3),L.a.success("\u4f5c\u4e1a\u521b\u5efa\u5b8c\u6210"),t?e.props.history.push("/teching/complete-test?"+t):e.props.history.push("/teching/question-bank")}))}}))}))},e}return Object(A.a)(a,[{key:"componentWillMount",value:function(){var e,t,a,n=this.props.location.search,s="";if(n){a=(e=n.split("?")[1]).includes("%")?decodeURI(e):e;var r="";(t=JSON.parse(a)).paramData&&(s=(r=t.paramData.includes("%")?decodeURI(t.paramData):t.paramData)?JSON.parse(r).xzType:""),this.state.historyType=s}this.template(),this.subSection({groupName:"subSection"}),this.testForm({groupName:"testForm"}),this.testDiff({groupName:"testDiff"}),this.testReal({groupName:"testReal"})}},{key:"testReal",value:function(){var e=Object(_.a)(M.a.mark((function e(t){var a,n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.o)(t);case 2:a=e.sent,n={},a.forEach((function(e){n[e.value]=e.title})),this.setState({testRealMap:n});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSimilarList",value:function(){var e=Object(_.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Y.f)({testId:this.state.testId,testNum:3});case 2:t=e.sent,this.setState({similarList:t,checkedIndex:0,checkedSimilar:t.length>0?t[0]:{}});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTestPoint",value:function(){var e=Object(_.a)(M.a.mark((function e(){var t,a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.v)({resourceId:this.state.resourceId});case 2:t=e.sent,a=t.map((function(e){return e.pointName})).join(","),this.setState({testPointNameStr:a});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"subSection",value:function(){var e=Object(_.a)(M.a.mark((function e(t){var a,n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.o)(t);case 2:a=e.sent,n={},a&&a.forEach((function(e){n[e.value]=e.title})),this.setState({subSection:a,subSectionMap:n});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"template",value:function(){var e=Object(_.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.l)({});case 2:t=e.sent,this.setState({template:t}),this.getExamDetail();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getExamDetail",value:function(){var e=Object(_.a)(M.a.mark((function e(){var t,a,n,s,r,l,o,c,i,m,u,d=this;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.match.params,a=t.id,n=t.type,s="",r=null,l=this.props.location.search,o=l.split("?")[1],c=o.includes("%")?decodeURI(o):o,i=JSON.parse(c),m=i.paramData,0!=n){e.next=15;break}return u={subjectId:i.subjectId,stageId:i.stageId},e.next=12,Object(Y.c)(u);case 12:r=e.sent,e.next=18;break;case 15:return e.next=17,Object(W.g)({id:a,resourceId:s});case 17:r=e.sent;case 18:this.setState({paramData:m,examDetail:r,courseExamTestFormList:r?r.courseExamTestFormList:"",structureVo:r?r.structureVo:r,templateValue:r?r.templateId||(this.state.template.length>0?this.state.template[0].id:void 0):"",typeflag:n},(function(){d.structure(),d.fenzu(),d.totalScore()}));case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"testForm",value:function(){var e=Object(_.a)(M.a.mark((function e(t){var a,n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.o)(t);case 2:a=e.sent,n={},a.forEach((function(e){n[e.value]=e.title})),this.setState({testForm:a,testFormMap:n});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fenzu",value:function(){var e,t=this.state.courseExamTestFormList,a=[],n=[],s=0,r=0,l=0,o=Object(T.a)(t);try{for(o.s();!(e=o.n()).done;){var c=e.value;c.testNum=c.courseExamTestList.length,s+=c.testNum;var i=0;1==c.courseExamTestList.length?i=c.courseExamTestList[0].score:c.courseExamTestList.length>1&&(i=c.courseExamTestList.reduce((function(e,t,a){return 1===a?parseInt(e.score)+parseInt(t.score):parseInt(e)+parseInt(t.score)}))),a.push(i),c=Object(O.a)(Object(O.a)({},c),{},{testFormScore:i}),n.push(c);var m,u=Object(T.a)(c.courseExamTestList);try{for(u.s();!(m=u.n()).done;){var d=m.value;r+=parseInt(d.difficulty)*parseInt(d.score),l+=parseInt("5")*parseInt(d.score)}}catch(g){u.e(g)}finally{u.f()}}}catch(g){o.e(g)}finally{o.f()}var p=0===a.length?0:a.reduce((function(e,t){return parseInt(e)+parseInt(t)})),f=0===l?0:(r/l).toFixed(2),h=Object(O.a)(Object(O.a)({},this.state.examDetail),{},{examScore:p,testNum:s,difficulty:f});h.structureVo.totalScore=p;var E=n.reduce((function(e,t){var a=Object(D.a)(e,2),n=a[0],s=a[1];return"1"===t.subSection?[[].concat(Object(C.a)(n),[t]),s]:[n,[].concat(Object(C.a)(s),[t])]}),[[],[]]);this.setState({testDetailListData:E,courseExamTestFormList:n,examDetail:h})}},{key:"totalScore",value:function(){var e=this.state.courseExamTestFormList,t=[];if(e.length>0)for(var a=1;a<=e.length;a++)t.push(this.numFilter(a));this.setState({totalScore:t})}},{key:"testDiff",value:function(){var e=Object(_.a)(M.a.mark((function e(t){var a,n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.o)(t);case 2:a=e.sent,n={},a&&a.forEach((function(e){n[e.value]=e.title})),this.setState({testDiff:a,testDiffMap:n});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"resetExamTestForm",value:function(){var e,t=this,a=this.state.testDetailListData,n=this.state.courseExamTestFormList,s=this.state.examDetail,r=[],l=Object(T.a)(a);try{for(l.s();!(e=l.n()).done;){var o,c=e.value,i=Object(T.a)(c);try{for(i.s();!(o=i.n()).done;){var m=o.value;r.push(m)}}catch(h){i.e(h)}finally{i.f()}}}catch(h){l.e(h)}finally{l.f()}var u,d=0,p=Object(T.a)(n);try{for(p.s();!(u=p.n()).done;){var f=u.value;f.testNum=f.courseExamTestList.length,d+=f.testNum}}catch(h){p.e(h)}finally{p.f()}s.courseExamTestFormList=r,s.testNum=d,this.setState({examDetail:s,courseExamTestFormList:n},(function(){t.fenzu(),t.totalScore()}))}},{key:"goSelectExam",value:function(){var e=Object(_.a)(M.a.mark((function e(){var t,a,n,s,r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.location.search,a=t.split("?")[1],n=a.includes("%")?decodeURI(a):a,s=JSON.parse(n),r="",s&&s.paramData&&(r=s.paramData),this.props.history.push("/teching/question-bank?"+r);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dragleave",value:function(e){}},{key:"resetStyle",value:function(e){var t=document.getElementsByClassName(e),a=0,n=t.length;for(a=0;a<n;a++)t[a].style.boxShadow="none"}},{key:"randomkey",value:function(){return(Math.random(1e5)+"").replace(/^0\./,"")}},{key:"render",value:function(){var e=this,t=F.a.Option,a=this.state,n=a.ErrorTestModal,s=a.examDetail,r=a.totalScore,l=a.template,c=a.templateValue,m=a.analyzeModal,d=a.visible,f=a.checked,E=a.structureVo,y=a.testDetailListData,k=a.gradeModal,x=a.rankModal,C=a.topicGradeModal,D=a.transferModal,S=a.questionsErrorModal,T=a.similarList,O=a.checkedSimilar,w=a.checkedIndex,L=a.AnalyzeTestModal,I=a.testBasketIdList,M=a.testBasketMax,_=a.testRealMap,j=a.analysisModal,A=a.testPointNameStr,V=a.typeflag,z=a.historyType,R=y.map((function(t,a){return U.a.createElement("div",{key:a},1===E.subsectionFlag?U.a.createElement("div",{className:"text-type annotation-row"},U.a.createElement("div",{className:"annotation"}," ",U.a.createElement(ie,{editable:{onChange:e.onChildChangeSubsection.bind(e,1,a)}},0==a?s.structureVo.firstSubsectionDesc:s.structureVo.secondSubsectionDesc)),U.a.createElement(ie,{editable:{onChange:e.onChildChangeSubsection.bind(e,2,a)}},0==a?s.structureVo.firstSubsectionTitle:s.structureVo.secondSubsectionTitle)):"",t.length>0?t.map((function(t,n){return U.a.createElement("div",{key:n,className:"question-type",id:n,onDragEnter:e.dragenter.bind(e),onDrop:function(){return e.onDrop()},onDragOver:function(e){return e.preventDefault()},onDragLeave:e.dragleave.bind(e)},U.a.createElement("div",{className:8==t.testFormId||7==t.testFormId||6==t.testFormId||5==t.testFormId?"headline-box-no":"headline-box"},U.a.createElement("div",{className:"big-question-tit"},1===E.scoreAreaDisplayFlag?U.a.createElement("table",{border:"1",cellSpacing:"0",cellPadding:"0",width:"100px",className:"score-table"},U.a.createElement("tbody",null,U.a.createElement("tr",null,U.a.createElement("th",null,"\u9605\u5377\u4eba"),U.a.createElement("td",null)),U.a.createElement("tr",null,U.a.createElement("th",null,"\u5f97\u5206"),U.a.createElement("td",null)))):"",1===E.formFlag?U.a.createElement("h4",{className:"text-type"},e.numFilter(n+1,a),"."," ",U.a.createElement(ie,{editable:{onChange:e.onChildChangeForm.bind(e,1,a,n)}},t.testFormName),"\uff08\u5171",t.testNum,"\u9898\uff1a\u5171",t.testFormScore,"\u5206\uff09"):""),U.a.createElement("div",{className:"group-locations"},U.a.createElement("span",{className:"group-item",onClick:function(){return e.gradeModal(a,n,0)}},U.a.createElement(N.a,{type:"read"}),"\u6279\u91cf\u8bbe\u5b9a\u5f97\u5206"),U.a.createElement("span",{className:"group-item",onClick:function(){return e.rankModal()}},U.a.createElement(N.a,{type:"line-chart"}),"\u6392\u5e8f"),U.a.createElement("span",{className:"group-item",onClick:function(){return e.delTestForm(a,n)}},U.a.createElement(N.a,{type:"delete"}),"\u5220\u9664"))),t.courseExamTestList.length>0?t.courseExamTestList.map((function(s,r){return U.a.createElement(b.a,{className:"mb30",key:r,draggable:"true",onDragStart:function(){return e.onDragStart(s,r,n,a,1)}},U.a.createElement("div",{className:"8"==s.testForm||"7"==s.testForm||"6"==s.testForm||"5"==s.testForm?"":"text-item",id:r},U.a.createElement("div",{className:"group-cont"},"8"==s.testForm||"7"==s.testForm||"6"==s.testForm||"5"==s.testForm?U.a.createElement("p",{className:"text-title zhtext-item group-locations"},e.getStemzh(s,r),U.a.createElement("div",{className:"group-locations"},U.a.createElement("span",{className:"group-item",onClick:function(){return e.gradeModal(a,n,r)}},U.a.createElement(N.a,{type:"read"}),"\u6279\u91cf\u8bbe\u5b9a\u5f97\u5206"),U.a.createElement("span",{className:"group-item",onClick:function(){return e.rankModal()}},U.a.createElement(N.a,{type:"line-chart"}),"\u6392\u5e8f"),U.a.createElement("span",{className:"group-item",onClick:function(){return e.delTestForm(a,n,r)}},U.a.createElement(N.a,{type:"delete"}),"\u5220\u9664"))):U.a.createElement("p",{className:"text-title"},r+1,".",U.a.createElement("span",{className:"text-grade"},"(",s.score,"\u5206)"),e.getStem(s)),"8"===s.testForm||"5"===s.testForm||"6"===s.testForm||"7"===s.testForm?U.a.createElement("div",{className:"child-answer"},s.courseTestOtherVo.map((function(t,l){return U.a.createElement("div",{key:l},U.a.createElement("div",null,"8"===s.testForm||"7"===s.testForm||"6"===s.testForm||"5"===s.testForm?e.getStem1(t,l,1,s,r,n,a):e.getStem2(t,l,1)),"1"===t.testForm||"3"===t.testForm?U.a.createElement("div",{className:"child-text-answer"},U.a.createElement(b.a,null,t.courseTestChooseAnwser&&t.courseTestChooseAnwser.length>0?t.courseTestChooseAnwser.map((function(e,t){return U.a.createElement(v.a,{span:6,key:t},U.a.createElement("p",{className:"child-answer-0"},e.optionName,".",e.memo))})):"")):4==t.testForm?U.a.createElement("div",{className:"pandaun-4"},U.a.createElement("span",null,"A.",t.courseTestChooseAnwser[0].memo),U.a.createElement("span",null,"B.",t.courseTestChooseAnwser[1].memo)):"")}))):"1"===s.testForm||"3"===s.testForm?U.a.createElement("div",{className:"text-answer"},U.a.createElement(b.a,null,s.testChooseAnwserList?s.testChooseAnwserList.map((function(e,t){return U.a.createElement(v.a,{span:6,key:t},U.a.createElement("p",{className:"op-3"},e.optionName,".",e.memo))})):"")):"8"===s.testForm||"7"===s.testForm||"6"===s.testForm||"5"===s.testForm?U.a.createElement("div",{className:"child-answer"},s.courseTestOtherVo.map((function(t,a){return U.a.createElement("div",{key:a},U.a.createElement("div",null,e.getStem1(t,a,1)),"1"===t.testForm||"3"===t.testForm?U.a.createElement("div",{className:"child-text-answer"},U.a.createElement(b.a,null,t.courseTestChooseAnwser&&t.courseTestChooseAnwser.length>0?t.courseTestChooseAnwser.map((function(e,t){return U.a.createElement(v.a,{span:6,key:t},U.a.createElement("p",{className:"op-8765"},e.optionName,".",e.memo))})):"")):"")}))):""),"1"==s.testForm||"2"==s.testForm||"3"==s.testForm||"4"==s.testForm||"9"==s.testForm?U.a.createElement("div",{className:"group-location"},U.a.createElement("span",{className:"group-item",onClick:function(){return e.analysisShowModal(s.testId)}},U.a.createElement(N.a,{type:"read"}),"\u7b54\u6848\u89e3\u6790"),U.a.createElement("span",{className:"group-item",onClick:function(){return e.gradeShowModal(t.testFormId,s.score,a,n,r)}},U.a.createElement(N.a,{type:"line-chart"}),"\u8bbe\u5b9a\u5f97\u5206"),U.a.createElement("span",{className:"group-item",onClick:function(){return e.collectChange(s.resourceId)}},U.a.createElement(N.a,{type:"heart"}),0===s.isCollect?"\u6536\u85cf":"\u53d6\u6d88\u6536\u85cf"),U.a.createElement("span",{className:"group-item",onClick:function(){return e.questionsErrorShowModal(s.testId)}},U.a.createElement(N.a,{type:"file-exclamation"}),"\u7ea0\u9519"),U.a.createElement("span",{className:"group-item",onClick:function(){return e.delTest(a,n,r)}},U.a.createElement(N.a,{type:"delete"}),"\u5220\u9664")):""))})):"")})):"")}));return U.a.createElement("div",{className:"group-centers teach-main"},U.a.createElement("div",{className:"xz"==z?"":"teach-main-box"},"xz"==z?"":U.a.createElement(X.a,{navName:"test-library"}),U.a.createElement("div",{className:"teach-main-cont"},U.a.createElement(b.a,{className:"detail-head-row"},U.a.createElement(v.a,{span:18},U.a.createElement("div",{className:"detail-head-tit"},U.a.createElement("a",{className:"detail-history",onClick:this.goBack.bind(this)},U.a.createElement(N.a,{type:"left"}),"\u8fd4\u56de"))),U.a.createElement(v.a,{span:6},U.a.createElement("div",{className:"detail-head-edit"},U.a.createElement("div",{onClick:this.linkToComplete},"\u5b8c\u6210\u7ec4\u5377",U.a.createElement(N.a,{type:"check-circle"}))))),U.a.createElement(b.a,{className:"text-detail-conts",gutter:16},U.a.createElement(v.a,{span:18},1===E.sealingLineDisplayFlag?U.a.createElement("div",{className:"paper-sd"}):"",U.a.createElement("div",{className:"DetailBg ",style:{paddingLeft:"55px"}},U.a.createElement("h3",{className:"text-topic"},U.a.createElement(ie,{editable:{onChange:this.onChildChange.bind(this,1)}},s.title)),1===E.subtitleDisplayFlag?U.a.createElement("h4",{className:"change-childtit"},U.a.createElement(ie,{editable:{onChange:this.onChildChange.bind(this,2)}},s.structureVo.subtitle)):"",1===E.examTimeDisplayFlag?U.a.createElement("div",{className:"test-time-h"},"\u8003\u8bd5\u65f6\u95f4\uff1a",U.a.createElement(ie,{editable:{onChange:this.onChildChange.bind(this,4)}},s.structureVo.examTime),"\u5206\u949f \u6ee1\u5206\uff1a",s.examScore,"\u5206"):"",1===E.studentInfoFlag?U.a.createElement("ul",{className:"student-write"},U.a.createElement("li",null,"\u59d3\u540d:",U.a.createElement("span",null,"____________")),U.a.createElement("li",null,"\u73ed\u7ea7:",U.a.createElement("span",null,"____________")),U.a.createElement("li",null,"\u5b66\u53f7:",U.a.createElement("span",null,"____________"))):"",U.a.createElement("div",{className:"total-score"},1===E.totalScoreDisplayFlag?U.a.createElement(b.a,{className:"table-box mark-table"},U.a.createElement(v.a,{className:"",span:2},U.a.createElement("p",{className:"table-common table-tit"},"\u9898\u53f7"),U.a.createElement("p",{className:"table-common table-tit"},"\u8bc4\u5206")),U.a.createElement(v.a,{span:22,className:"table-right-item"},r.length>0?r.map((function(e,t){return U.a.createElement("div",{className:"score-table-item",key:t},U.a.createElement("p",{className:"table-common"},e),U.a.createElement("p",{className:"table-common"}))})):"")):""),1===E.attentionDisplayFlag?U.a.createElement("div",{className:"rule"},U.a.createElement("p",null,"*\u6ce8\u610f\u4e8b\u9879\uff1a"),U.a.createElement("div",{className:"rule-deit"},U.a.createElement(ie,{editable:{onChange:this.onChildChange.bind(this,3)}},this.state.str))):"",R)),U.a.createElement(v.a,{span:6},U.a.createElement("div",{className:"DetailBg distance"},U.a.createElement(b.a,{className:"structure-box"},U.a.createElement(v.a,{span:12},U.a.createElement("p",{className:"structure-tit"},"\u8bd5\u5377\u7ed3\u6784\u8c03\u6574")),U.a.createElement(v.a,{span:12,className:"structure-select"},U.a.createElement(F.a,{value:c,style:{width:100},onChange:this.handleChange},l?l.map((function(e,a){return U.a.createElement(t,{key:a,value:e.id},e.templateName)})):U.a.createElement(t,{key:"1",value:" "},"\u6682\u65e0\u6570\u636e")))),U.a.createElement(b.a,{className:"structure"},U.a.createElement(g.a.Group,{value:f,onChange:this.onChange},[{label:"\u5bc6\u5c01\u7ebf",value:"1"},{label:"\u5927\u9898\u8bc4\u5206\u533a",value:"2"},{label:"\u6ce8\u610f\u4e8b\u9879",value:"3"},{label:"\u526f\u6807\u9898",value:"4"},{label:"\u8003\u8bd5\u65f6\u95f4",value:"6"},{label:"\u8003\u751f\u586b\u5199",value:"7"},{label:"\u5206\u5927\u9898",value:"8"},{label:"\u603b\u8bc4\u5206",value:"9"}].map((function(e,t){return U.a.createElement(g.a,{key:t,value:e.value},e.label)}))))),U.a.createElement("div",{className:"DetailBg group-height"},U.a.createElement(b.a,null,U.a.createElement(v.a,{span:8},U.a.createElement("p",null,"\u5206\u6570\uff1a",U.a.createElement("span",{className:"summary"},s.examScore,"\u5206"))),U.a.createElement(v.a,{span:7},U.a.createElement("p",null,"\u9898\u6570\uff1a",U.a.createElement("span",{className:"summary"},s.testNum))),U.a.createElement(v.a,{span:9},U.a.createElement("p",null,"\u96be\u5ea6\u7cfb\u6570\uff1a",U.a.createElement("span",{className:"summary"},s.difficulty)))),y.length>0?y.map((function(t,a){return U.a.createElement("div",{key:a,onDragEnter:e.dragenter.bind(e),onDrop:function(){return e.onDrop()},onDragOver:function(e){return e.preventDefault()},onDragLeave:e.dragleave.bind(e)},U.a.createElement(b.a,{className:"imper"},U.a.createElement("p",{className:"dash-line"})),t.length>0?t.map((function(t,n){return U.a.createElement("div",{key:n},U.a.createElement(b.a,{type:"flex",align:"middle",draggable:"true",onDragStart:function(){return e.onDragStart(t,0,n,a,3)}},U.a.createElement(v.a,{span:12},U.a.createElement("p",{className:"structure-tit",id:n},e.numFilter(n+1,a),"."," ",t.testFormName)),U.a.createElement(v.a,{span:12,className:"paper-set"},U.a.createElement("p",null,U.a.createElement("span",{onClick:function(){return e.rankModal()}}," ","\u6392\u5e8f"),U.a.createElement("span",{onClick:function(){return e.delTestForm(a,n)}},"\u5220\u9664")))),U.a.createElement(b.a,null,t.courseExamTestList.length>0?t.courseExamTestList.map((function(t,s){return U.a.createElement(v.a,{key:s,span:4,style:{textAlign:"center"}},U.a.createElement("p",{className:"paper-num",id:s,draggable:"true",onDragStart:function(){return e.onDragStart(t,s,n,a,2)}},s+1))})):""))})):"")})):"",0==V?U.a.createElement(b.a,{className:"paper-footer"},U.a.createElement("div",{onClick:function(){return e.goSelectExam()}},"\u7ee7\u7eed\u9009\u9898")):""))))),U.a.createElement(G.a,{className:"modal-btn add-modal",visible:m,keyboard:!1,maskClosable:!1,icon:U.a.createElement(N.a,{type:"close",onClick:function(){e.analyzeCancel()}}),title:"\u5206\u6790\u7ed3\u679c",onOk:this.handleAccredit,onCancel:this.analyzeCancel,footer:[]},U.a.createElement(Z.a,{wrappedComponentRef:function(t){e.AnalyzeChartForm=t}})),U.a.createElement(o.a,{className:"topic-drawer",title:"\u6362\u9898",placement:"right",closable:!1,onClose:this.onClose,visible:d,width:"50%"},U.a.createElement("div",{className:"analyze-wrap-modal"},T.length>0?U.a.createElement("div",null,U.a.createElement(b.a,{className:"analyze-modal-group mb20"},U.a.createElement(v.a,{span:20},U.a.createElement(h.a.Group,{onChange:this.testChange.bind(this),defaultValue:0,value:w},T.map((function(e,t){return U.a.createElement(h.a.Button,{key:t,value:t},t+1)})))),U.a.createElement(v.a,{span:4},U.a.createElement("p",{className:"analyze-modal-change",onClick:function(){return e.getSimilarList()}},"\u6362\u4e00\u6279"))),U.a.createElement(p.a,{className:"analyze-modal-card",title:(1===O.examFlag?"\uff08".concat(O.examYear," \xb7 ").concat(this.testRealFilter(O.examFrom),"\uff09"):"")+O.stem,bordered:!1},"1"===O.testForm||"3"===O.testForm?U.a.createElement(b.a,{type:"flex",className:"mb20",gutter:20},O.courseTestChooseAnwser.map((function(e){return U.a.createElement(v.a,{key:e.id,span:6},e.optionName,".",e.memo)}))):"","4"===O.testForm?U.a.createElement(b.a,{type:"flex",className:"mb20",gutter:20},U.a.createElement(v.a,{span:6},"\u6b63\u786e"),U.a.createElement(v.a,{span:6},"\u9519\u8bef")):"","8"===O.testForm?U.a.createElement("div",null,O.courseTestOtherVo.map((function(e,t){return U.a.createElement("div",{key:t},U.a.createElement("p",{className:"multiple-tit"},t+1+"."+e.stem),"1"===e.testForm||"3"===e.testForm?U.a.createElement(b.a,{type:"flex",className:"mb20",gutter:20},e.courseTestChooseAnwser.map((function(e){return U.a.createElement(v.a,{key:e.id,span:6},e.optionName,".",e.memo)}))):"","4"===e.testForm?U.a.createElement(b.a,{type:"flex",className:"mb20",gutter:20},U.a.createElement(v.a,{span:6},"\u6b63\u786e"),U.a.createElement(v.a,{span:6},"\u9519\u8bef")):"")}))):"",U.a.createElement("p",{className:"answer"},U.a.createElement("strong",null,"\u3010\u8003\u70b9\u3011"),U.a.createElement("span",null,A)),U.a.createElement("p",{className:"answer"},U.a.createElement("strong",null,"\u3010\u89e3\u6790\u3011"),U.a.createElement("span",null,O.resolution)),U.a.createElement(b.a,{type:"flex",justify:"space-between",className:"question-modal-container"},U.a.createElement(v.a,{span:12,className:"question-modal-left"},U.a.createElement("span",null,"\u9898\u578b\uff1a",this.testFormFilter(O.testForm)),U.a.createElement("span",null,"\u96be\u5ea6\uff1a",this.testDiffFilter(O.difficulty)),U.a.createElement("span",null,"\u7ec4\u5377\u6b21\u6570\uff1a",O.assembledNum)),U.a.createElement(v.a,{span:12,className:"question-modal-right"},U.a.createElement("span",{onClick:function(){return e.analyzeTestModal()}},"\u67e5\u770b\u89e3\u6790"),U.a.createElement("span",{onClick:function(){return e.collectChangeTo(O.resourceId)}},"0"===O.collectFlag?"\u6536\u85cf":"\u5df2\u6536\u85cf"),U.a.createElement("span",{onClick:function(){return e.errorTestModal()}},"\u7ea0\u9519")))),U.a.createElement(v.a,{span:24,className:"topic-bottom-btn"},U.a.createElement(u.a,{onClick:function(){return e.onReplaceTest(O)}},"\u66ff\u6362"),U.a.createElement(u.a,{onClick:function(){return e.onClose()}},"\u5173\u95ed"))):U.a.createElement(i.a,null),U.a.createElement(G.a,{wrapClassName:"modal-footer-style-l",className:"modal-btn",visible:L,title:"\u8bd5\u9898\u8be6\u60c5",width:"850px",onOk:this.handleAccredit,onCancel:this.analyzeTestCancelModal,keyboard:!1,maskClosable:!1,footer:[U.a.createElement(u.a,{key:"back",onClick:this.analyzeTestCancelModal},"\u5173\u95ed")]},U.a.createElement(oe.default,{testDetail:O,testRealMap:_,testBasketIdList:I,testBasketMax:M,testBasketIdListChange:function(){return e.testBasketIdListChange()},wrappedComponentRef:function(t){e.AnalysisTestFrom=t}})))),U.a.createElement(G.a,{key:this.state.randomkey,wrapClassName:"modal-footer-style-l",className:"modal-btn",visible:k,title:"\u6839\u636e\u9898\u578b\u6279\u91cf\u8bbe\u7f6e\u5206\u6570",onOk:this.handleAccredit,onCancel:this.gradeCancel,keyboard:!1,maskClosable:!1,footer:[U.a.createElement(u.a,{key:"back",onClick:this.gradeCancel},"\u53d6\u6d88"),U.a.createElement(u.a,{key:"submit",onClick:this.setAllScore},"\u4fdd\u5b58")]},U.a.createElement(te.a,{scoreAll:this.state.scoreAll,testFormMap:this.state.testFormMap,wrappedComponentRef:function(t){e.SetGradeForm=t}})),U.a.createElement(G.a,{className:"modal-btn",wrapClassName:"modal-footer-style-l",visible:C,title:"\u8bbe\u5b9a\u5206\u503c",onOk:this.handleAccredit,onCancel:this.topicGradeCancel,destroyOnClose:!0,keyboard:!1,maskClosable:!1,footer:[U.a.createElement(u.a,{key:"back",onClick:this.topicGradeCancel},"\u53d6\u6d88"),U.a.createElement(u.a,{key:"submit",type:"primary",onClick:this.topicGradeCancelOne},"\u4fdd\u5b58")]},U.a.createElement(ae.a,{scoreOne:this.state.scoreOne,testFormMap:this.state.testFormMap,wrappedComponentRef:function(t){e.SmallTopicSetGradeForm=t}})),U.a.createElement(G.a,{wrapClassName:"modal-footer-style-l",className:"modal-btn",visible:x,title:"\u8bd5\u9898\u6392\u5e8f",onOk:this.handleAccredit,onCancel:this.rankCancel,keyboard:!1,maskClosable:!1,footer:[U.a.createElement(u.a,{key:"back",onClick:this.rankCancel},"\u53d6\u6d88"),U.a.createElement(u.a,{key:"submit",type:"primary",onClick:this.rankCancelGet},"\u4fdd\u5b58")]},U.a.createElement(ne.a,{testDetailListData:y,testFormMap:this.state.testFormMap,wrappedComponentRef:function(t){e.TestRankForm=t}})),U.a.createElement(G.a,{wrapClassName:"modal-footer-style-l",className:"modal-btn",visible:D,title:"\u8f6c\u79fb\u8bd5\u9898",onOk:this.handleAccredit,onCancel:this.transferCancel,keyboard:!1,maskClosable:!1,footer:[U.a.createElement(u.a,{key:"back",onClick:this.transferCancel},"\u53d6\u6d88"),U.a.createElement(u.a,{key:"submit",type:"primary",onClick:this.transferCancelGet},"\u4fdd\u5b58")]},U.a.createElement(se.a,{testDetailListData:y,testFormMap:this.state.testFormMap,transfer:this.state.transfer,wrappedComponentRef:function(t){e.TransFerForm=t}})),U.a.createElement(G.a,{wrapClassName:"modal-footer-style-l",className:"modal-btn",visible:S,title:"\u8bd5\u9898\u7ea0\u9519",onCancel:this.questionsErrorCancel,keyboard:!1,maskClosable:!1,width:"650px",footer:[U.a.createElement(u.a,{key:"back",onClick:this.questionsErrorCancel},"\u53d6\u6d88"),U.a.createElement(u.a,{key:"submit",type:"primary",onClick:this.errorTestSave},"\u4fdd\u5b58")]},U.a.createElement(re.default,{wrappedComponentRef:function(t){e.ErrorTestForm=t}})),U.a.createElement(G.a,{wrapClassName:"modal-footer-style-l",className:"modal-btn",visible:j,title:"\u7b54\u6848\u89e3\u6790",onOk:this.handleAccredit,onCancel:this.analysisCancelModal,keyboard:!1,maskClosable:!1,footer:[U.a.createElement(u.a,{key:"back",onClick:this.analysisCancelModal},"\u5173\u95ed")]},U.a.createElement(le.default,{testId:this.state.testId,wrappedComponentRef:function(t){e.AnaswerAnalysisFrom=t}})),U.a.createElement(G.a,{wrapClassName:"modal-footer-style-l",className:"modal-btn",visible:n,title:"\u8bd5\u9898\u7ea0\u9519",onOk:this.handleAccredit,onCancel:this.errorTestCancel,keyboard:!1,maskClosable:!1,footer:[U.a.createElement(u.a,{key:"back",onClick:this.errorTestCancel},"\u53d6\u6d88"),U.a.createElement(u.a,{key:"submit",type:"primary",onClick:this.errorTestSave},"\u4fdd\u5b58")]},U.a.createElement(re.default,{wrappedComponentRef:function(t){e.ErrorTestForm=t}})),U.a.createElement(G.a,{key:"AddTest"+this.state.randomkey,wrapClassName:"modal-footer-style-l modal-btn-lh5",className:"modal-btn-lh modal-style-lll",visible:this.state.addTestModal,title:"\u52a0\u5165\u6211\u7684\u5377\u5e93",onOk:this.handleAccredit,onCancel:this.addTestCancel,keyboard:!1,maskClosable:!1,footer:[U.a.createElement(u.a,{key:"back",onClick:this.addTestCancel},"\u53d6\u6d88"),U.a.createElement(u.a,{key:"submit",onClick:this.courseTestSave},"\u4fdd\u5b58")]},U.a.createElement(ce.default,{wrappedComponentRef:function(t){e.AddTestForm=t}})))}}]),a}(P.Component))||n,pe=r.a.create()(de);t.default=pe}}]);