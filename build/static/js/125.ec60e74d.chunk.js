(this.webpackJsonpzjyz_admin=this.webpackJsonpzjyz_admin||[]).push([[125],{1956:function(e,a,t){},2713:function(e,a,t){"use strict";t.r(a);t(40);var r,s=t(5),n=t.n(s),l=(t(43),t(2)),c=t.n(l),i=(t(97),t(14)),o=t.n(i),m=(t(382),t(168)),d=t.n(m),u=(t(51),t(22)),p=t.n(u),h=t(9),y=t(12),E=t(11),N=t(10),v=(t(41),t(8)),I=t.n(v),g=t(0),b=t.n(g),w=(t(1956),t(27)),f=t(279),T=t(36),k=t.n(T),j=t(35),O=I.a.Item,F=Object(j.g)(r=function(e){Object(E.a)(r,e);var a=Object(N.a)(r);function r(){var e;Object(h.a)(this,r);for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return(e=a.call.apply(a,[this].concat(s))).state={paperName:"\u8bf7\u5148\u9009\u62e9\u8bd5\u5377",paperId:"",publishAnswerType:"1",homeworkName:"",addBusyUrl:"",editId:"",stepId:"",startFlag:"0",urlBack:"",selectType:!1,disabled:!0,bigMajor:"",medMajor:"",stageType:"",major:"",classroomId:"",activeKey:""},e.GetOneHomework=function(a){Object(w.a)(a).then((function(a){var t=a;e.setState({catalogArr:t&&t.length>0?t.reverse().join(">"):"\u65e0"})}))},e.editGetOneHomework=function(a){Object(w.l)(a).then((function(a){1!=e.state.selectType&&(e.state.paperId=a.relateResourceId,e.state.paperName=a.relateResourceName),e.setState({publishAnswerType:a.publishAnswerType,homeworkName:a.homeworkName,studyFromTime:a.studyFromTime,studyEndTime:a.studyEndTime,startFlag:a.startFlag,bigMajor:a.bigMajorName,medMajor:a.medMajorName,stageType:a.schoolType,major:a.majorName,editId:a.id})}))},e.addCourseClick=function(){e.props.history.push("/teching/complete-test/xz".concat(e.state.addBusyUrl))},e.onFinish=function(a){var t=e.state,r=t.courseId,s=t.catalogId,n=t.stepId,l=t.paperName,c=t.paperId,i=t.startFlag,o=t.urlBack,m=t.editId;e.props.form.validateFields((function(a,t){var d=k()(t.studyFromTime).format("YYYY-MM-DD HH:mm:ss"),u=k()(t.studyEndTime).format("YYYY-MM-DD HH:mm:ss");m?Object(f.e)({id:m,catalogId:s,homeworkName:t.homeworkName,publishAnswerType:t.publishAnswerType,relateResourceName:l,relateResourceId:c,studyFromTime:d,studyEndTime:u,stepId:n,startFlag:i}).then((function(a){var t={courseId:r};o?e.props.history.push("".concat(o,"?").concat(encodeURI(JSON.stringify(t)))):e.props.history.push("/teaching/my-course/course-directory?".concat(encodeURI(JSON.stringify(t))))})):Object(f.b)({courseId:r,catalogId:s,homeworkName:t.homeworkName,publishAnswerType:t.publishAnswerType,relateResourceName:l,relateResourceId:c,studyFromTime:d,studyEndTime:u,stepId:n,startFlag:i}).then((function(a){var t={courseId:r};o?e.props.history.push("".concat(o,"?").concat(encodeURI(JSON.stringify(t)))):e.props.history.push("/teaching/my-course/course-directory?".concat(encodeURI(JSON.stringify(t))))}))}))},e.showUserModal=function(){var a=e.state,t=a.courseId,r=a.urlBack,s=a.catalogId,n=a.hierarchy,l=a.classroomId,c=a.activeKey,i={courseId:t};r?(i={courseId:t,catalogId:s,hierarchy:n,resourceId:l,header:"my-course",activeKey:c},e.props.history.push("".concat(r,"?").concat(encodeURI(JSON.stringify(i))))):e.props.history.push("/teaching/my-course/course-directory?".concat(encodeURI(JSON.stringify(i))))},e}return Object(y.a)(r,[{key:"componentDidMount",value:function(){var e=this,a=this.props.location.search,t=a.split("?")[1],r=t.includes("%")?decodeURI(t):t,s=JSON.parse(r),n=s.courseId,l=s.catalogId,c=s.hierarchy,i=s.paperId,o=s.paperName,m=s.editId,d=(s.stepId,s.url),u=s.selectType,p=s.resourceId,h=s.activeKey;this.GetOneHomework(l),m&&this.editGetOneHomework(m,(function(){e.state.paperId=i,e.state.paperName=o})),this.setState({courseId:n,catalogId:l,hierarchy:c,addBusyUrl:a,editId:m,paperId:i,paperName:o,urlBack:d,classroomId:p,selectType:u,activeKey:h})}},{key:"render",value:function(){var e=this,a={labelCol:{span:3},wrapperCol:{span:19}},r={wrapperCol:{span:24}},s=this.state,l=s.publishAnswerType,i=s.homeworkName,m=s.paperName,u=s.studyFromTime,h=s.studyEndTime,y=s.catalogArr,E=this.props.form.getFieldDecorator;return b.a.createElement("div",{className:"stage-test teach-main"},b.a.createElement("div",{className:"text-library-boxs"},b.a.createElement("div",{className:"add-busy-head-l"},b.a.createElement("div",{className:"arrow-left",onClick:function(){e.showUserModal()}},b.a.createElement("img",{src:t(521),style:{cursor:"pointer"}}),b.a.createElement("span",{className:"text-back"},"\u8fd4\u56de")),b.a.createElement("div",null,"\u67e5\u770b\u4f5c\u4e1a")),b.a.createElement("div",{className:"library-main teach-main-cont"},b.a.createElement(n.a,{gutter:16},b.a.createElement(c.a,{span:24},b.a.createElement("div",{className:"form-tab"},b.a.createElement(I.a,Object.assign({layout:"horizontal",style:{paddingBottom:18}},a,{onFinish:this.onFinish}),b.a.createElement("div",{className:"input-wrap-l"},b.a.createElement("div",null,b.a.createElement("span",{className:"create-course-title "},b.a.createElement("span",{className:"red"},"\xa0\xa0"),"\u6240\u5c5e\u7ae0\u8282\uff1a")),b.a.createElement("div",null,b.a.createElement(O,a,E("bigMajorId",{initialValue:y})(b.a.createElement(p.a,{type:"text",placeholder:"",maxLength:50,disabled:!0}))))),b.a.createElement("div",{className:"input-wrap-l"},b.a.createElement("div",null,b.a.createElement("span",{className:"create-course-title "},b.a.createElement("span",{className:"red"},"*"),"\u9009\u62e9\u4f5c\u4e1a\uff1a")),b.a.createElement("div",{style:{flex:"none"}},b.a.createElement(O,r,E("patternValue",{initialValue:m})(b.a.createElement(p.a,{disabled:!0}))))),b.a.createElement("div",{className:"input-wrap-l"},b.a.createElement("div",null,b.a.createElement("span",{className:"create-course-title "},b.a.createElement("span",{className:"red"},"*"),"\u4f5c\u4e1a\u540d\u79f0\uff1a")),b.a.createElement("div",null,b.a.createElement(O,a,E("homeworkName",{initialValue:i,rules:[{required:!0,message:"\u4f5c\u4e1a\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a!"}]})(b.a.createElement(p.a,{disabled:!0}))))),b.a.createElement("div",{className:"input-wrap-l"},b.a.createElement("div",null,b.a.createElement("span",{className:"create-course-title "},b.a.createElement("span",{className:"red"},"*"),"\u5f00\u59cb\u65f6\u95f4\uff1a")),b.a.createElement("div",null,b.a.createElement(O,null,E("studyFromTime",{initialValue:u?k()(u||"YYYY-MM-DD HH:mm:ss"):void 0,rules:[{required:!0,message:"\u5f00\u59cb\u65f6\u95f4\u4e0d\u80fd\u4e3a\u7a7a!"}]})(b.a.createElement(d.a,{disabled:!0}))))),b.a.createElement("div",{className:"input-wrap-l"},b.a.createElement("div",null,b.a.createElement("span",{className:"create-course-title "},b.a.createElement("span",{className:"red"},"*"),"\u7ed3\u675f\u65f6\u95f4\uff1a")),b.a.createElement("div",null,b.a.createElement(O,null,E("studyEndTime",{initialValue:h?k()(h||"YYYY-MM-DD HH:mm:ss"):void 0,rules:[{required:!0,message:"\u5f00\u59cb\u65f6\u95f4\u4e0d\u80fd\u4e3a\u7a7a!"}]})(b.a.createElement(d.a,{disabled:!0}))))),b.a.createElement("div",{className:"input-wrap-l"},b.a.createElement("div",null,b.a.createElement("span",{className:"create-course-title "},b.a.createElement("span",{className:"red"},"*"),"\u7b54\u6848\u516c\u5e03 \uff1a")),b.a.createElement("div",null,b.a.createElement(O,null,E("publishAnswerType",{initialValue:l})(b.a.createElement(o.a.Group,{disabled:!0,onChange:function(a){e.setState({publishAnswerType:a.target.value})}},b.a.createElement(o.a,{value:"1",disabled:!0},"\u4f5c\u4e1a\u622a\u6b62\u540e\u516c\u5e03"),b.a.createElement(o.a,{value:"2",disabled:!0},"\u5b66\u751f\u4ea4\u5377\u540e\u516c\u5e03")))))))))))))}}]),r}(g.Component))||r,M=I.a.create()(F);a.default=M}}]);