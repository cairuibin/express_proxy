(this.webpackJsonpzjyz_admin=this.webpackJsonpzjyz_admin||[]).push([[20],{1763:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIDSURBVHgB5ZZNbtNAGIbfGRvjHT6Cl1VFg7NmQeYG4QQQiQ1KJZQTkJzARVWarW+Q9ARTfvY1RUJdhht42STN9zFua2rS4mby0w2PZOWzR8pjj795xwI37Oo4cqU3NGWIzTG+JLz+qdppcUEWxRZkOaErMSxfuBJGehBuQfZHekf4mDy60K0Yy5g5hSVCiAZWEUqS9VS9H8OSFyf9IQs0YSskcHNHD0awhAVFVeP/nlLJsQeOsWH+5y4lfGLMrbpUQAaQ4qMpA9gKHe9pfPry3S9Ysvel/0pwqUsJvaWE88vJqKYPj2EBO84zwVyScedM7R8sJTREkLKyxRcxsls5ofVD7Sd5vaPjMP89V52xiy1wLWsneR3pOCD55NTcTlD7OuhWRhvYHLYyRq+Q1b4dvbmYTT57+XuUiEHUrYg2qLS0cdqSyzDnxJOeORNvmbglTAdXRJtomGhb+gnPS7lbyG5H+WCGad2nYLSZaLtu/e79shyR+fCRqla2ftIY2ZlqdytkY0lCFTvPekJL2XrCkmxPHzXvypAtylYWmugaFbJd3Y9mmKSm5Xt/y6Du28BXWvjM9L2oHUfELnvhlKbKI/N3Un6oWlI3wgvT/h7WIDTrTUua1kF+UvVpcjWlqepkC1OyNGJOxyZdEnOcAH7w0HeQKJ8814cNAQ7xAA6cdNUU+g3vDey8IQNI6AAAAABJRU5ErkJggg=="},1810:function(e,t,a){},1953:function(e,t,a){"use strict";a(97);var s=a(14),n=a.n(s),r=(a(40),a(5)),c=a.n(r),o=(a(382),a(168)),i=a.n(o),l=(a(43),a(2)),u=a.n(l),m=a(3),d=a.n(m),p=a(7),h=(a(54),a(15)),f=a.n(h),y=a(20),g=a(9),v=a(12),k=a(11),E=a(10),b=(a(41),a(8)),I=a.n(b),C=a(0),N=a.n(C),T=(a(1954),a(39)),S=a(279),w=a(36),x=a.n(w),O=I.a.Item,A=function(e){Object(k.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(g.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={homeWork:{assignType:"1",publishAnswerType:"1",studyTimeSetType:"1",studyTimeShortname:"4",requirement:"",studyFromTime:void 0,studyEndTime:void 0,schoolClassId:[],listTeam:[],listStudent:[]},courseTestNum:"",homeworkStatus:"",homeworkId:null,courseId:"",homeworkName:"",schoolVo:{},resourceType:"",homeClassVo:[],schoolClassVo:{},listHomeworkTeam:[],studyFromTime:void 0,studyEndTime:void 0,myCourseClassList:[],fromValue:1,myClassTeamList:[],myCourseStudentClassList:[],createTime:"",issueType:0},e.onChangeSetType=function(t){var a=t.target.value;e.setState({homeWork:Object(y.a)(Object(y.a)({},e.state.homeWork),{},{studyTimeSetType:a})}),e.props.form.setFieldsValue({studyTimeSetType:a})},e.onChangeFb=function(t,a){var s=e.state.schoolVo,n=t.target.value;Object.keys(s).map((function(e){e===a.schoolClassId&&(s[e].studyTimeShortname=n)})),e.setState({schoolVo:s})},e.onChangeTy=function(t){var a=t.target.value;e.setState({homeWork:Object(y.a)(Object(y.a)({},e.state.homeWork),{},{studyTimeShortname:a})}),e.props.form.setFieldsValue({studyTimeShortname:a})},e.onChange=function(t){var a=t.target.value,s=e.state.homeWork;s.assignType=a,s.studyTimeSetType="1",e.setState({homeWork:s}),e.props.form.setFieldsValue({studyTimeSetType:"1"})},e.onChangeCheckbox=function(t){var a=e.state.myCourseStudentClassList,s=e.state.schoolVo,n={};t.forEach((function(e){if(void 0===s[e]||null===s[e]){var t="",r="";a.forEach((function(a){e===a.id&&(t=a.schoolClassName,r=a.studentAmount)})),n[e]={schoolClassId:e,schoolClassName:t,studentCount:r,studyEndTime:void 0,studyFromTime:void 0,studyTimeShortname:"4"}}else n[e]=s[e]})),e.setState({schoolVo:n})},e.getItemsValue=function(){var t=e.state,a=t.myCourseStudentClassList,s=t.myClassTeamList,n=e.props.form.getFieldsValue(),r=e.props.form.getFieldValue("studyTimeSetType"),c=e.props.form.getFieldValue("assignType"),o=[],i=[],l=[];if("1"===c){if(void 0===n.schoolClassId||null===n.schoolClassId)return f.a.error("\u73ed\u7ea7\u4e0d\u80fd\u4e3a\u7a7a\uff01"),null;Object.values(n.schoolClassId).forEach((function(e){a.forEach((function(t){if(e===t.id){var a=t.schoolStudentList.map((function(t){return{studentId:t.id,schoolClassId:e}}));i=i.concat(a);var s={schoolClassId:e,studentCount:t.studentAmount,studyEndTime:void 0,studyFromTime:void 0,studyTimeShortname:""};o.push(s)}}))})),"2"===r&&(o=(o=Object.values(n.schoolVo)).map((function(e){return null!==e.studyEndTime&&void 0!==e.studyEndTime&&(e.studyEndTime=x.a.isMoment(e.studyEndTime)?e.studyEndTime.format("YYYY-MM-DD HH:mm:ss"):e.studyEndTime,e.studyFromTime=x.a.isMoment(e.studyFromTime)?e.studyFromTime.format("YYYY-MM-DD HH:mm:ss"):e.studyFromTime),e})))}else if("2"===c){if(void 0===n.teamId||null===n.teamId)return f.a.error("\u5c0f\u7ec4\u4e0d\u80fd\u4e3a\u7a7a\uff01"),null;var u=[];s.forEach((function(e){u=u.concat(e.schoolClassTeamList)})),Object.keys(n.teamId).forEach((function(e){if(n.teamId[e].length>0){var t=[];n.teamId[e].forEach((function(a){var s=[];u.forEach((function(t){a===t.id&&(s=t.studentList.map((function(t){return{studentId:t.userId,schoolClassId:e}})))}));var n={teamId:a,schoolClassId:e,listHomeworkStudent:s};t=t.concat(s),i=i.concat(s),l.push(n)})),a.forEach((function(a){if(e===a.id){var s={schoolClassId:e,studentCount:t.length};o.push(s)}}))}}))}else if("3"===c){if(void 0===n.studentId||null===n.studentId)return f.a.error("\u5b66\u751f\u4e0d\u80fd\u4e3a\u7a7a\uff01"),null;var m=n.studentId;Object.keys(m).forEach((function(e){if(m[e].length>0){a.forEach((function(t){if(e===t.id){var a={schoolClassId:e,studentCount:m[e].length};o.push(a)}}));var t=m[e].map((function(t){return{studentId:t,schoolClassId:e}}));i=i.concat(t)}}))}return Object(y.a)(Object(y.a)({},n),{},{listHomeworkSchoolClassVo:o,listHomeworkStudent:i,listHomeworkTeam:l})},e}return Object(v.a)(a,[{key:"componentWillMount",value:function(){var e=this.props,t=e.homeworkStatus,a=e.homeworkId,s=e.courseId,n=e.homeworkName,r=e.courseTestNum,c=e.resourceType,o=e.classTime;this.setState({resourceType:c,courseTestNum:r,homeworkStatus:t,homeworkId:a,courseId:s,homeworkName:n,homeWork:Object(y.a)(Object(y.a)({},this.state.homeWork),{},{homeworkName:n}),classTime:o})}},{key:"componentWillReceiveProps",value:function(e){var t=this,a=e.homeworkStatus,s=e.homeworkId,n=e.courseId,r=e.homeworkName,c=e.courseTestNum,o=e.resourceType;this.state.courseId===n&&this.state.homeworkName===r&&this.state.homeworkId===s&&this.state.homeworkStatus===a||this.setState({resourceType:o,courseTestNum:c,homeworkStatus:a,homeworkId:s,homeworkName:r,courseId:n,homeWork:Object(y.a)(Object(y.a)({},this.state.homeWork),{},{homeworkName:r})},(function(){t.getBaseList()}))}},{key:"componentDidMount",value:function(){this.getBaseList()}},{key:"getBaseList",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0==(t=this.state.homeworkId)||null===t||""===t){e.next=4;break}return e.next=4,this.getHomeWork(t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHomeWork",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var a,s,n,r,c,o,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={id:t},e.next=3,Object(S.f)(a);case 3:(s=e.sent).studyEndTime=s.studyEndTime?x()(s.studyEndTime,"YYYY-MM-DD HH:mm:ss"):void 0,s.studyFromTime=s.studyFromTime?x()(s.studyFromTime,"YYYY-MM-DD HH:mm:ss"):void 0,n=this.state.myClassTeamList,"1"===s.assignType?(r=s.listHomeworkSchoolClassVo.map((function(e){return e.schoolClassId})),"2"===s.studyTimeSetType&&(c={},s.listHomeworkSchoolClassVo.map((function(e){var t="",a="";n.forEach((function(s){e.schoolClassId===s.id&&(t=s.schoolClassName,a=s.studentAmount)})),c[e.schoolClassId]={schoolClassId:e.schoolClassId,schoolClassName:t,studentCount:a,studyEndTime:e.studyEndTime?x()(e.studyEndTime,"YYYY-MM-DD HH:mm:ss"):void 0,studyFromTime:e.studyFromTime?x()(e.studyFromTime,"YYYY-MM-DD HH:mm:ss"):void 0,studyTimeShortname:e.studyTimeShortname}})),this.setState({schoolVo:c})),this.setState({homeWork:Object(y.a)(Object(y.a)({},s),{},{schoolClassId:r})},(function(){}))):"2"===s.assignType?(o=s.listHomeworkTeam.map((function(e){return e.teamId})),this.setState({homeWork:Object(y.a)(Object(y.a)({},s),{},{listTeam:o})})):"3"===s.assignType&&(i=s.listHomeworkStudent.map((function(e){return e.studentId})),this.setState({homeWork:Object(y.a)(Object(y.a)({},s),{},{listStudent:i})}));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"myClassTeam",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={courseId:this.state.courseId},e.next=3,Object(T.t)(t);case 3:a=e.sent,this.setState({myClassTeamList:a});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"myCourseStudentClass",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={courseId:this.state.courseId},e.next=3,Object(T.v)(t);case 3:a=e.sent,this.setState({myCourseStudentClassList:a});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"disabledDate",value:function(e){return e<x()().subtract(1,"day")}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state,s=a.homeWork,r=a.classTime,o=a.issueType,l=a.homeworkStatus;return N.a.createElement(I.a,Object.assign({layout:"horizontal",style:{paddingBottom:18}},{labelCol:{span:5},wrapperCol:{span:19}},{className:"form-release"}),N.a.createElement(c.a,null,N.a.createElement(u.a,{span:5},N.a.createElement("span",{className:"create-course-title "},"\u4e0a\u8bfe\u65f6\u95f4\uff1a")),N.a.createElement(u.a,null,N.a.createElement(O,null,t("studyFromTime",{initialValue:r?x()(r||"YYYY-MM-DD HH:mm:ss"):void 0})(N.a.createElement(i.a,{style:{width:"95%"},disabled:"2"===l,format:"YYYY-MM-DD HH:mm:ss",placeholder:"\u8bf7\u9009\u62e9\u5f00\u59cb\u65f6\u95f4",disabledDate:this.disabledDate.bind(this),showTime:!0}))))),N.a.createElement(c.a,null,N.a.createElement(u.a,{span:5},N.a.createElement("span",{className:"create-course-title "},N.a.createElement("span",{className:"red"},"*"),"\u8bfe\u5802\u53d1\u5e03\uff1a")),N.a.createElement(u.a,null,N.a.createElement(O,null,t("issueType",{initialValue:o,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u53d1\u5e03\u7c7b\u578b"}]})(N.a.createElement(n.a.Group,{onChange:function(t){e.setState({issueType:t.target.value})},value:this.state.value},N.a.createElement(n.a,{value:0},"\u7acb\u5373\u53d1\u5e03")))))),o?N.a.createElement(N.a.Fragment,null,N.a.createElement(c.a,null,N.a.createElement(u.a,{span:5},N.a.createElement("span",{className:"create-course-title "},N.a.createElement("span",{className:"red"},"\xa0"),"\xa0")),N.a.createElement(u.a,null,N.a.createElement(O,null,t("studyEndTime",{initialValue:s.studyEndTime,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7ed3\u675f\u65f6\u95f4"}]})(N.a.createElement(i.a,{style:{width:"95%"},format:"YYYY-MM-DD HH:mm:ss",placeholder:"\u8bf7\u9009\u62e9\u53d1\u5e03\u65f6\u95f4",showTime:!0}))))),N.a.createElement(c.a,{className:"release-sty"},N.a.createElement(u.a,{span:5}),N.a.createElement(u.a,{style:{color:"rgba(234, 93, 10, 0.64)"}},"(\u6ce8\uff1a\u53d1\u5e03\u65f6\u95f4\u8981\u5c0f\u4e8e\u4e0a\u8bfe\u65f6\u95f4)"))):"")}}]),a}(C.Component),M=I.a.create()(A);t.a=M},1954:function(e,t,a){},2110:function(e,t,a){"use strict";var s=a(0),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},r=a(238),c=function(e,t){return s.createElement(r.a,Object.assign({},e,{ref:t,icon:n}))};c.displayName="EditOutlined";t.a=s.forwardRef(c)},2190:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAQCAYAAAD52jQlAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAE9SURBVHgBtVTRUcMwDH3t9Z+wQZiAjNANaDeACTg2oBOUDRihMAFhgmaDZoOGCYIelS6ScZKvvrt3Vmzp2bLkLDCgFK4R0QobYaffhfpVzqdzfn9YCN+Fm2ThR3jjBFoNpl27TfxG5IfwiZO9LkzhTTkFapxorFwKU5hbDz5LN/ksPArPuJye4xcuaRloH/REvZIxe6++cva38FN3JJlOhXhK2jsMxbGNijHRJjkRg2pEdM7PhNrEJ6TPLjhjSJvjCbF9rBiW9lHtfSrcu4C0C+z7VWlZYMQvVB8uwE5md1tnRDaI6bdwd+9F2Yf3iHdWCrfOhxseEF/Zg47bnOgj5kGxuzmnJa6AnGiuYDmUYwv8obD6/BFUGPrTgqwvi4xY5w7QaNxaeMs73enkC/43sr2qSu0asUgGW+erxC8w/lViXVavnwAAAABJRU5ErkJggg=="},2191:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIiSURBVHgBzVVNTttQEJ55NmrCihvUGyqbTVlWVQz2CZobxJwg9ARxTlBzg3IC2hNgiVTq0t1gl019hLcqhMRvOi9uUsd5kSiw4FvYTzOeb/6fEQxwnGBvt1P1ieDt7dQal2Uqtaz7qhohQh/MSBXMxkXxvbTbGs87GgqoYuIzEpX8Gms5O/nEsgCAzk2MBDhA2HH4GNptQiZKFNHZ7dSOdYQrZR3hyXU++WIi9d74GQq40OcVqesGTh0hjfOfk9gQyh7rJGwBCZLInjXEUihwfqoI5HVhIPxPrEhRwTE/zuAZYLuuHwkghwt9iITZgduL5wqzm5ur9dohSEHKeRApgJUSVJd1NSAiEtn9vUjaH/J4fUWwRuzUMVPhgB+fa/9QNwmZeGEMs1DPWtvkkOd02qkSzuq1iZL78WNjYjSx675z4KXib/q9QCy2ZRPETcvbTWvgwD0acc36v6ciXKaOCyFQzOdyi51DCB/z/CoxEta2/MJsSczdp4hQsdG3xBxJL+ZNYWNY03ue30dSAU9FBsjjiErudpV2cMpGPun0YQu0Tn8DW9P3I8/1fzVlAp6OY25M2hTY8AToMQSoIgUUNuWPjrSemOqS+Josikna1Nm8f5lAHOzvv5eWpTauNtYNeUgyfdZbNevOIkXiA6cccKHP9Ra1bWyw1Akp62LHsiK+B0xBScD5Kj2+G4a4+HVQ2I5wCfyXjnlF7+46cm2fH4A/aLzw3sb+CdoAAAAASUVORK5CYII="},2681:function(e,t,a){"use strict";var s=a(0),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},r=a(238),c=function(e,t){return s.createElement(r.a,Object.assign({},e,{ref:t,icon:n}))};c.displayName="DeleteOutlined";t.a=s.forwardRef(c)},2770:function(e,t,a){"use strict";a.r(t);a(74);var s,n=a(17),r=a.n(n),c=(a(177),a(110)),o=a.n(c),i=(a(317),a(206)),l=a.n(i),u=(a(276),a(83)),m=a.n(u),d=(a(45),a(6)),p=a.n(d),h=(a(109),a(72)),f=a.n(h),y=(a(135),a(73)),g=a.n(y),v=(a(40),a(5)),k=a.n(v),E=(a(43),a(2)),b=a.n(E),I=a(3),C=a.n(I),N=a(7),T=a(20),S=(a(54),a(15)),w=a.n(S),x=a(9),O=a(12),A=a(52),M=a(11),j=a(10),F=(a(51),a(22)),L=a.n(F),D=(a(67),a(28)),R=a.n(D),V=(a(204),a(101)),z=a.n(V),B=(a(41),a(8)),H=a.n(B),Y=a(0),U=a.n(Y),J=a(35),K=a(1749),W=a(2110),P=a(2681),q=(a(1810),a(550)),Q=H.a.Item,G=L.a.TextArea,_=function(e){Object(M.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(x.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={},e.handleResetForm=function(t){e.props.form.resetFields()},e.getItemsValue=function(){return e.props.form.getFieldsValue()},e}return Object(O.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e={labelCol:{span:5},wrapperCol:{span:19}},t=this.props.form.getFieldDecorator,a=this.props,s=a.courseStepVo,n=a.optype,r=a.pattern,c=a.displayOrder;return U.a.createElement(H.a,Object.assign({layout:"horizontal",style:{paddingBottom:18}},e),U.a.createElement(k.a,null,U.a.createElement(b.a,{span:5},U.a.createElement("span",{className:"create-course-title "},"\u73af\u8282\u540d\u79f0\uff1a")),U.a.createElement(b.a,null,U.a.createElement(Q,e,t("stepName",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u73af\u8282\u540d\u79f0"}],initialValue:s?s.stepName:""})(U.a.createElement(L.a,{type:"text",placeholder:"\u8bf7\u8f93\u5165\u73af\u8282\u540d\u79f0",onChange:this.handelGetName}))))),U.a.createElement(k.a,null,U.a.createElement(b.a,{span:5},U.a.createElement("span",{className:"create-course-title "},"\u73af\u8282\u63cf\u8ff0\uff1a")),U.a.createElement(b.a,null,U.a.createElement(Q,e,t("stepMemo",{initialValue:s?s.stepMemo:""})(U.a.createElement(G,{rows:4,placeholder:"\u8bf7\u8f93\u5165\u73af\u8282\u63cf\u8ff0",style:{resize:"none"}}))))),U.a.createElement(k.a,{style:{display:"create"==n||2==r?"block":"none"}},U.a.createElement(b.a,{span:5},U.a.createElement("span",{className:"create-course-title "},"\u6392\u5e8f\uff1a")),U.a.createElement(b.a,null,U.a.createElement(Q,e,t("displayOrder",{rules:[{message:"\u53ea\u80fd\u8f93\u5165\u6570\u5b57",pattern:/^[+]?(0|([1-9]\d*))(\.\d+)?$/}],initialValue:c})(U.a.createElement(L.a,{type:"text",placeholder:"\u8bf7\u8f93\u5165\u6392\u5e8f\u6570\u5b57"}))))))}}]),a}(Y.Component),Z=H.a.create()(_),X=a(39),$=a(1953),ee=(a(278),a(156)),te=a.n(ee),ae=a(98),se=(a(79),a(30)),ne=a.n(se),re=a(70),ce=a(111),oe=a(75),ie=H.a.Item,le=ne.a.Option,ue=function(e){Object(M.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(x.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={fromValue:1,acceptType:".MOV,.mov,.doc,.docx,.xls,.xlsx,.wps,.wpt,.dps,.pdf,.rtf,.txt,.ppt,.pptx,.asf,.avi,.mpg,.3gp,.mp4,.rm,.rmvb,.wmv,.flv,.mp3,.wav,.wave,.wma,.doc,.docx,.xls,.xlsx,.wps,.wpt,.dps,.pdf,.rtf,.txt,.ppt,.pptx,.asf,.avi,.mpg,.3gp,.mp4,.rm,.rmvb,.wmv,.flv,.mp3,.wav,.wave,.wma,.swf,.jpg,.jpeg,.png,.tif,.tiff,.bmp,.gif,.webp,.7z,.rar,.tar,.zip",fileList:[],fileObj:void 0,fileId:"",resourceType:void 0,resourceFormatList:ce.e,mediumTypeList:ce.c,applicationType:"",fileTitle:"",lhFlag:!1},e.beforefn=function(t){var a=e.state.acceptType.split(","),s=t.file.name,n=s.substring(s.lastIndexOf("."),s.length);if(a.includes(n)){var r=t.file.size/1024/1024<500;if(!oe.a.isEmpty(t.file.size)&&!r)return w.a.error("\u6587\u4ef6\u4e0d\u80fd\u5927\u4e8e500M"),!1;e.fileChange(t)}else w.a.error("\u4e0d\u652f\u6301\u7684\u6587\u4ef6\u683c\u5f0f")},e.fileChange=function(t){t.event&&(e.state.fileId="");var a=Object(ae.a)(t.fileList);a=(a=a.slice(-1)).map((function(e){return e.response&&(e.url=e.response.url),e}));var s="";if((s=t.file.name).length>50&&(s=s.substring(0,50)),(t&&t.fileList&&t.fileList.length>0||e.state.fileId)&&e.setState({fileTitle:s},(function(){e.props.form.setFieldsValue({title:s})})),e.setState({fileList:a}),"done"===t.file.status)if(0===t.file.response.code){var n=t.file.response.result.id;e.setState({fileId:n}),w.a.success("".concat(t.file.name," \u4e0a\u4f20\u6210\u529f"))}else e.setState({fileList:[],fileId:void 0,fileTitle:""}),e.props.form.setFieldsValue({fileObj:void 0,title:""}),w.a.error(t.file.response.message);else"error"===t.file.status&&(e.setState({fileList:[],fileId:void 0}),e.props.form.setFieldsValue({fileObj:void 0,title:""}),w.a.error("".concat(t.file.name," \u4e0a\u4f20\u5931\u8d25")))},e.uploadSuccess=function(t,a){var s=t.result.id;a.fileId=s,e.setState({fileId:s,fileList:[a]})},e.uploadRemove=function(t){e.setState({fileId:void 0})},e.getItemsValue=function(){var t=e.props.form.getFieldsValue(),a=t.fileObj,s=t.resourceType,n=e.state.fileId,r=a?a.file.name:"",c=r.substring(r.lastIndexOf("."),r.length),o=e.getResourceFormat(c);return!a.event||n?n?{resourceName:r,resourceType:s,fileId:n,shareModel:3,resourceFormat:o}:{err:0}:{err:1}},e.resetFields=function(){return e.props.form.resetFields()},e.getResourceFormat=function(e){return".mp4"===e?"1":".mp3"===e?"2":[".swf"].includes(e)?"3":[".doc",".docx",".ppt","pptx",".pdf",".xlsx",".xls",".txt"].includes(e)?"4":[".jpg",".png",".gif",".jpeg"].includes(e)?"5":"6"},e}return Object(O.a)(a,[{key:"componentDidMount",value:function(){var e,t,a,s=this.props,n=s.modalData,r=s.lhFlag,c=null,o="";oe.a.isEmpty(n)||(e={file:{name:(n=JSON.parse(n)).title,uid:n.fileObj}},o=n.applicationType,a=[{uid:n.fileObj,name:n.title}],t=n.title,c=n.fileObj),this.setState({filter:e,applicationType:o,fileId:c,fileTitle:t,fileList:a,lhFlag:r})}},{key:"render",value:function(){var e=this,t={labelCol:{span:5},wrapperCol:{span:19}},a=this.state,s=a.fileList,n=a.acceptType,c=a.resourceFormatList,o=a.lhFlag,i=a.fileTitle,l=a.applicationType,u=a.filter,m={action:"/api/media/api/v1/media/addMedia",accept:n,headers:{token:Object(re.a)()},beforeUpload:this.beforeUpload,onChange:this.beforefn,onRemove:this.uploadRemove,showUploadList:{showDownloadIcon:!1}},d=this.props.form.getFieldDecorator;return U.a.createElement(H.a,Object.assign({layout:"horizontal",style:{paddingBottom:18}},t),U.a.createElement(k.a,null,U.a.createElement(b.a,{span:5},U.a.createElement("span",{className:"create-course-title "},U.a.createElement("span",{className:"red"},"*"),"\u9009\u62e9\u6587\u4ef6\uff1a")),U.a.createElement(b.a,{span:19},U.a.createElement(ie,t,d("fileObj",{initialValue:u,rules:[{required:!0,message:"\u8bf7\u4e0a\u4f20\u8d44\u6e90\u6587\u4ef6"}]})(U.a.createElement(te.a,Object.assign({},m,{fileList:s,disabled:o||!1}),U.a.createElement(p.a,{className:"upload-lh"},U.a.createElement(r.a,{type:"upload"})," \u70b9\u51fb\u4e0a\u4f20")))))),U.a.createElement(k.a,null,U.a.createElement(b.a,{span:5},U.a.createElement("span",{className:"create-course-title "},U.a.createElement("span",{className:"red"},"*"),"\u6587\u4ef6\u540d\u79f0\uff1a")),U.a.createElement(b.a,{span:19,className:"formItem-sty"},U.a.createElement(ie,t,d("title",{initialValue:i,rules:[{required:!0,message:"\u6587\u4ef6\u540d\u4e0d\u80fd\u4e3a\u7a7a"}]})(U.a.createElement(L.a,{style:{width:"100%"},onChange:function(t){t.target.value=t.target.value.replace(/^\s/,"");var a=t.target.value.replace(/^\s/,"");e.setState({fileTitle:a})},maxLength:50,suffix:U.a.createElement("span",null,i&&i.length?i.length:0,"/50")}))))),U.a.createElement(k.a,null,U.a.createElement(b.a,{span:5},U.a.createElement("span",{className:"create-course-title "},U.a.createElement("span",{className:"red"},"*"),"\u8d44\u6e90\u7c7b\u578b\uff1a")),U.a.createElement(b.a,{span:19,className:"formItem-sty"},U.a.createElement(ie,t,d("applicationType",{initialValue:l||void 0,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u8d44\u6e90\u7c7b\u578b"}]})(U.a.createElement(ne.a,{placeholder:"\u8bf7\u9009\u62e9\u8d44\u6e90\u7c7b\u578b",style:{width:"100%"}},c.map((function(e,t){return U.a.createElement(le,{key:t,value:e.id.toString()},e.text)}))))))))}}]),a}(Y.Component),me=H.a.create()(ue),de=H.a.Item,pe=ne.a.Option,he=function(e){Object(M.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(x.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={resourceName:void 0,content:void 0,resourceType:"11",resourceFormatList:ce.e},e.getItemsValue=function(){var t=e.props.form.getFieldsValue(),a=t.resourceName,s=t.content;return{resourceName:a,resourceType:t.resourceType,resourceFormat:"7",content:s,shareModel:3,title:a}},e.resetFields=function(){return e.props.form.resetFields()},e}return Object(O.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e,t={labelCol:{span:5},wrapperCol:{span:19}},a=this.props.form.getFieldDecorator,s=this.state.resourceFormatList,n=this.props,r=n.type,c=n.modalData,o=null,i="";return oe.a.isEmpty(c)||(e=(c=JSON.parse(c)).resourceName,o=c.content,i=c.applicationType),U.a.createElement(H.a,Object.assign({layout:"horizontal",style:{paddingBottom:18}},t),U.a.createElement(k.a,{style:{display:3==r?"block":"none"}},U.a.createElement(b.a,{span:5},U.a.createElement("span",{className:"create-course-title "},U.a.createElement("span",{className:"red"},"*"),"\u7f51\u9875\u6807\u9898\uff1a")),U.a.createElement(b.a,{span:19,className:"formItem-sty"},U.a.createElement(de,t,a("resourceName",{initialValue:e,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7f51\u9875\u6807\u9898"}]})(U.a.createElement(L.a,{type:"text",style:{width:"100%"},placeholder:"\u7f51\u9875\u6807\u9898",maxLength:40}))))),U.a.createElement(k.a,{style:{display:3==r?"block":"none"}},U.a.createElement(b.a,{span:5},U.a.createElement("span",{className:"create-course-title "},U.a.createElement("span",{className:"red"},"*"),"\u7f51\u9875\u5730\u5740\uff1a")),U.a.createElement(b.a,{span:19,className:"formItem-sty"},U.a.createElement(de,t,a("content",{initialValue:o,rules:[{type:"url",message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7f51\u9875\u5730\u5740"},{required:!0,message:"\u8bf7\u8f93\u5165\u7f51\u9875\u5730\u5740"}]})(U.a.createElement(L.a,{type:"text",style:{width:"100%"},placeholder:"\u7f51\u9875\u5730\u5740"}))))),U.a.createElement(k.a,null,U.a.createElement(b.a,{span:5},U.a.createElement("span",{className:"create-course-title "},U.a.createElement("span",{className:"red"},"*"),"\u5e94\u7528\u7c7b\u578b\uff1a")),U.a.createElement(b.a,{span:19,className:"formItem-sty"},U.a.createElement(de,t,a("applicationType",{initialValue:i?i.split(","):void 0,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5e94\u7528\u7c7b\u578b"}]})(U.a.createElement(ne.a,{placeholder:"\u8bf7\u9009\u62e9\u5e94\u7528\u7c7b\u578b",style:{width:"100%"},mode:"multiple"},s.map((function(e,t){return U.a.createElement(pe,{key:t,value:e.id.toString()},e.text)}))))))))}}]),a}(Y.Component),fe=H.a.create()(he),ye=(a(155),a(53)),ge=a.n(ye),ve=H.a.Item,ke=L.a.TextArea,Ee=function(e){Object(M.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(x.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={resourceName:void 0,content:void 0,submitType:["4","3"],resourceType:void 0},e.getItemsValue=function(){var t=e.props.form.getFieldsValue(),a=t.resourceName;return{resourceName:a,resourceType:"8",content:t.content,shareModel:3,title:a,submitType:t.submitType}},e.resetFields=function(){return e.props.form.resetFields()},e}return Object(O.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e={labelCol:{span:5},wrapperCol:{span:19}},t=this.props.form.getFieldDecorator,a=this.state,s=a.resourceName,n=a.content,r=a.submitType;return U.a.createElement(H.a,Object.assign({layout:"horizontal",style:{paddingBottom:18}},e),U.a.createElement(k.a,null,U.a.createElement(b.a,{span:5},U.a.createElement("span",{className:"create-course-title "},"\u8ba8\u8bba\u6807\u9898\uff1a")),U.a.createElement(b.a,null,U.a.createElement(ve,e,t("resourceName",{initialValue:s,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6807\u9898"}]})(U.a.createElement(L.a,{type:"text",placeholder:"\u8bf7\u8f93\u5165\u6807\u9898"}))))),U.a.createElement(k.a,null,U.a.createElement(b.a,{span:5},U.a.createElement("span",{className:"create-course-title "},"\u5185\u5bb9\u63cf\u8ff0\uff1a")),U.a.createElement(b.a,null,U.a.createElement(ve,e,t("content",{initialValue:n,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5185\u5bb9\u63cf\u8ff0"}]})(U.a.createElement(ke,{rows:4,placeholder:"\u8bf7\u8f93\u5165\u5185\u5bb9\u63cf\u8ff0",style:{resize:"none"}}))))),U.a.createElement(k.a,null,U.a.createElement(b.a,{span:5},U.a.createElement("span",{className:"create-course-title "},"\u5b66\u751f\u63d0\u4ea4\u683c\u5f0f\uff1a")),U.a.createElement(b.a,{span:19},U.a.createElement(ve,e,t("submitType",{initialValue:r,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u63d0\u4ea4\u683c\u5f0f"}]})(U.a.createElement(ge.a.Group,{options:[{label:"\u6587\u6863",value:"4"},{label:"\u56fe\u7247",value:"3"},{label:"\u97f3\u9891",value:"2"},{label:"\u5fae\u89c6\u9891",value:"1"}]}))))))}}]),a}(Y.Component),be=H.a.create()(Ee),Ie=function(e){Object(M.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(x.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={},e}return Object(O.a)(a,[{key:"componentDidMount",value:function(){}},{key:"format",value:function(e){if(void 0==e)return"";var t="",a=parseInt(e,10),s=0;return a<=60?t=a<10?"0".concat(a):a:(s=(s=Math.floor(a/60))<10?"0".concat(s):s,a=(a=Math.floor(a%60))<10?"0".concat(a):a,t="".concat(s,":").concat(a)),t}},{key:"render",value:function(){var e=this.props.courseItem;return U.a.createElement(k.a,{className:"rside-row"},U.a.createElement(b.a,{span:24,className:"rside-col modle"},U.a.createElement("div",{className:"rside-img-box "},U.a.createElement("span",{className:"rside-name"},1==e.ourSchoolUsedFlag?"\u672c\u6821\u8001\u5e08\u4f7f\u7528\u8fc7":""),U.a.createElement("p",{className:"rside-radio-box"},U.a.createElement(r.a,{type:"caret-right",theme:"filled"}),U.a.createElement("span",null,this.format(e.duration))),U.a.createElement("img",{className:"rside-col-img",src:"/api/media/api/v1/media/showImage/"+e.coverFileId,alt:""})),U.a.createElement("p",{className:"rside-col-name"},U.a.createElement("span",null,"\u521b\u5efa\u516c\u53f8\u540d"),U.a.createElement("span",{className:"rside-col-use"},U.a.createElement("span",null,"\u4f7f\u7528\u91cf",e.usedNum),U.a.createElement("span",null," \u6536\u85cf\u91cf",e.collectNum))),U.a.createElement("p",{className:"rside-col-time"},"\u521b\u5efa\u4e8e ",e.createTime,"    \u6700\u8fd1\u66f4\u65b0 ",e.updateTime," "),U.a.createElement("p",{className:"rside-col-title"},"\u8d44\u6e90\u6765\u6e90"),U.a.createElement("p",{className:"rside-col-doc"},e.unitName)))}}]),a}(Y.Component),Ce=a(27),Ne=function(e){Object(M.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(x.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={testDetail:{},testRealMap:{},testBasketIdList:[],testBasketMax:0,testPointNameStr:""},e.testRealFilter=function(t){return e.state.testRealMap[t]},e.getStem=function(t){var a=U.a.createElement("span",null,1===t.examFlag?"\uff08".concat(t.examYear," \xb7 ").concat(e.testRealFilter(t.examFrom),"\uff09"):"");if("2"===t.testForm){var s=t.courseTestBlankAnwser,n=t.stem;return s.filter((function(e){return 1===e.standardFlag})).forEach((function(e){n=n.replace("___".concat(e.blankId,"___"),'<span class="blank-show-anwser">&nbsp;&nbsp;'.concat(e.anwserText,"&nbsp;&nbsp;</span>"))})),U.a.createElement("div",null,a,U.a.createElement("span",{dangerouslySetInnerHTML:{__html:n}}))}return U.a.createElement("div",null,a,U.a.createElement("span",{dangerouslySetInnerHTML:{__html:t.stem}}))},e}return Object(O.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.testRealMap,s=t.testDetail,n=t.testBasketIdList,r=t.testBasketMax;this.setState({testRealMap:a,testDetail:s,testBasketIdList:n,testBasketMax:r},(function(){return e.getTestPoint()}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this;this.setState({testDetail:e.testDetail,testBasketIdList:e.testBasketIdList,testBasketMax:e.testBasketMax},(function(){return t.getTestPoint()}))}},{key:"getTestPoint",value:function(){var e=Object(N.a)(C.a.mark((function e(){var t,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ce.v)({resourceId:this.state.testDetail.resourceId});case 2:t=e.sent,a=t.map((function(e){return e.pointName})).join(","),this.setState({testPointNameStr:a});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.testDetail,a=e.testPointNameStr;return U.a.createElement("div",{className:"analyze-wrap-modal"},U.a.createElement(g.a,{className:"analyze-modal-card",title:this.getStem(t),bordered:!1},"1"===t.testForm||"3"===t.testForm?U.a.createElement(k.a,{type:"flex",className:"question-select",gutter:20},t.courseTestChooseAnwser.map((function(e){return U.a.createElement(b.a,{key:e.id,span:6,className:1===e.rightFlag?"showAnswerActive":""},e.optionName,".",e.memo)}))):"","4"===t.testForm?U.a.createElement(k.a,{type:"flex",className:"question-select judge",gutter:20},U.a.createElement(b.a,{span:6,className:1===t.courseTestJudgeAnwser.rightFlag?"showAnswerActive":""},"\u6b63\u786e"),U.a.createElement(b.a,{span:6,className:0===t.courseTestJudgeAnwser.rightFlag?"showAnswerActive":""},"\u9519\u8bef")):"","8"===t.testForm?U.a.createElement("div",{className:"question-select multiple-question"},t.courseTestOtherVo.map((function(e,t){return U.a.createElement("div",{key:t},U.a.createElement("p",{className:"multiple-tit"},t+1+"."+e.stem),"1"===e.testForm||"3"===e.testForm?U.a.createElement(k.a,{type:"flex",className:"question-select",gutter:20},e.courseTestChooseAnwser.map((function(e){return U.a.createElement(b.a,{key:e.id,span:6,className:1===e.rightFlag?"showAnswerActive":""},e.optionName,".",e.memo)}))):"","4"===e.testForm?U.a.createElement(k.a,{type:"flex",className:"question-select judge",gutter:20},U.a.createElement(b.a,{span:6,className:1===e.courseTestJudgeAnwser.rightFlag?"showAnswerActive":""},"\u6b63\u786e"),U.a.createElement(b.a,{span:6,className:0===e.courseTestJudgeAnwser.rightFlag?"showAnswerActive":""},"\u9519\u8bef")):"",U.a.createElement("div",null,null==e.courseTestEasyAnwser||""===e.courseTestEasyAnwser?"":e.courseTestEasyAnwser.anwserText))}))):"",U.a.createElement("p",null,null==t.courseTestEasyAnwser||""===t.courseTestEasyAnwser?"":t.courseTestEasyAnwser.anwserText),U.a.createElement("p",{className:"testing"},U.a.createElement("strong",null,"\u3010\u8003\u70b9\u3011"),U.a.createElement("span",{className:"testing-name"},a)),U.a.createElement("p",{className:"answer"},U.a.createElement("strong",null,"\u3010\u89e3\u7b54\u3011"),U.a.createElement("span",null,t.resolution))))}}]),a}(Y.Component),Te=H.a.create()(Ne),Se=R.a.confirm,we=function(e){Object(M.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(x.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={showAnswer:!1,testBasketIdList:[],pageNum:1,pageSize:10,total:0,testReal:"",testRealMap:"",testDiffCheck:"",AnalyzeTestModal:!1,testDetail:"",testBasketMax:"",courseTestList:[],resourceExamDetailModal:!1},e.getStem=function(t,a){var s=U.a.createElement("span",null,a+1+"\u3001"+(1===t.examFlag?"\uff08".concat(t.examYear," \xb7 ").concat(e.testRealFilter(t.examFrom),"\uff09"):"")),n=e.state.showAnswer;if("2"===t.testForm){if(n){var r=t.courseTestBlankAnwser,c=t.stem;return r.filter((function(e){return 1===e.standardFlag})).forEach((function(e){c=c.replace("___".concat(e.blankId,"___"),'<span class="blank-show-anwser">&nbsp;&nbsp;'.concat(e.anwserText,"&nbsp;&nbsp;</span>"))})),U.a.createElement("div",null,s,U.a.createElement("span",{dangerouslySetInnerHTML:{__html:c}}))}return U.a.createElement("div",null,s,U.a.createElement("span",{dangerouslySetInnerHTML:{__html:t.stem.replace(/___.*?___/g,"______")}}))}return U.a.createElement("div",null,s,U.a.createElement("span",{dangerouslySetInnerHTML:{__html:t.stem}}))},e.testRealFilter=function(t){return e.state.testRealMap[t]},e.analyzeTestModal=function(t){e.setState({AnalyzeTestModal:!0,testDetail:t})},e.analyzeCancel=function(){e.setState({AnalyzeTestModal:!1})},e.deleteResource=function(t,a){var s=Object(A.a)(e);Se({title:"\u6e29\u99a8\u63d0\u793a",content:"\u786e\u5b9a\u8981\u5220\u9664\u5f53\u524d\u5185\u5bb9\u5417\uff1f",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:function(){var e=s.state.courseTestList;e.splice(a,1),s.setState({courseTestList:e},(function(){Object(X.j)({id:t.courseRelateId}).then((function(t){w.a.success("\u5220\u9664\u6210\u529f!"),s.props.onSubmit(e.length,s.props.stepIndex)}))}))},onCancel:function(){}})},e}return Object(O.a)(a,[{key:"componentWillMount",value:function(){this.setState({courseTestList:this.props.proCourseTestList,resourceExamDetailModal:this.props.resourceExamDetailModal}),this.testReal({groupName:"testReal"}),this.setState({stepindex:this.props.stepindex})}},{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){1==this.state.resourceExamDetailModal&&this.setState({courseTestList:this.props.proCourseTestList})}},{key:"testReal",value:function(){var e=Object(N.a)(C.a.mark((function e(t){var a,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ce.o)(t);case 2:a=e.sent,s={},a.forEach((function(e){s[e.value]=e.title})),this.setState({testReal:a,testRealMap:s});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"format",value:function(e){if(void 0==e)return"";var t="",a=parseInt(e,10),s=0;return a<=60?t=a<10?"0".concat(a):a:(s=(s=Math.floor(a/60))<10?"0".concat(s):s,a=(a=Math.floor(a%60))<10?"0".concat(a):a,t="".concat(s,":").concat(a)),t}},{key:"render",value:function(){var e=this,t=this.state,a=t.showAnswer,s=t.testBasketIdList,n=t.testDetail,r=t.AnalyzeTestModal,c=t.testRealMap,o=t.testBasketMax,i=t.courseTestList,l=i.map((function(t,s){return U.a.createElement(g.a,{key:s,title:e.getStem(t,s),bordered:!1},"1"===t.testForm||"3"===t.testForm?U.a.createElement(k.a,{type:"flex",className:"question-select",gutter:20},t.courseTestChooseAnwser.map((function(e){return U.a.createElement(b.a,{key:e.id,span:6,className:1===e.rightFlag&&a?"showAnswerActive":""},e.optionName,".",e.memo)}))):"","4"===t.testForm?U.a.createElement(k.a,{type:"flex",className:"question-select judge",gutter:20},U.a.createElement(b.a,{span:6,className:1===t.courseTestJudgeAnwser.rightFlag&&a?"showAnswerActive":""},"\u6b63\u786e"),U.a.createElement(b.a,{span:6,className:0===t.courseTestJudgeAnwser.rightFlag&&a?"showAnswerActive":""},"\u9519\u8bef")):"","8"===t.testForm?U.a.createElement("div",{className:"question-select multiple-question"},t.courseTestOtherVo.map((function(e,t){return U.a.createElement("div",{key:t},U.a.createElement("p",{className:"multiple-tit"},t+1+"."+e.stem),"1"===e.testForm||"3"===e.testForm?U.a.createElement(k.a,{type:"flex",className:"question-select",gutter:20},e.courseTestChooseAnwser.map((function(e){return U.a.createElement(b.a,{key:e.id,span:6,className:1===e.rightFlag&&a?"showAnswerActive":""},e.optionName,".",e.memo)}))):"","4"===e.testForm?U.a.createElement(k.a,{type:"flex",className:"question-select judge",gutter:20},U.a.createElement(b.a,{span:6,className:1===e.courseTestJudgeAnwser.rightFlag&&a?"showAnswerActive":""},"\u6b63\u786e"),U.a.createElement(b.a,{span:6,className:0===e.courseTestJudgeAnwser.rightFlag&&a?"showAnswerActive":""},"\u9519\u8bef")):"",a?U.a.createElement("div",null,null==e.courseTestEasyAnwser||""===e.courseTestEasyAnwser?"":e.courseTestEasyAnwser.anwserText):"")}))):"",a?U.a.createElement("div",null,null==t.courseTestEasyAnwser||""===t.courseTestEasyAnwser?"":t.courseTestEasyAnwser.anwserText):"",U.a.createElement(k.a,{type:"flex",justify:"space-around",className:"question-container"},U.a.createElement(b.a,{span:12,className:"question-bottom-right"},U.a.createElement(p.a,{type:"primary",style:{marginRight:"10"},onClick:function(){return e.analyzeTestModal(t)}},"\u7b54\u6848\u89e3\u6790"),U.a.createElement(p.a,{type:"primary",style:{marginRight:"10"},onClick:function(){return e.deleteResource(t,s)}},"\u5220\u9664"))))}));return U.a.createElement("div",null,U.a.createElement(k.a,{className:"rside-row"},U.a.createElement(b.a,{span:24,className:"rside-col modle"},U.a.createElement("div",{className:"paper-right-bottom"},i&&i.length>0?U.a.createElement("div",null,l):U.a.createElement(f.a,null)))),U.a.createElement(R.a,{className:"modal-btn",visible:r,title:"\u8bd5\u9898\u7b54\u6848\u89e3\u6790",onOk:this.handleAccredit,onCancel:this.analyzeCancel,keyboard:!1,maskClosable:!1,footer:[U.a.createElement(p.a,{key:"back",onClick:this.analyzeCancel},"\u8fd4\u56de")]},U.a.createElement(Te,{testDetail:n,testRealMap:c,testBasketIdList:s,testBasketMax:o,testBasketIdListChange:function(){return e.testBasketIdListChange()},wrappedComponentRef:function(t){e.AnalysisCourseTestFrom=t}})))}}]),a}(Y.Component),xe=a(279),Oe=a(31),Ae=a(36),Me=a.n(Ae),je=a(1864),Fe=a(44),Le=H.a.Item,De=z.a.TabPane,Re=R.a.confirm,Ve=(L.a.TextArea,Object(J.g)(s=function(e){Object(M.a)(s,e);var t=Object(j.a)(s);function s(){var e;Object(x.a)(this,s);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={isClick:!0,homeworkId:"",homeworkStatus:"",stepId:"",pageNum:1,pageSize:10,total:0,homeWorkList:[],collectList:[],vidioCollectList:[],examCollectList:[],myResourceList:[],myVidioResourceList:[],myExamResourceList:[],courseStepVo:{},course:{},courseName:"",userId:localStorage.getItem("userInfo")&&JSON.parse(localStorage.getItem("userInfo")).user.id,teachingLinkData:[{stepName:"\u8bfe\u524d\u9884\u4e60",displayOrder:0}],myResourcesData:["1","2","3","4"],teachingStepsModalModal:!1,dialogStatus:"",oneKeyReleaseModal:!1,localFileModal:!1,insertModal:!1,networkLinkModal:!1,discussActivityModal:!1,resourceDetailModal:!1,resourceExamDetailModal:!1,addLocalResourceModal:!1,isDesign:!0,isState:1,isScore:1,createCourseModal:!1,ModalEditVisi:!1,randomkey:e.randomkey(),courseItem:{},pointId:"",subjectId:"",stageId:"",subjectKnowledgePointTree:[],courseTree:[],shareModeMap:{},courseTestList:[],stepIndex:null,nextorderdisplay:1,editType:1,editStepType:1,addZyType:3,announcement:"1",teachLinkId:"",whetherRelease:!1,announcementShow:!1,linkId:"",modalData:null,classStatus:"",majorId:"",zjcatalogId:"",hierarchy:"",courseId:"",catalogId:"",classroomId:"",modalKey:e.randomkey(),createTime:null,stepState:"",backType:"",inputdefaultValue:"",activeKey:"0",diffPoint:"",teachingGoal:"",teachingMethod:"",saveIsShow:!1,lhFlag:!1},e.handleOk=function(t){e.setState({announcementShow:!1,modalKey:e.randomkey()})},e.handleCancelModal=function(t){e.setState({announcementShow:!1,modalKey:e.randomkey()})},e.changeNum=function(t,a){e.setState({pageNum:t,pageSize:a},(function(){e.courseHomeworkList()}))},e.changePageSize=function(t,a){e.setState({pageNum:t,pageSize:a},(function(){e.courseHomeworkList()}))},e.goBack=function(){var t=e.props.location.search.split("?")[1],a=t.includes("%")?decodeURI(t):t,s=JSON.parse(a),n=e.state,r=n.backType,c=n.courseId,o={};"course-center-details"==r?(o={courseId:c,tabValue:"0",centerDetailsKey:"2"},e.props.history.push("/teching/course-center/course-center-details?".concat(encodeURI(JSON.stringify(o))))):(o={courseId:s.courseId},e.props.history.push("/teaching/my-course/course-directory?".concat(encodeURI(JSON.stringify(o)))))},e.designonClick=function(){e.setState({isDesign:!0,isTask:!1})},e.taskOnClick=function(){e.courseHomeworkList(),e.setState({isDesign:!1,isTask:!0})},e.showLocalModal=function(){e.setState({localFileModal:!0,modalData:null})},e.localCancel=function(){e.setState({localFileModal:!1,lhFlag:!1})},e.localFileSave=function(t){var a=e.state,s=a.isClick,n=a.stepId,r=a.classroomId;a.lhFlag;if(t=JSON.parse(t),s){e.setState({isClick:!1}),e.LocalFileForm.props.form.validateFields((function(a,s){var c=e.state,o=c.hierarchy,i=(c.courseId,c.catalogId);if(!a){var l=e.LocalFileForm.getItemsValue();1==l.err?w.a.info("\u8d44\u6e90\u6587\u4ef6\u6b63\u5728\u4e0a\u4f20\u4e2d\u8bf7\u7a0d\u540e..."):0==l.err?w.a.info("\u8bf7\u4e0a\u4f20\u8d44\u6e90\u6587\u4ef6"):t?Object(X.C)({applicationType:s.applicationType,id:t.resourceId,stepId:t.stepId,fileId:l.fileId,resourceName:l.resourceName,title:s.title}).then((function(t){w.a.success("\u4fdd\u5b58\u6210\u529f"),e.LocalFileForm.resetFields(),e.setState({localFileModal:!1,lhFlag:!1}),e.courseStepList()})):Object(X.C)({applicationType:s.applicationType,courseId:r,catalogId:i,hierarchy:o,fileId:l.fileId,resourceName:l.resourceName,stepId:n,sourceStatus:1,title:s.title}).then((function(t){w.a.success("\u4fdd\u5b58\u6210\u529f"),e.LocalFileForm.resetFields(),e.setState({localFileModal:!1,lhFlag:!1}),e.courseStepList()}))}}));var c=Object(A.a)(e);setTimeout((function(){c.setState({isClick:!0,lhFlag:!1})}),100)}},e.showInsertModal=function(){e.setState({insertModal:!0})},e.insertCancel=function(){e.setState({insertModal:!1})},e.networkCancel=function(){e.setState({networkLinkModal:!1})},e.networkSave=function(t){t=JSON.parse(t);var a=e.state,s=a.isClick,n=a.stepId,r=a.classroomId;a.lhFlag;if(s){e.setState({isClick:!1}),e.NetworkLinkForm.props.form.validateFields((function(a,s){if(!a){var c=e.state,o=c.courseId,i=c.catalogId,l=c.hierarchy;t?Object(X.C)({id:t.resourceId,mediaType:9,applicationType:s.applicationType,resourceName:s.resourceName,content:s.content,courseId:o,catalogId:i,hierarchy:l,stepId:t.stepId}).then((function(t){w.a.success("\u4fdd\u5b58\u6210\u529f"),e.NetworkLinkForm.resetFields(),e.setState({networkLinkModal:!1}),e.courseStepList()})):Object(X.C)({mediaType:9,applicationType:s.applicationType,resourceName:s.resourceName,content:s.content,courseId:r,catalogId:i,hierarchy:l,stepId:n}).then((function(t){w.a.success("\u4fdd\u5b58\u6210\u529f"),e.NetworkLinkForm.resetFields(),e.setState({networkLinkModal:!1}),e.courseStepList()}))}}));var c=Object(A.a)(e);setTimeout((function(){c.setState({isClick:!0})}),1e3)}},e.teamName=function(e,t){if("2"===e.assignType){var a=":";return null!=t.teamName&&""!==t.teamName&&t.teamName.map((function(e){return a+=":"!==a?"\u3001"+e.teamName:e.teamName})),a}if("3"===e.assignType)return t.renShu?":"+t.renShu+"\u4eba":""},e.deleteHomeWork=function(t){var a=Object(A.a)(e);R.a.confirm({title:"\u6e29\u99a8\u63d0\u793a",content:"\u786e\u5b9a\u8981\u5220\u9664\u5417\uff1f\u5220\u9664\u540e\u5c06\u65e0\u6cd5\u6062\u590d\uff01",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",className:"ModalConfirm",onOk:function(){Object(X.n)({id:t.id}).then((function(e){w.a.success("\u5220\u9664\u6210\u529f!"),a.courseHomeworkList()}))},onCancel:function(){}})},e.showDisscussModal=function(){e.setState({discussActivityModal:!0})},e.discussCancel=function(){e.setState({discussActivityModal:!1})},e.discussSave=function(){var t=e.state,a=t.isClick,s=t.classroomId;if(a){e.setState({isClick:!1}),e.DiscussActivityForm.props.form.validateFields((function(t,a){if(!t){var n=e.state,r=n.stepId,c=n.eBookId,o=n.catalogId,i=n.subjectId,l=n.stageId,u=e.DiscussActivityForm.getItemsValue();Object(X.B)(Object(T.a)(Object(T.a)({},u),{},{courseId:s,stepId:r,bookId:c,catalogId:o,subjectId:i,stageId:l})).then((function(t){w.a.success("\u6dfb\u52a0\u6210\u529f"),e.DiscussActivityForm.resetFields(),e.setState({discussActivityModal:!1}),e.courseStepList()}))}}));var n=Object(A.a)(e);setTimeout((function(){n.setState({isClick:!0})}),1e3)}},e.deleteResourceTest=function(e){Re({title:"\u6e29\u99a8\u63d0\u793a",content:"\u786e\u5b9a\u8981\u5220\u9664\u5417\uff1f\u5220\u9664\u540e\u5c06\u65e0\u6cd5\u6062\u590d\uff01",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",className:"ModalConfirm",onOk:function(){var t=this;Object(X.l)({stepId:e.id}).then((function(e){w.a.success("\u5220\u9664\u6210\u529f!"),t.courseStepList()}))},onCancel:function(){}})},e.showNtworkModal=function(){e.setState({networkLinkModal:!0,modalData:null})},e.deleteResource=function(t){var a=Object(A.a)(e);Re({title:"\u6e29\u99a8\u63d0\u793a",content:"\u786e\u5b9a\u8981\u5220\u9664\u5417\uff1f\u5220\u9664\u540e\u5c06\u65e0\u6cd5\u6062\u590d\uff01",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",className:"ModalConfirm",onOk:function(){Object(X.o)({id:t.id}).then((function(e){w.a.success("\u5220\u9664\u6210\u529f!"),a.courseStepList()}))},onCancel:function(){}})},e.HddeleteResource=function(t){var a=Object(A.a)(e);R.a.confirm({title:"\u786e\u5b9a\u5220\u9664\u8fd9\u9879\u4efb\u52a1\u5417 \uff1f",content:"\u5220\u9664\u540e\u5c06\u65e0\u6cd5\u6062\u590d\uff01",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",icon:U.a.createElement(K.a,null),className:"ModalConfirm border_none delete_activity",onOk:function(){Object(X.i)({id:t.id}).then((function(e){w.a.success("\u5220\u9664\u6210\u529f!"),a.courseStepList()}))},onCancel:function(){}})},e.showTeachingStepsModal=function(t){e.setState({courseStepVo:t.id?t:{},teachingStepsModalModal:!0,dialogStatus:t.id?"":"create"})},e.stepCreateCouse=function(t){if(e.state.isClick){e.setState({isClick:!1}),t.preventDefault(),e.ctreteTeachingStepsFrom.props.form.validateFields(function(){var t=Object(N.a)(C.a.mark((function t(a,s){var n,r,c,o,i;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a||(n=e.ctreteTeachingStepsFrom.getItemsValue(),r=e.state,c=r.courseStepVo,o=r.classroomId,i={id:c?c.id:"",courseId:o,stepName:n.stepName,stepMemo:n.stepMemo,validFlag:1,displayOrder:n.displayOrder},c.id?Object(X.e)(i).then((function(t){w.a.success("\u66f4\u65b0\u6210\u529f!"),e.courseStepList(),e.setState({teachingStepsModalModal:!1},(function(){e.ctreteTeachingStepsFrom.handleResetForm()}))})):Object(X.g)(i).then((function(t){w.a.success("\u521b\u5efa\u6210\u529f\uff01"),e.courseStepList(),e.setState({teachingStepsModalModal:!1},(function(){e.ctreteTeachingStepsFrom.handleResetForm()}))})));case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}());var a=Object(A.a)(e);setTimeout((function(){a.setState({isClick:!0})}),1e3)}},e.handleCancel=function(){e.setState({courseStepVo:{id:""},teachingStepsModalModal:!1}),e.ctreteTeachingStepsFrom.handleResetForm()},e.showResourceModal=function(t){e.setState({courseItem:t,resourceDetailModal:!0})},e.resourceDetailCancel=function(){e.setState({resourceDetailModal:!1})},e.addLocalResourceCancel=function(){e.setState({addLocalResourceModal:!1})},e.addLocalTaskCancel=function(){e.setState({addLocalTaskModal:!1})},e.tabCallback=function(e){},e.showTastModal=function(t,a){e.setState({homeworkId:t.id,homeworkStatus:a,resourceType:"",oneKeyReleaseModal:!0})},e.cannelReleaseModal=function(t){var a=Object(A.a)(e);R.a.confirm({title:"\u63d0\u793a",content:"\u786e\u5b9a\u53d6\u6d88\u53d1\u5e03\u5417\uff1f",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",className:"ModalConfirm",onOk:function(){Object(X.a)({id:t.id}).then((function(e){a.setState({stepState:t.stepState},(function(){0==e.code&&w.a.success("\u53d6\u6d88\u6210\u529f"),a.courseStepList()}))}))},onCancel:function(){}})},e.showReleaseModal=function(t){e.setState({homeworkId:null,homeworkStatus:"",teachLinkId:t.id,stepState:t.stepState,createTime:t.createTime,oneKeyReleaseModal:!0})},e.couseCancel=function(){e.setState({oneKeyReleaseModal:!1})},e.createCouse=function(t){if(e.state.isClick){e.setState({isClick:!1});var a=Object(A.a)(e);t.preventDefault(),a.OneKeyReleaseForm.props.form.validateFields(function(){var t=Object(N.a)(C.a.mark((function t(s,n){var r,c,o,i,l;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s){t.next=9;break}if(r=a.state,r.userId,r.courseId,r.courseStepVo,r.homeworkId,null!==(c=a.OneKeyReleaseForm.getItemsValue())){t.next=5;break}return t.abrupt("return");case 5:o=Me.a.isMoment(c.studyEndTime)?c.studyEndTime.format("YYYY-MM-DD HH:mm:ss"):c.studyEndTime,i=Me.a.isMoment(c.studyFromTime)?c.studyFromTime.format("YYYY-MM-DD HH:mm:ss"):c.studyFromTime,l={id:e.state.teachLinkId,releaseTime:o,attendClassTime:i},Object(xe.g)(l).then((function(t){w.a.success("\u4fee\u6539\u4f5c\u4e1a\u6210\u529f!"),a.setState({oneKeyReleaseModal:!1},(function(){e.courseStepList()}))}));case 9:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()),setTimeout((function(){a.setState({isClick:!0})}),1e3)}},e.showUpdateCouseModal=function(t,a){e.getResourcePoint(t.resourceId);e.state.course;e.setState({createCourseModal:!0,editType:a})},e.shareFilter=function(t){return e.state.shareModeMap[t]},e.handleCourseCancel=function(){e.setState({createCourseModal:!1}),e.ctretecCourseFrom.handleResetForm()},e.handCreateCouse=function(t){t.preventDefault(),e.ctretecCourseFrom.props.form.validateFields(function(){var t=Object(N.a)(C.a.mark((function t(a,s){var n,r,c;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a||(n=e.ctretecCourseFrom.getItemsValue(),r=e.state.course,n.id&&(c={catalogId:n.sectionName,courseName:n.courseName,eBookId:n.eBookId,id:n.id,shareModel:n.shareModel,teachingModel:n.patternValue,pointId:n.pointId,resourceId:n.resourceId},Object(Ce.D)(c).then((function(t){r.courseName=n.courseName,r.shareModel=n.shareModel,w.a.success("\u66f4\u65b0\u6210\u529f!"),e.setState({createCourseModal:!1,course:r,courseName:n.courseName},(function(){e.ctretecCourseFrom.handleResetForm(),e.props.history.push({pathname:"/teching/my-curriculum-detail",search:JSON.stringify(r)})}))}))));case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}())},e.resourceExamDetailCancel=function(){e.setState({resourceExamDetailModal:!1})},e.onDragStart=function(t,a,s,n,r){e.index1=a,e.index=s,e.type=n,e.dom=t,e.oldindex=s,e.oldarea=r,e.area=r,2==n&&(8!=t.resourceType&&9!=t.resourceType||(e.oldarea=1,e.area=1))},e.dragenter=function(t){if(""!=e.dom&&void 0!=e.dom)if(-1==t.target.className.indexOf("ant-col ant-col-11 zy")&&-1==t.target.className.indexOf("item-zy")||(e.area=0),-1==t.target.className.indexOf("ant-col ant-col-11 rw")&&-1==t.target.className.indexOf("item-rw")||(e.area=1),1==e.type&&-1!==t.target.className.indexOf("left-list-box"))e.area==e.oldarea&&(e.elemetnNode=t.target,t.target.style.boxShadow="0 0 8px rgba(30, 144, 255, 0.8)",e.index==e.oldindex&&e.area==e.oldarea?e.targetIndex=t.target.id:e.targetIndex=parseInt(t.target.id)+1);else if(1==e.type&&-1!==t.target.className.indexOf("ant-card-body")){if(e.area==e.oldarea){if(e.elemetnNode=t.target,0==e.oldarea?(e.index=t.target.getElementsByClassName("item-zy")[0].id,t.target.getElementsByClassName("item-zy")[0].style.boxShadow="0 0 8px rgba(30, 144, 255, 0.8)"):1==e.oldarea&&(e.index=t.target.getElementsByClassName("item-rw")[0].id,t.target.getElementsByClassName("item-rw")[0].style.boxShadow="0 0 8px rgba(30, 144, 255, 0.8)"),e.index==e.oldindex)return;e.state.teachingLinkData[e.index].courseRelateResourceList.length<=0?e.targetIndex=0:e.targetIndex=-1}}else 2==e.type&&-1!==t.target.className.indexOf("ant-card-body")?(e.elemetnNode=t.target,e.index=t.target.getElementsByClassName("ant-row h-row")[0].id):2==e.type&&-1!==t.target.className.indexOf("item-zy")?(e.area=0,e.elemetnNode=t.target,t.target.style.boxShadow="0 0 8px rgba(30, 144, 255, 0.8)",e.index=t.target.id,e.state.teachingLinkData[e.index].courseRelateResourceList.length<=0?e.targetIndex=0:e.targetIndex=-1):2==e.type&&-1!==t.target.className.indexOf("item-rw")?(e.area=1,e.elemetnNode=t.target,e.index=t.target.id,t.target.style.boxShadow="0 0 8px rgba(30, 144, 255, 0.8)",e.state.teachingLinkData[e.index].courseRelateResourceList.length<=0?e.targetIndex=0:e.targetIndex=-1):2==e.type&&-1!==t.target.className.indexOf("left-list-box")&&(-1!==t.target.className.indexOf("left-list")&&(e.area=0),-1!==t.target.className.indexOf("left-list1")&&(e.area=1),e.elemetnNode=t.target,t.target.style.boxShadow="0 0 8px rgba(30, 144, 255, 0.8)",console.log("type.2,left-list-box"),e.targetIndex=parseInt(t.target.id)+1)},e.onDrop=function(){if(e.resetStyle("left-list-box"),e.resetStyle("ant-card-body"),e.resetStyle(" item-rw"),e.resetStyle(" item-zy"),""!=e.dom&&void 0!=e.dom)if(e.oldarea==e.area){var t=e.state.teachingLinkData,a=t[e.index].courseRelateResourceList,s=t[e.oldindex].courseRelateResourceList;if(1==e.type){var n=e.state.teachingLinkData[e.index].courseRelateResourceList[e.targetIndex];if(e.index==e.oldindex)if(e.index1>e.targetIndex)a.splice(e.index1,1),a.splice(e.targetIndex,1,e.dom,n);else{if(!(e.index1<e.targetIndex))return;a.splice(e.targetIndex,1,n,e.dom),a.splice(e.index1,1)}else{var r=Object(T.a)(Object(T.a)({},e.dom),{},{stepId:t[e.index].id,display_order:0});if(a.length>0){var c=0;if(a.forEach((function(e,t){if(e.resourceId==r.resourceId&&e.courseId==r.courseId&&e.stepId==r.stepId)return w.a.error("\u8be5\u73af\u8282\u60a8\u5df2\u7ecf\u6dfb\u52a0\u8fc7\u8be5\u8d44\u6e90\uff0c\u8bf7\u4e0d\u8981\u91cd\u590d\u6dfb\u52a0"),void(c=1)})),1==c)return;e.targetIndex>=0?a.splice(e.targetIndex,0,r):a.push(r)}else a.push(r);a.forEach((function(e,t){e.displayOrder=t})),s.splice(e.index1,1),t[e.oldindex].courseRelateResourceList=s}}else if(2==e.type){var o=Object(T.a)(Object(T.a)({},e.dom),{},{id:null,collectFlag:"0",courseId:e.state.courseId,resourceId:e.dom.id,stepId:t[e.index].id,display_order:0});if(a.length>0){var i=0;if(a.forEach((function(e,t){if(e.resourceId==o.resourceId&&e.courseId==o.courseId&&e.stepId==o.stepId)return w.a.error("\u8be5\u73af\u8282\u60a8\u5df2\u7ecf\u6dfb\u52a0\u8fc7\u8be5\u8d44\u6e90\uff0c\u8bf7\u4e0d\u8981\u91cd\u590d\u6dfb\u52a0"),void(i=1)})),1==i)return;e.targetIndex>=0?a.splice(e.targetIndex,0,o):a.push(o)}else a.push(o)}a.forEach((function(e,t){e&&(e.displayOrder=t)})),t[e.index].courseRelateResourceList=a,Object(X.D)(a).then((function(a){if(2==e.type)if(e.targetIndex>=0)t[e.index].courseRelateResourceList[e.targetIndex].id=a[e.targetIndex].id;else{var s=t[e.index].courseRelateResourceList.length-1;t[e.index].courseRelateResourceList[s].id=a[s].id}e.dom="",e.setState({tmpTeachingLinkData:t},(function(){}))}))}else 0==e.oldarea?w.a.error("\u8d44\u6e90\u4e0d\u80fd\u6dfb\u52a0\u5230\u4efb\u52a1\u533a\uff01"):w.a.error("\u4efb\u52a1\u4e0d\u80fd\u6dfb\u52a0\u5230\u8d44\u6e90\u533a\uff01")},e.delType=function(t){var a=!0;return t.statList.length>0&&t.statList.forEach((function(e){"1"!==e.status&&(a=!1)})),a?U.a.createElement("a",{className:"editbtn task-del",onClick:function(){return e.deleteHomeWork(t)}},"\u5220\u9664"):U.a.createElement("p",{className:"editbtn task-delno"},"\u5220\u9664")},e.showTask=function(t){var a=0,s=0,n=0,r=t.statList.length;return r>0&&t.statList.forEach((function(e){"1"===e.status?a+=1:"2"===e.status&&(s+=1),"1"!==e.status&&"2"!==e.status||(n+=1)})),r===a?U.a.createElement("a",{className:"editbtn edit",onClick:function(){return e.showTastModal(t,"1")}},"\u7f16\u8f91"):r===s||r===n?U.a.createElement("a",{className:"editbtn edit",onClick:function(){return e.showTastModal(t,"2")}},"\u7f16\u8f91"):U.a.createElement("p",{className:"editbtn editno"},"\u7f16\u8f91")},e.modalSave=function(t){var a=e.state,s=a.isClick,n=a.courseId,r=a.classroomId,c=a.stepId,o=a.catalogId;if(s){e.setState({isClick:!1}),e.InteractionPopups.props.form.validateFields((function(a,s){if(!a){var i=e.InteractionPopups.getItemsValue(),l=e.state.announcement,u={};t?(t=JSON.parse(t),c=t.stepId,u={activityType:l,activityName:i.activityName,activityDesc:i.activityDesc,ruleType:e.InteractionPopups.state.ruleType,ruleContent:i.ruleContent,id:t.id,catalogId:o}):u={activityType:l,activityName:i.activityName,activityDesc:i.activityDesc,ruleType:i.ruleType,ruleContent:i.ruleContent,stepId:c,courseId:n,classroomId:r,catalogId:o},Object(xe.a)(u).then((function(t){w.a.success("\u6dfb\u52a0\u6210\u529f"),e.setState({announcementShow:!1,modalKey:e.randomkey()}),e.courseStepList()}))}}));var i=Object(A.a)(e);setTimeout((function(){i.setState({isClick:!0})}),1e3)}},e.modalCancel=function(){e.setState({announcementShow:!1,modalKey:e.randomkey()})},e.networkCancelEdit=function(){e.setState({ModalEditVisi:!1,randomkey:e.randomkey()})},e.networkSaveEdit=function(t){var a=e.state,s=a.isClick;a.ResourceType;if(s){e.setState({isClick:!1}),e.props.form.validateFields((function(a,s){a||e.ResourceSaveEdit(t)}));var n=Object(A.a)(e);setTimeout((function(){n.setState({isClick:!0})}),1e3)}},e.ResourceSaveEdit=function(t){if(e.state.isClick){e.setState({isClick:!1}),e.props.form.validateFields((function(a,s){if(!a){var n=e.state,r={courseId:n.courseId,catalogId:n.catalogId,hierarchy:n.hierarchy,title:s.resourceName};t&&(r.id=t.resourceId),Object(X.C)(r).then((function(t){w.a.success("\u6dfb\u52a0\u6210\u529f"),e.setState({ResourceType:!1,ModalEditVisi:!1,randomkey:e.randomkey()}),e.courseStepList()}))}}));var a=Object(A.a)(e);setTimeout((function(){a.setState({isClick:!0})}),1e3)}},e}return Object(O.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location.search.split("?")[1],a=t.includes("%")?decodeURI(t):t,s=JSON.parse(a),n=s.indexFlag,r=s.backType,c=s.activeKey;void 0==n||0==n?this.setState({isDesign:!0,isTask:!1}):1==n&&this.setState({isDesign:!1,isTask:!0},(function(){e.taskOnClick()}));var o=s.resourceId||s.classroomId;this.setState({backType:r,classroomId:o,catalogId:s.catalogId,activeKey:c},(function(){e.courseStepList()}))}},{key:"getCourseResourceCollectPageList",value:function(){var e=Object(N.a)(C.a.mark((function e(){var t,a,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(X.r)({pageNum:1,pageSize:10});case 2:return t=e.sent,this.setState({collectList:t.data}),e.next=6,Object(X.r)({pageNum:1,pageSize:2,resourceFormat:1});case 6:return a=e.sent,this.setState({vidioCollectList:a.data}),e.next=10,Object(X.r)({pageNum:1,pageSize:2,resourceType:9});case 10:s=e.sent,this.setState({examCollectList:s.data});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMyCourseResourcePageList",value:function(){var e=Object(N.a)(C.a.mark((function e(){var t,a,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(X.u)({pageNum:1,pageSize:10,catalogId:this.state.catalogId,examQueryNo:"Y",validFlag:1});case 2:return t=e.sent,this.setState({myResourceList:t.data}),e.next=6,Object(X.u)({pageNum:1,pageSize:2,resourceFormat:1,validFlag:1});case 6:return a=e.sent,this.setState({myVidioResourceList:a.data}),e.next=10,Object(X.u)({pageNum:1,pageSize:2,resourceType:9,validFlag:1});case 10:s=e.sent,this.setState({myExamResourceList:s.data});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"courseStepList",value:function(){var e=Object(N.a)(C.a.mark((function e(){var t,a,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(X.f)(this.state.classroomId);case 2:t=e.sent,a=t&&t.dataList?t.dataList:"",s=a.length,a&&s>0&&a.sort((function(e,t){return e.displayOrder-t.displayOrder})),this.setState({courseId:t?t.courseId:"",catalogId:t?t.catalogId:"",hierarchy:t?t.hierarchy:"",classroomId:t?t.classroomId:"",courseName:t?t.courseName:"",diffPoint:t?t.diffPoint:"",teachingGoal:t?t.teachingGoal:"",teachingMethod:t?t.teachingMethod:"",teachingLinkData:a,nextorderdisplay:s>0?a[s-1].displayOrder+1:1,whetherRelease:a.whetherRelease});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"courseHomeworkList",value:function(){var e=Object(N.a)(C.a.mark((function e(){var t,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={createUserId:this.state.userId,courseId:this.state.courseId,pageNum:this.state.pageNum,pageSize:this.state.pageSize},e.next=3,Object(X.c)(t);case 3:a=e.sent,this.setState({homeWorkList:a.data,total:a.total});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"jxeditResource",value:function(e,t){e.stopPropagation(),this.state.addZyType=3,this.state.inputdefaultValue=t.activityName;var a={id:t.id,stepId:t.stepId,activityName:t.activityName,activityDesc:t.activityDesc,ruleType:t.ruleType,activityType:t.activityType,ruleContent:t.ruleContent};if(6==t.activityType){var s={courseId:this.state.courseId,catalogId:this.state.catalogId,stepId:t.stepId,editId:t.homeworkId,classroomId:this.state.classroomId,url:"/teaching/my-course/my-curriculum-detail",titleType:"edit",backType:"curDetailBusy",activeKey:this.state.activeKey};this.props.history.push("/teaching/my-course/add-busy?".concat(encodeURI(JSON.stringify(s))))}else this.state.announcementShow=!0;this.setState({jxmodalData:JSON.stringify(a),announcement:t.activityType,modalKey:this.randomkey()})}},{key:"editResource",value:function(e){this.state.addZyType=3;var t=e.mediaType,a=e.sourceStatus;e.title?9==t?this.setState({networkLinkModal:!0,randomkey:this.randomkey(),modalData:JSON.stringify(e)}):1==a?this.setState({localFileModal:!0,lhFlag:!0,randomkey:this.randomkey(),modalData:JSON.stringify(e)}):this.setState({ModalEditVisi:!0,modalData:e,ResourceType:!0,randomkey:this.randomkey()}):w.a.warning("\u8d44\u6e90\u7f3a\u5c11\u53c2\u6570\uff0c\u4e0d\u80fd\u7f16\u8f91")}},{key:"getResourcePoint",value:function(){var e=Object(N.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ce.v)({resourceId:t});case 2:(a=e.sent).length>0?this.setState({pointId:a[0].pointId}):this.setState({pointId:""});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCourseListTree",value:function(){var e=Object(N.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Fe.d)({bookId:this.state.eBookId});case 2:t=e.sent,this.setState({courseTree:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSubjectKnowledgePointTree",value:function(){var e=Object(N.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==this.state.subjectId){e.next=4;break}e.t0=[],e.next=7;break;case 4:return e.next=6,Object(Fe.g)({subjectId:this.state.subjectId});case 6:e.t0=e.sent;case 7:t=e.t0,this.setState({subjectKnowledgePointTree:t});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getBook",value:function(){var e=Object(N.a)(C.a.mark((function e(){var t,a=this;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Fe.a)({bookId:this.state.eBookId});case 2:t=e.sent,this.setState({subjectId:t.subjectId,stageId:t.stageId},(function(){a.getSubjectKnowledgePointTree()}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDicList",value:function(){var e=Object(N.a)(C.a.mark((function e(t){var a,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ce.o)(t);case 2:a=e.sent,s={},a.forEach((function(e){s[e.value]=e.title})),this.setState({shareModeMap:s});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteExam",value:function(e,t){var a=this.state.teachingLinkData;a[t].courseTestNum=e,this.setState({teachingLinkData:a})}},{key:"dragleave",value:function(e){this.elemetnNode===e.target&&(this.resetStyle("left-list-box"),this.resetStyle("ant-card-body"),this.resetStyle(" item-rw"),this.resetStyle(" item-zy"))}},{key:"resetStyle",value:function(e){var t=document.getElementsByClassName(e),a=0,s=t.length;for(a=0;a<s;a++)t[a].style.boxShadow="none"}},{key:"confirm",value:function(){var e=Object(N.a)(C.a.mark((function e(t){var a,s,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={createUserId:(a=this).state.userId,courseId:a.state.courseId,pageNum:a.state.pageNum,pageSize:a.state.pageSize},e.next=4,Object(X.c)(s);case 4:if(!(null!=(n=e.sent)&&n.total>0)){e.next=8;break}return w.a.error("\u8bfe\u7a0b\u4e0b\u5df2\u7ecf\u5e03\u7f6e\u4e86\u4f5c\u4e1a\uff0c\u4e0d\u80fd\u5220\u9664\uff01"),e.abrupt("return");case 8:Re({title:"\u6e29\u99a8\u63d0\u793a",content:"\u786e\u5b9a\u8981\u5220\u9664\u672c\u8bfe\u7a0b\uff1f",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:function(){if(3===t.shareModel){var e=t.id;Object(Ce.h)({id:e}).then((function(e){w.a.success("\u522a\u9664\u6210\u529f\uff01"),a.props.history.push("/teching/my-urriculum")}))}else t.validFlag=0,Object(Ce.D)(t).then((function(e){w.a.success("\u522a\u9664\u6210\u529f!"),a.props.history.push("/teching/my-urriculum")}))},onCancel:function(){}});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteStep",value:function(){var e=Object(N.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this,!(this.state.teachingLinkData.length<=1)){e.next=4;break}return w.a.error("\u8bfe\u7a0b\u4e0b\u81f3\u5c11\u8981\u4fdd\u7559\u4e00\u4e2a\u73af\u8282\uff0c\u4e0d\u80fd\u5220\u9664\uff01"),e.abrupt("return");case 4:Re({title:"\u6e29\u99a8\u63d0\u793a",content:"\u786e\u5b9a\u8981\u5220\u9664\u672c\u6559\u5b66\u73af\u8282\uff0c\u4e00\u65e6\u5220\u9664\u5c06\u4e0d\u80fd\u6062\u590d\uff1f",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",className:"ModalConfirm",onOk:function(){Object(X.k)({id:t.id}).then((function(e){w.a.success("\u522a\u9664\u6210\u529f\uff01"),a.courseStepList()}))},onCancel:function(){}});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleMenuClick",value:function(e,t){if(this.state.modalData=null,this.state.stepId=e.id,this.state.randomkey=this.randomkey(),"1"==t.key)this.showLocalModal();else if("2"==t.key){var a=this.state,s=a.courseId,n=a.catalogId,r=a.hierarchy,c=(a.resourceId,a.activeKey),o={courseId:s,catalogId:n,hierarchy:r,addResource:1,classroomId:e.courseId,stepId:e.id,url:"/teaching/my-course/my-curriculum-detail",backType:"curriculumDetail",backTypeCourse:"curriculumDetail",activeKey:c};this.props.history.push("/teching/resource-library/my-resource?".concat(encodeURI(JSON.stringify(o))))}else"3"==t.key&&this.showNtworkModal()}},{key:"handleMenuClick1",value:function(e,t){if(this.state.stepId=e.id,"6"==t.key){var a={courseId:this.state.courseId,catalogId:this.state.catalogId,stepId:e.id,classroomId:e.courseId,url:"/teaching/my-course/my-curriculum-detail",backType:"curDetailBusy",activeKey:this.state.activeKey,titleType:"add"};this.props.history.push("/teaching/my-course/add-busy?".concat(encodeURI(JSON.stringify(a))))}else this.setState({announcement:t.key,announcementShow:!0,linkId:e.id,jxmodalData:null,modalKey:this.randomkey(),inputdefaultValue:t.item.props.children})}},{key:"HDgoCourseDetial",value:function(e){this.state.addZyType=3;var t={id:e.id,stepId:e.stepId,activityName:e.activityName,activityDesc:e.activityDesc,ruleType:e.ruleType,activityType:e.activityType,ruleContent:e.ruleContent};if(6==e.activityType){var a={courseId:this.state.courseId,catalogId:this.state.catalogId,stepId:e.stepId,editId:e.homeworkId,resourceId:this.state.classroomId,hierarchy:this.state.hierarchy,backType:"curDetailBusy",url:"/teaching/my-course/my-curriculum-detail",activeKey:this.state.activeKey};this.props.history.push("/teaching/my-course/check-busy?".concat(encodeURI(JSON.stringify(a))))}else this.state.announcementShow=!0;this.setState({jxmodalData:JSON.stringify(t),announcement:e.activityType,modalKey:this.randomkey()})}},{key:"goCourseDetial",value:function(e,t){if(t.stopPropagation(),0===window.getSelection().toString().length){var a=this.state,s=a.courseId,n=a.catalogId,r=a.hierarchy,c=a.activeKey,o=a.classroomId,i={courseId:s,catalogId:n,hierarchy:r,resourceId:e.resourceId,stepId:e.id,url:"/teaching/my-course/course-directory",header:"my-course",activeKey:c||0,classroomId:o};10==e.mediaType?this.props.history.push("/teaching/my-course/my-curriculum-detail?".concat(encodeURI(JSON.stringify(i)))):0==e.mediaType?(i={courseId:s,editId:e.id,catalogId:n,url:"/teaching/my-course/course-directory"},this.props.history.push("/teaching/my-course/check-busy?".concat(encodeURI(JSON.stringify(i))))):(i.formBKLB=!0,this.props.history.push("/teching/resource-preview?".concat(encodeURI(JSON.stringify(i)))))}}},{key:"randomkey",value:function(){return(Math.random(1e5)+"").replace(/^0\./,"")}},{key:"callbackChange",value:function(e){this.setState({activeKey:e})}},{key:"courseInfo",value:function(){var e=Object(N.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={classroomId:this.state.classroomId,diffPoint:this.state.diffPoint,teachingGoal:this.state.teachingGoal,teachingMethod:this.state.teachingMethod},e.next=3,Object(Ce.f)(t);case 3:0==e.sent.code&&(w.a.success("\u4fdd\u5b58\u6210\u529f"),this.courseStepList());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"lessonPlanInfo",value:function(){var e=this;this.props.form.validateFields((function(t,a){console.log(t,a),e.setState({diffPoint:a.diffPoint,teachingGoal:a.teachingGoal,teachingMethod:a.teachingMethod},(function(){e.courseInfo()}))}))}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,s={labelCol:{span:5},wrapperCol:{span:19}},n=this.state,c=n.courseId,i=n.modalData,u=n.homeWorkList,d=n.homeworkId,h=n.resourceType,y=n.pageNum,v=n.pageSize,E=n.total,I=n.isDesign,C=n.isTask,N=n.teachingLinkData,T=n.addLocalResourceModal,S=n.addLocalTaskModal,w=n.dialogStatus,x=n.resourceDetailModal,O=n.resourceExamDetailModal,A=n.teachingStepsModalModal,M=n.oneKeyReleaseModal,j=n.localFileModal,F=n.networkLinkModal,D=n.discussActivityModal,V=n.course,B=n.courseItem,Y=n.createCourseModal,J=n.courseTestList,Q=n.stepIndex,G=n.announcement,_=n.jxmodalData,X=n.courseName,ee=n.createTime,te=n.classStatus,ae=n.lhFlag,se=u&&u.length?u.map((function(t,a){return U.a.createElement(g.a,{type:"inner",key:a,title:U.a.createElement(Oe.b,{to:"/teching/curriculum-task-detail"},t.homeworkName)},e.showTask(t),e.delType(t),t.statList&&t.statList.length?t.statList.map((function(a){return U.a.createElement(k.a,{key:a.id},U.a.createElement(b.a,{span:8,className:"text-left"},U.a.createElement("p",null,a.className,e.teamName(t,a))),U.a.createElement(b.a,{span:3,className:"detail-state"},"0"===a.activityStatus?U.a.createElement("p",{className:"isActive"},"\u672a\u5f00\u59cb"):"","1"===a.activityStatus?U.a.createElement("p",{className:"isStart"},"\u8fdb\u884c\u4e2d"):"","2"===a.activityStatus?U.a.createElement("p",{className:"isActive"},"\u5df2\u7ed3\u675f"):""),U.a.createElement(b.a,{span:2},U.a.createElement("p",null,a.pace)),U.a.createElement(b.a,{span:3,className:"detail-isScore"},U.a.createElement("p",null,a.average>0?a.average+"%":"---")),U.a.createElement(b.a,{span:5},U.a.createElement("p",null,a.studyEndTime)))})):"")})):U.a.createElement(f.a,null);return U.a.createElement("div",{className:"curriculum-detail teach-main "},U.a.createElement("div",{className:"teach-main-box-l"},U.a.createElement("div",{className:"teach-main-cont"},U.a.createElement(k.a,{className:"detail-head-row"},U.a.createElement(b.a,{span:11},U.a.createElement("div",{className:"detail-head-tit"},U.a.createElement("a",{className:"detail-history",onClick:this.goBack.bind(this)},U.a.createElement("img",{src:a(521),style:{verticalAlign:"middle"},alt:""}),U.a.createElement("span",{className:"text-back",style:{fontSize:"16px",color:"#2A283D",verticalAlign:"middle",marginLeft:"10px"}},"\u8fd4\u56de")))),U.a.createElement(b.a,{span:12},X)),U.a.createElement("div",{className:"tab-teach-wrap-l"},U.a.createElement(z.a,{className:"tab-teach",activeKey:this.state.activeKey?this.state.activeKey:"0",onChange:this.callbackChange.bind(this)},N&&N.length?N.map((function(t,s){return U.a.createElement(De,{tab:"".concat(t.stepName),key:"".concat(t.displayOrder)},U.a.createElement(k.a,{gutter:24,className:"detail-cont-row"},U.a.createElement(b.a,{className:"detail-cont-col",span:24},U.a.createElement("div",{className:"tab-wrap"},U.a.createElement("div",{className:"version-detail",style:{display:!0===I?"block":"none"}},U.a.createElement("div",{className:"step-box"},U.a.createElement("div",{className:"detail-left-card"},U.a.createElement("div",{key:s},U.a.createElement(g.a,{style:{marginBottom:16},type:"inner",title:U.a.createElement("span",null,U.a.createElement("span",{id:s,className:"detail-card-tit"},U.a.createElement(K.a,{style:{marginRight:10}}),t.stepName,":"," "),t.stepMemo)},3!=te&&2==V.teachingModel?U.a.createElement("a",{className:"teaching-del",onClick:function(){return e.deleteStep(t)}},U.a.createElement(p.a,{type:"primary"},"\u5220\u9664")):"",U.a.createElement(k.a,{className:"h-row complete-content-add",id:s},U.a.createElement(b.a,{span:11,className:"zy"},U.a.createElement(g.a,{key:"Card1"+s,bordered:!1,className:"course-container"},U.a.createElement("div",{className:"title-card"},U.a.createElement("span",null,U.a.createElement("img",{src:a(2190),alt:""}),"\u5b66\u4e60\u8d44\u6e90"),3!=te?U.a.createElement(l.a,{overlay:U.a.createElement(m.a,{onClick:e.handleMenuClick.bind(e,t)},U.a.createElement(m.a.Item,{key:"1"},"\u672c\u5730\u4e0a\u4f20"),U.a.createElement(m.a.Item,{key:"2"},"\u8d44\u6e90\u5e93\u9009\u62e9"))},U.a.createElement(p.a,null,"\u6dfb\u52a0\u8d44\u6e90")):""),U.a.createElement("div",{className:"item-zy",id:s},U.a.createElement(k.a,{gutter:16},t.courseRelateResourceList&&t.courseRelateResourceList.length?t.courseRelateResourceList.map((function(s,n){return"9"!=s.resourceType&&"8"!=s.resourceType?U.a.createElement(b.a,{span:24,key:s.id},U.a.createElement("div",{className:"left-list-box",id:n},U.a.createElement("div",{className:"left-list"},"1"==s.mediaType?U.a.createElement("img",{className:"left-list-img",src:a(525),alt:"",onClick:function(t){return e.goCourseDetial(s,t)}}):"2"==s.mediaType?U.a.createElement("img",{className:"left-list-img",src:a(533),alt:"",onClick:function(t){return e.goCourseDetial(s,t)}}):"3"==s.mediaType?U.a.createElement("img",{className:"left-list-img",src:a(526),alt:"",onClick:function(t){return e.goCourseDetial(s,t)}}):"4"==s.mediaType?U.a.createElement("img",{className:"left-list-img",src:a(534),alt:"",onClick:function(t){return e.goCourseDetial(s,t)}}):"5"==s.mediaType?U.a.createElement("img",{className:"left-list-img",src:a(527),alt:"",onClick:function(t){return e.goCourseDetial(s,t)}}):"6"==s.mediaType?U.a.createElement("img",{className:"left-list-img",src:a(528),alt:"",onClick:function(t){return e.goCourseDetial(s,t)}}):"7"==s.mediaType?U.a.createElement("img",{className:"left-list-img",src:a(529),alt:"",onClick:function(t){return e.goCourseDetial(s,t)}}):"8"==s.mediaType?U.a.createElement("img",{className:"left-list-img",src:a(530),alt:"",onClick:function(t){return e.goCourseDetial(s,t)}}):"9"==s.mediaType?U.a.createElement("img",{className:"left-list-img",src:a(531),alt:"",onClick:function(t){return e.goCourseDetial(s,t)}}):"10"==s.mediaType?U.a.createElement("img",{className:"left-list-img",src:a(545),alt:"",onClick:function(t){return e.goCourseDetial(s,t)}}):"99"==s.mediaType?U.a.createElement("img",{className:"left-list-img",src:a(524),alt:"",onClick:function(t){return e.goCourseDetial(s,t)}}):"0"==s.mediaType?U.a.createElement("img",{className:"left-list-img",src:a(1763),alt:"",onClick:function(t){return e.goCourseDetial(s,t)}}):U.a.createElement("img",{className:"left-list-img",src:a(524),alt:"",onClick:function(t){return e.goCourseDetial(s,t)}}),U.a.createElement("p",{className:"left-list-name",onClick:function(t){return e.goCourseDetial(s,t)}},(10==s.mediaType||0==s.mediaType||9==s.mediaType||s.mediaType,s.title)),2!=t.displayOrder?U.a.createElement("div",{className:"icon-wrap"},U.a.createElement(W.a,{onClick:function(){return e.editResource(s)}}),3!=te?U.a.createElement(P.a,{onClick:function(){return e.deleteResource(s)}}):""):""))):""})):"")))),U.a.createElement(b.a,{span:11,className:"rw"},U.a.createElement(g.a,{key:"Card1"+s,bordered:!1,className:"course-container"},U.a.createElement("div",{className:"title-card"},U.a.createElement("span",null,U.a.createElement("img",{src:a(2191),alt:""}),"\u6559\u5b66\u4e92\u52a8"),3!=te?U.a.createElement(l.a,{overlay:U.a.createElement(m.a,{onClick:e.handleMenuClick1.bind(e,t)},1==t.displayOrder?U.a.createElement(m.a.Item,{key:"0"},"\u7b7e\u5230"):"",1==t.displayOrder?U.a.createElement(m.a.Item,{key:"1"},"\u62a2\u7b54"):"",1==t.displayOrder?U.a.createElement(m.a.Item,{key:"2"},"\u968f\u673a\u9009\u4eba"):"",U.a.createElement(m.a.Item,{key:"3"},"\u8ba8\u8bba"),U.a.createElement(m.a.Item,{key:"4"},"\u6295\u7968"),1==t.displayOrder?U.a.createElement(m.a.Item,{key:"5"},"\u5c0f\u7ec4\u4efb\u52a1"):"",U.a.createElement(m.a.Item,{key:"6"},"\u4f5c\u4e1a"))},U.a.createElement(p.a,null,"\u6dfb\u52a0\u4e92\u52a8")):""),U.a.createElement("div",{className:"item-rw",id:s},U.a.createElement(k.a,{gutter:16},t.courseActivitVos&&t.courseActivitVos.length?t.courseActivitVos.map((function(s,n){return U.a.createElement("div",{key:s.id},U.a.createElement(b.a,{span:24},U.a.createElement("div",{className:"left-list-box",id:n},U.a.createElement("div",{className:"left-list1"},"1"===s.activityType?U.a.createElement("img",{className:"left-list-img",src:a(2023),alt:"",onClick:function(){return e.HDgoCourseDetial(s)}}):"2"===s.activityType?U.a.createElement("img",{className:"left-list-img",src:a(2026),alt:"",onClick:function(){return e.HDgoCourseDetial(s)}}):"3"===s.activityType?U.a.createElement("img",{className:"left-list-img",src:a(2025),alt:"",onClick:function(){return e.HDgoCourseDetial(s)}}):"4"===s.activityType?U.a.createElement("img",{className:"left-list-img",src:a(2024),alt:"",onClick:function(){return e.HDgoCourseDetial(s)}}):"5"===s.activityType?U.a.createElement("img",{className:"left-list-img",src:a(2027),alt:""}):"6"===s.activityType?U.a.createElement("img",{className:"left-list-img",src:a(2028),alt:""}):U.a.createElement("img",{className:"left-list-img",src:a(2022),alt:"",onClick:function(){return e.HDgoCourseDetial(s)}}),U.a.createElement("p",{className:"left-list-name"},s.activityName,U.a.createElement("span",{className:"activityStatus"},"0"==s.activityStatus?U.a.createElement("span",null,"\u672a\u5f00\u59cb"):"1"==s.activityStatus?U.a.createElement("span",null,"\u8fdb\u884c\u4e2d"):U.a.createElement("span",null,"\u5df2\u7ed3\u675f"))),2!=t.displayOrder?U.a.createElement("div",{className:"icon-wrap"},U.a.createElement(W.a,{onClick:function(t){return e.jxeditResource(t,s)}}),3!=te?U.a.createElement(P.a,{onClick:function(){return e.HddeleteResource(s)}}):""):""))))})):""))))))))),10==te?U.a.createElement(p.a,{type:"dashed",className:"detail-add-btn",shape:"round",icon:"plus",size:"large",onClick:function(){return e.showTeachingStepsModal({})}},"\u65b0\u5efa\u6559\u5b66\u73af\u8282"):""),U.a.createElement("div",{className:"version-detail",style:{display:!0===C?"block":"none"}},U.a.createElement("div",{className:"detail-task"},U.a.createElement("div",{className:"detail-task-cont"},U.a.createElement(k.a,{className:"task-row"},U.a.createElement(b.a,{span:8,className:"text-left"}),U.a.createElement(b.a,{span:3},"\u72b6\u6001"),U.a.createElement(b.a,{span:2},"\u8fdb\u5ea6"),U.a.createElement(b.a,{span:3},"\u5e73\u5747\u5206"),U.a.createElement(b.a,{span:5},"\u622a\u6b62\u65e5\u671f"),U.a.createElement(b.a,{span:3},"\u64cd\u4f5c")),se,U.a.createElement("div",{style:{textAlign:"right",marginTop:10}},U.a.createElement(o.a,{showSizeChanger:!0,onShowSizeChange:e.changePageSize,onChange:e.changeNum,defaultCurrent:1,current:y,pageSize:v,total:E,showTotal:function(e){return"\u5171 "+e+" \u6761"}})))))))))})):"")))),U.a.createElement(R.a,{className:"modal-btn",visible:A,title:"create"===w?"\u65b0\u5efa\u73af\u8282":"\u66f4\u65b0\u73af\u8282",onOk:this.handleAccredit,onCancel:this.handleCancel,keyboard:!1,maskClosable:!1,footer:[U.a.createElement(p.a,{key:"back",onClick:this.handleCancel},"\u53d6\u6d88"),U.a.createElement(p.a,{key:"submit",type:"primary",onClick:this.stepCreateCouse.bind(this)},"\u4fdd\u5b58")]},U.a.createElement(Z,{courseStepVo:this.state.courseStepVo,nextorderdisplay:this.state.nextorderdisplay,optype:w,pattern:V.teachingModel,wrappedComponentRef:function(t){e.ctreteTeachingStepsFrom=t}})),M?U.a.createElement(R.a,{className:"modal-btn",keyboard:!1,maskClosable:!1,closable:!1,visible:M,title:"\u4e00\u952e\u53d1\u5e03",width:"600px",onCancel:this.couseCancel,footer:[U.a.createElement(p.a,{key:"back",onClick:this.couseCancel},"\u53d6\u6d88"),U.a.createElement(p.a,{key:"submit",type:"primary",onClick:this.createCouse},"\u4fdd\u5b58")]},U.a.createElement($.a,{createTime:ee,homeworkId:d,courseId:c,homeworkStatus:"2",resourceType:h,homeworkName:this.state.courseStepVo.stepName+"-"+X,courseTestNum:this.state.courseStepVo.courseTestNum,wrappedComponentRef:function(t){e.OneKeyReleaseForm=t}})):"",U.a.createElement(R.a,{key:"lo"+this.state.randomkey,wrapClassName:"modal-btn-lh ",className:"modal-footer-btn",visible:j,title:ae?"\u7f16\u8f91\u8d44\u6e90":"\u4e0a\u4f20\u8d44\u6e90",onOk:this.handleAccredit,onCancel:this.localCancel,keyboard:!1,maskClosable:!1,footer:[U.a.createElement(p.a,{key:"back",onClick:this.localCancel},"\u53d6\u6d88"),U.a.createElement(p.a,{key:"submit",onClick:this.localFileSave.bind(this,this.state.modalData)},"\u4fdd\u5b58")]},U.a.createElement(me,{modalData:this.state.modalData,lhFlag:ae,wrappedComponentRef:function(t){e.LocalFileForm=t}})),U.a.createElement(R.a,{key:"net"+this.state.randomkey,wrapClassName:"modal-btn-lh",className:"modal-footer-btn",visible:F,title:"\u6dfb\u52a0\u94fe\u63a5",onOk:this.handleAccredit,onCancel:this.networkCancel,keyboard:!1,maskClosable:!1,footer:[U.a.createElement(p.a,{key:"back",onClick:this.networkCancel},"\u53d6\u6d88"),U.a.createElement(p.a,{key:"submit",onClick:this.networkSave.bind(this,this.state.modalData)},"\u4fdd\u5b58")]},U.a.createElement(fe,{type:this.state.addZyType,modalData:this.state.modalData,wrappedComponentRef:function(t){e.NetworkLinkForm=t}})),U.a.createElement(R.a,{className:"modal-btn",visible:D,title:"\u65b0\u5efa\u8ba8\u8bba\u6d3b\u52a8",onOk:this.handleAccredit,onCancel:this.discussCancel,keyboard:!1,maskClosable:!1,footer:[U.a.createElement(p.a,{key:"back",onClick:this.discussCancel},"\u53d6\u6d88"),U.a.createElement(p.a,{key:"submit",type:"primary",onClick:this.discussSave},"\u4fdd\u5b58")]},U.a.createElement(be,{wrappedComponentRef:function(t){e.DiscussActivityForm=t}})),U.a.createElement(R.a,{visible:x,title:B.resourceName,onOk:this.handleAccredit,onCancel:this.resourceDetailCancel,keyboard:!1,maskClosable:!1,className:"resourceDetailModal modal-btn",footer:[U.a.createElement(p.a,{key:"back",onClick:this.resourceDetailCancel},"\u53d6\u6d88"),U.a.createElement(p.a,{key:"submit",type:"primary",onClick:this.resourceDetailCancel},"\u4fdd\u5b58")]},U.a.createElement(Ie,{courseItem:this.state.courseItem})),U.a.createElement(R.a,{visible:O,title:"\u8bd5\u9898\u5217\u8868",width:"850px",onOk:this.handleAccredit,onCancel:this.resourceExamDetailCancel,keyboard:!1,maskClosable:!1,className:"resourceDetailModal modal-btn",footer:[U.a.createElement(p.a,{key:"back",onClick:this.resourceExamDetailCancel},"\u53d6\u6d88"),U.a.createElement(p.a,{key:"submit",type:"primary",onClick:this.resourceDetailCancel},"\u4fdd\u5b58")]},U.a.createElement(we,{proCourseTestList:J,stepIndex:Q,resourceExamDetailModal:O,onSubmit:this.deleteExam.bind(this)})),U.a.createElement(R.a,{visible:T,onOk:this.handleAccredit,onCancel:this.addLocalResourceCancel,className:"addLocalResourceModal modal-btn",width:"850px",keyboard:!1,maskClosable:!1,footer:[U.a.createElement(p.a,{key:"back",onClick:this.addLocalResourceCancel},"\u53d6\u6d88"),U.a.createElement(p.a,{key:"submit",type:"primary",onClick:this.addLocalResourceCancel},"\u4fdd\u5b58")]},U.a.createElement(k.a,{className:"add-resources-box"},U.a.createElement(b.a,{span:24,className:"add-resources"},U.a.createElement("p",{className:"add-resources-tit"},"\u6dfb\u52a0\u73b0\u6709\u8d44\u6e90"),U.a.createElement("p",{className:"add-resources-cont"},U.a.createElement(Oe.b,{to:"/teching/resource-library"},U.a.createElement(p.a,{type:"primary"},U.a.createElement(r.a,{type:"plus"}),"\u8d44\u6e90\u5e93")))),U.a.createElement(b.a,{span:24,className:"new-build"},U.a.createElement("p",{className:"add-resources-tit"},"\u65b0\u5efa\u8d44\u6e90"),U.a.createElement("p",{className:"new-build-cont"},U.a.createElement(p.a,{type:"primary",onClick:function(){return e.showLocalModal()}},U.a.createElement("img",{className:"insert-modal-img",src:a(961),alt:""}),"\u672c\u5730\u6587\u4ef6"),U.a.createElement(p.a,{type:"primary",onClick:function(){return e.showNtworkModal()}},U.a.createElement("img",{className:"insert-modal-img",src:a(962),alt:""}),"\u7f51\u9875\u94fe\u63a5"))))),U.a.createElement(R.a,{visible:S,onOk:this.handleAccredit,onCancel:this.addLocalTaskCancel,className:"addLocalResourceModal modal-btn",width:"850px",keyboard:!1,maskClosable:!1,footer:[U.a.createElement(p.a,{key:"back",onClick:this.addLocalTaskCancel},"\u53d6\u6d88"),U.a.createElement(p.a,{key:"submit",type:"primary",onClick:this.addLocalTaskCancel},"\u4fdd\u5b58")]},U.a.createElement(k.a,{className:"add-resources-box"},U.a.createElement(b.a,{span:24,className:"add-resources"},U.a.createElement("p",{className:"add-resources-tit"},"\u6dfb\u52a0\u4efb\u52a1"),U.a.createElement("p",{className:"add-resources-cont"},U.a.createElement(Oe.b,{to:"/teching/test-library"},U.a.createElement(p.a,{type:"primary"},U.a.createElement(r.a,{type:"plus"}),"\u8bd5\u5377\u5e93")))),U.a.createElement(b.a,{span:24,className:"new-build"},U.a.createElement("p",{className:"add-resources-tit"},"\u65b0\u5efa\u4efb\u52a1"),U.a.createElement("p",{className:"new-build-cont"},U.a.createElement(p.a,{type:"primary",onClick:function(){return e.showDisscussModal()}},U.a.createElement("img",{className:"insert-modal-img",src:a(963),alt:""}),"\u8ba8\u8bba\u6d3b\u52a8"))))),U.a.createElement(R.a,Object.assign({className:"modal-btn",visible:Y,title:1==this.state.editType?"\u8bfe\u7a0b\u7f16\u8f91":"\u5171\u4eab\u6a21\u5f0f\u7f16\u8f91",onOk:this.handleAccredit,onCancel:this.handleCourseCancel,keyboard:!1,maskClosable:!1},this.props,{footer:[U.a.createElement(p.a,{key:"back",onClick:this.handleCourseCancel},"\u53d6\u6d88"),U.a.createElement(p.a,{key:"submit",type:"primary",onClick:this.handCreateCouse},"\u4fdd\u5b58")]}),U.a.createElement(je.a,{catalogId:this.state.course.catalogId,courseTree:this.state.courseTree,courseName:this.state.course.courseName,eBookId:this.state.course.eBookId,id:this.state.course.id,subjectKnowledgePointTree:this.state.subjectKnowledgePointTree,pointId:this.state.pointId,optype:"1",editType:this.state.editType,shareModel:this.state.course.shareModel,resourceId:this.state.course.resourceId,pattern:V.teachingModel,wrappedComponentRef:function(t){e.ctretecCourseFrom=t}})),U.a.createElement(R.a,{wrapClassName:"modal-btn-lh ",className:"modal-footer-btn",visible:this.state.ModalEditVisi,key:this.state.randomkey,title:"\u7f16\u8f91\u8d44\u6e90",onOk:this.handleAccredit,onCancel:this.networkCancelEdit,keyboard:!1,maskClosable:!1,footer:[U.a.createElement(p.a,{key:"back",onClick:this.networkCancelEdit},"\u53d6\u6d88"),U.a.createElement(p.a,{key:"submit",onClick:this.ResourceSaveEdit.bind(this,i)},"\u4fdd\u5b58")]},U.a.createElement(H.a,Object.assign({key:"form1",layout:"horizontal",style:{paddingBottom:18}},s),U.a.createElement(k.a,null,U.a.createElement(b.a,{span:5},U.a.createElement("span",{className:"create-course-title "},U.a.createElement("span",{className:"red"},"*"),"\u8d44\u6e90\u540d\u79f0\uff1a")),U.a.createElement(b.a,{span:19,className:"formItem-sty"},U.a.createElement(Le,s,t("resourceName",{initialValue:this.state.modalData?this.state.modalData.title:"",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8bfe\u7a0b\u6807\u9898"}]})(U.a.createElement(L.a,{style:{width:"100%"},type:"text",placeholder:"\u8bf7\u8f93\u5165\u8bfe\u7a0b\u6807\u9898"}))))))),U.a.createElement(R.a,{wrapClassName:"modal-btn-lh",width:"600px",key:this.state.modalKey,height:"auto",visible:this.state.announcementShow,title:"0"==G?"\u7b7e\u5230":"1"==G?"\u62a2\u7b54":"2"==G?"\u968f\u673a\u9009\u4eba":"3"==G?"\u8ba8\u8bba":"4"==G?"\u6295\u7968":"\u5c0f\u7ec4\u4efb\u52a1",onOk:this.handleOk,onCancel:this.handleCancelModal,bodyStyle:{minHeight:0,maxHeight:"1000px"},keyboard:!1,maskClosable:!1,footer:[U.a.createElement(p.a,{key:"back",onClick:this.modalCancel},"\u53d6\u6d88"),U.a.createElement(p.a,{key:"submit",onClick:this.modalSave.bind(this,_)},"\u4fdd\u5b58")]},U.a.createElement(q.default,{announcement:this.state.announcement,jxmodalData:_,courseId:this.state.courseId,wrappedComponentRef:function(t){e.InteractionPopups=t},inputdefaultValue:this.state.inputdefaultValue})))}}]),s}(Y.Component))||s),ze=H.a.create()(Ve);t.default=ze}}]);