(this.webpackJsonpzjyz_admin=this.webpackJsonpzjyz_admin||[]).push([[22],{1770:function(e,t,a){"use strict";a(48),a(1783)},1771:function(e,t,a){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,c=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){var s=n?Object.getOwnPropertyDescriptor(e,c):null;s&&(s.get||s.set)?Object.defineProperty(a,c,s):a[c]=e[c]}a.default=e,t&&t.set(e,a);return a}(a(0)),s=(n=a(13))&&n.__esModule?n:{default:n},o=a(32);function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var d=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a},p=function(e){return c.createElement(o.ConfigConsumer,null,(function(t){var a,r=t.getPrefixCls,n=e.prefixCls,o=e.type,u=void 0===o?"horizontal":o,p=e.orientation,f=void 0===p?"center":p,m=e.className,g=e.children,h=e.dashed,A=d(e,["prefixCls","type","orientation","className","children","dashed"]),y=r("divider",n),v=f.length>0?"-".concat(f):f,b=(0,s.default)(m,y,"".concat(y,"-").concat(u),(l(a={},"".concat(y,"-with-text").concat(v),g),l(a,"".concat(y,"-dashed"),!!h),a));return c.createElement("div",i({className:b},A,{role:"separator"}),g&&c.createElement("span",{className:"".concat(y,"-inner-text")},g))}))};t.default=p},1783:function(e,t,a){},1800:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"a",(function(){return c})),a.d(t,"e",(function(){return s})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return u}));var r=a(4);function n(e){return Object(r.c)("/api/course/api/v1/web/courseCenter/getStageSubject",e)}function c(e){return Object(r.c)("/api/course/api/v1/courseExamType/getBookCatalog",e)}function s(e){return Object(r.d)("/api/course/api/v1/courseResource/getPage",e)}function o(e){return Object(r.d)("/api/conf/api/v1/dic/getDicList",e)}function u(e){return Object(r.c)("/api/course/api/v1/web/webCourseResource/getExamList",e)}},1974:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACESURBVHgBhZAtDoAwDIXLT8CAAYVDgUKB4Q6cFcVRuAAGFGoKFK9JlzRbFl7yLe361m0l8jWDxd1MnbwAg8QNuGwhdoyTintdiMAIWumWk68bnHx1B0oKqwZZguWQjnnAaMDGxlfMQ8C4stl+5qEfxeodpA4ZlVe82DlmYtgFjnkanXV/mVsSE2F8q8YAAAAASUVORK5CYII="},1975:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAYAAACALL/6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAC4SURBVHgBdZA/C8JADMXjVTwQC4KDOIjdRNHJqZuT4OYX18VNd5EDQbhBKhR8gRd6Yn3wI/cvuZdk0ihnXIA9WII3iCADtXCh2oAdCGALusCDAjzBgcnBJQmqgfwqT99YQsUYWxKqNJqlPhiDFxny/AKmvD+ZpQKsWb3DvUnXN1YvwcRJ41+rrb7dSA/MwZH70rHRyMs26bnnL14t6BRGrDT7k3Smtbs2rfPVWQdWsiEIf76y4QeoP92+JHfseHwuAAAAAElFTkSuQmCC"},2322:function(e,t,a){"use strict";a.r(t);a(135);var r,n=a(73),c=a.n(n),s=(a(177),a(110)),o=a.n(s),u=(a(1770),a(1771)),i=a.n(u),l=(a(40),a(5)),d=a.n(l),p=(a(45),a(6)),f=a.n(p),m=(a(74),a(17)),g=a.n(m),h=(a(43),a(2)),A=a.n(h),y=a(3),v=a.n(y),b=a(7),C=a(20),O=a(9),S=a(12),N=a(52),j=a(11),E=a(10),w=(a(79),a(30)),k=a.n(w),I=(a(178),a(82)),z=a.n(I),R=(a(51),a(22)),x=a.n(R),T=a(0),L=a.n(T),D=a(1800),M=a(522),K=(a(2323),a(35)),P=a(75),Q=a(111),B=x.a.Search,V=z.a.TreeNode,F=(k.a.Option,localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):""),U=Object(K.g)(r=function(e){Object(j.a)(r,e);var t=Object(E.a)(r);function r(){var e;Object(O.a)(this,r);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={courseTotal:0,bigMajorId:"",collectFlag:"",majorId:"",medMajorId:"",opneRange:3,orderAscfield:"",orderDescfield:"create_time",subjectName:"",studentId:"",unitId:"",total:0,pageNum:1,pageSize:12,stageId:"",subjectList:null,courseTree:[],getCourseCenter:[],getCourseCenterCollection:[],resourceFormatList:Q.e,activeKey:1,sortSet:{value:"zh",zhOrder:!0,fbOrder:!0,syOrder:!0,scOrder:!0},resourceName:"",searchValue:void 0},e.bookChange=function(t){var a=e.state.subjectList,r="",n="";a.forEach((function(e){e.id===t&&(r=e.stageId,n=e.subjectId)})),e.setState({pageNum:1,catalogArray:[],catalogArrayChecked:[],selectCatalogId:"",stageId:r,catalogStageId:r,subjectId:n,catalogSubjectId:n},(function(){e.getCourseListTreeNew(),e.getResourceList()}))},e.renderTreeNodes=function(t){return t.map((function(t){return t.children?L.a.createElement(V,{title:L.a.createElement("div",{className:"TreeIcon",onClick:e.DeptonSelect.bind(Object(N.a)(e),t)},t.name),key:t.id,dataRef:t},e.renderTreeNodes(t.children)):L.a.createElement(V,{title:t.name,key:t.id,value:t.id,dataRef:t})}))},e.resourceTypeChange=function(t){e.setState({pageNum:1,resourceTypeCheck:t.target.value},(function(){e.getResourceList()}))},e.resourceFormatChange=function(t){e.setState({pageNum:1,resourceFormatCheck:t.target.value},(function(){e.getResourceList()}))},e.zhClick=function(){var t=e.state.sortSet;"zh"===t.value?(t.zhOrder=!t.zhOrder,e.setState({sortSet:t},(function(){e.testOrderChange(t.zhOrder,"create_time")}))):e.setState({sortSet:Object(C.a)(Object(C.a)({},t),{},{zhOrder:!0,value:"zh"})},(function(){e.testOrderChange(t.zhOrder,"create_time")}))},e.syClick=function(){var t=e.state.sortSet;"sy"===t.value?(t.syOrder=!t.syOrder,e.setState({sortSet:t},(function(){e.testOrderChange(t.syOrder,"studentsNumber")}))):e.setState({sortSet:Object(C.a)(Object(C.a)({},t),{},{syOrder:!0,value:"sy"})},(function(){e.testOrderChange(t.syOrder,"studentsNumber")}))},e.scClick=function(){var t=e.state.sortSet;"sc"===t.value?(t.scOrder=!t.scOrder,e.setState({sortSet:t},(function(){e.testOrderChange(t.scOrder,"collection")}))):e.setState({sortSet:Object(C.a)(Object(C.a)({},t),{},{scOrder:!0,value:"sc"})},(function(){e.testOrderChange(t.scOrder,"collection")}))},e.testOrderChange=function(t,a){t?e.setState({pageNum:1,orderAscfield:"",orderDescfield:a},(function(){e.getCourseCenter()})):e.setState({pageNum:1,orderDescfield:"",orderAscfield:a},(function(){e.getCourseCenter()}))},e.resourceNameSearch=function(t){e.setState({pageNum:1,resourceName:t.replace(/(^\s*)|(\s*$)/g,"")},(function(){e.getResourceList()}))},e.searchChange=function(t){e.setState({searchValue:t.target.value},(function(){e.setState({pageNum:1,resourceName:e.state.searchValue.replace(/(^\s*)|(\s*$)/g,"")},(function(){e.getResourceList()}))}))},e.onShowSizeChange=function(t,a){e.setState({pageNum:1,pageSize:a},(function(){e.getCourseCenter()}))},e.onPageNumChange=function(t,a){e.setState({pageNum:t},(function(){e.getCourseCenter()}))},e}return Object(S.a)(r,[{key:"courseClick",value:function(e){var t={courseId:e.id};this.props.history.push("/teching/course-center/course-center-details?"+encodeURI(JSON.stringify(t)))}},{key:"componentDidMount",value:function(){this.getCourseCenter()}},{key:"getCourseCenter",value:function(){var e=Object(b.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(M.e)({pageNum:this.state.pageNum,pageSize:this.state.pageSize,userId:F&&F.user.id,orderAscfield:this.state.orderAscfield,orderDescfield:this.state.orderDescfield,subjectName:t});case 2:a=e.sent,this.setState({getCourseCenterCollection:a&&a.data?a.data:[],pageNum:a.pageNum,pageSize:a.pageSize,courseTotal:a.total});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"callback",value:function(e){this.setState({activeKey:e})}},{key:"getMyStageList",value:function(){var e=Object(b.a)(v.a.mark((function e(){var t,a,r=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.d)();case 2:t=e.sent,a=t?t.map((function(e){return Object(C.a)(Object(C.a)({},e),{},{subjectName:e.stageName,id:e.stageId})})):"",this.setState({stageId:a[0].stageId,subjectList:a},(function(){r.getCourseListTreeNew(),r.getResourceList()}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCourseListTreeNew",value:function(){var e=Object(b.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.state.stageId)){e.next=7;break}return e.next=4,Object(D.a)({bookId:t});case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=[];case 8:a=e.t0,this.setState({courseTree:a});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getResourceList",value:function(){var e=Object(b.a)(v.a.mark((function e(){var t,a,r,n,c,s,o,u,i,l,d,p,f,m;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.pageNum,r=t.pageSize,n=t.activeKey,c=t.stageId,s=t.resourceTypeCheck,o=t.resourceFormatCheck,u=t.orderAscfield,i=t.searchValue,l=t.orderDescfield,d=t.level,p=t.professionId,f={pageNum:a,pageSize:r,professionId:p,mediaType:s,applicationType:o,orderAscfield:u,orderDescfield:l,resourceName:i,tabType:n,level:d,stageId:c},e.next=4,Object(D.e)(f);case 4:m=e.sent,this.setState({resourceList:m?m.data:null,total:m?m.total:0});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"DeptonSelect",value:function(e,t){P.a.isEmpty(e.id)||(this.state.professionId=e.id,this.state.level=e.level,this.setState({hierarchy:e.hierarchy})),this.getResourceList()}},{key:"getResourceFormatList",value:function(){var e=Object(b.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.b)(t);case 2:a=e.sent,this.setState({resourceFormatList:a});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,r=(t.stageId,t.subjectList,t.selectCatalogId,t.courseTree,t.sortSet),n=t.pageNum,s=t.pageSize,u=t.activeKey,l=t.getCourseCenterCollection,p=t.courseTotal,m=l.map((function(t,r){return L.a.createElement(A.a,{span:4,key:r},L.a.createElement("div",null,L.a.createElement("img",{src:"/api/media/api/v1/media/showThumbnail/".concat(t.fileId),alt:"",onClick:function(){return e.courseClick(t)}})),L.a.createElement("h4",{title:t.subjectName},t.subjectName),L.a.createElement("p",null,L.a.createElement("span",null,t.unitName,t.unitName&&t.humanName?L.a.createElement("i",{className:"i"},"|"):""),L.a.createElement("span",null,t.humanName)),L.a.createElement("p",null,L.a.createElement("span",null,L.a.createElement("img",{src:a(1974),alt:""}),t.collection),L.a.createElement("span",{className:"span"},L.a.createElement("img",{src:a(1975),alt:""}),t.studentsNumber)))})),h=L.a.createElement(c.a,null,L.a.createElement(d.a,{className:"paper-common paper-common-lh"},L.a.createElement(A.a,{span:12,className:""},L.a.createElement(f.a,{type:"zh"===r.value?"primary":"",onClick:function(){return e.zhClick()}},"\u521b\u5efa\u65f6\u95f4","zh"===r.value?L.a.createElement(g.a,{type:r.zhOrder?"down":"up"}):""),L.a.createElement(f.a,{type:"sy"===r.value?"primary":"",onClick:function(){return e.syClick()}},"\u5b66\u4e60\u4eba\u6570","sy"===r.value?L.a.createElement(g.a,{type:r.syOrder?"down":"up"}):""),L.a.createElement(f.a,{type:"sc"===r.value?"primary":"",onClick:function(){return e.scClick()}},"\u6536\u85cf\u91cf","sc"===r.value?L.a.createElement(g.a,{type:r.scOrder?"down":"up"}):"")),L.a.createElement(A.a,{span:12},L.a.createElement("div",{className:"paper-common-search"},L.a.createElement(B,{style:{width:220},placeholder:"\u8bf7\u8f93\u5165\u8bfe\u7a0b\u540d\u79f0",onSearch:function(t){return e.getCourseCenter(t)}}),L.a.createElement("span",{className:"paper-common-totale"},"\u5171 ",p," \u4e2a\u8bfe\u7a0b")))),L.a.createElement(i.a,null),L.a.createElement(d.a,{className:"paper-wrap-lh",gutter:40},m),p?L.a.createElement("div",{className:"pagination-style-l"},L.a.createElement(o.a,{showSizeChanger:!0,pageSizeOptions:["12","24","36","48"],onShowSizeChange:this.onShowSizeChange,onChange:this.onPageNumChange,defaultCurrent:1,current:n,pageSize:s,total:p,showTotal:function(e){return"\u5171 "+e+" \u6761"}})):""),y=L.a.createElement(d.a,{className:"center-content"},L.a.createElement(A.a,{span:24,className:"center-content-center"},L.a.createElement(d.a,null,L.a.createElement(A.a,{span:24},h)))),v=L.a.createElement(d.a,{className:"center-content"},L.a.createElement(A.a,{span:24,className:"center-content-center"},L.a.createElement(d.a,null,L.a.createElement(A.a,{span:24},h))));return L.a.createElement("div",{className:"course-center-collection"},L.a.createElement("div",{className:"course-collection-pic"},1==u?y:2==u?v:""))}}]),r}(T.Component))||r;t.default=U},2323:function(e,t,a){}}]);