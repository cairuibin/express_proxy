(this.webpackJsonpzjyz_admin=this.webpackJsonpzjyz_admin||[]).push([[121],{2383:function(e,t,a){},2751:function(e,t,a){"use strict";a.r(t);a(135);var o,n=a(73),r=a.n(n),s=(a(40),a(5)),c=a.n(s),i=(a(43),a(2)),u=a.n(i),m=a(3),l=a.n(m),h=a(7),w=(a(67),a(28)),d=a.n(w),f=a(9),k=a(12),p=a(11),g=a(10),S=(a(79),a(30)),I=a.n(S),y=(a(51),a(22)),N=a.n(y),v=a(0),b=a.n(v),E=a(523),O=a(1906),L=(a(2383),a(1766)),j=a(35),T=N.a.Search,C=I.a.Option,A=Object(j.g)(o=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(f.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={userId:"",homeworkTimeStatus:sessionStorage.getItem("homeworkTimeStatus")?sessionStorage.getItem("homeworkTimeStatus"):"",homeworkStatus:sessionStorage.getItem("homeworkStatus")?sessionStorage.getItem("homeworkStatus"):"",homeworkName:sessionStorage.getItem("homeworkName")?sessionStorage.getItem("homeworkName"):"",searchValue:sessionStorage.getItem("homeworkName")?sessionStorage.getItem("homeworkName"):"",courseList:[],yearList:[],homeworkNum:0,courseId:sessionStorage.getItem("courseId")?sessionStorage.getItem("courseId"):"",courseName:"",yearId:"",childrenMsg:0,bool:!0,nowYear:{}},e.startAnswer=function(t,a){Object(L.a)({homeworkId:t,courseId:a}).then((function(o){console.log("res",o),1===o?d.a.info({content:"\u8be5\u4f5c\u4e1a\u5df2\u88ab\u6559\u5e08\u5220\u9664",onOk:function(){return window.location.reload()}}):2===o?d.a.info({content:"\u8be5\u5b66\u751f\u5df2\u88ab\u5220\u9664",onOk:function(){return window.location.reload()}}):3===o?d.a.info({content:"\u60a8\u7684\u8bfe\u7a0b\u5df2\u7ecf\u88ab\u53d6\u6d88\u53d1\u5e03\uff0c\u8bf7\u7b49\u5f85\u8001\u5e08\u901a\u77e5",onOk:function(){return window.location.reload()}}):0===o.result&&e.props.history.push("/operation-begin/".concat(t,"/").concat(a))}))},e.browseTestList=function(t,a,o){Object(L.a)({homeworkId:a,courseId:o}).then((function(o){1===o?d.a.info({content:"\u8be5\u4f5c\u4e1a\u5df2\u88ab\u6559\u5e08\u5220\u9664",onOk:function(){return window.location.reload()}}):2===o?d.a.info({content:"\u8be5\u5b66\u751f\u5df2\u88ab\u5220\u9664",onOk:function(){return window.location.reload()}}):3===o?d.a.info({content:"\u60a8\u7684\u8bfe\u7a0b\u5df2\u7ecf\u88ab\u53d6\u6d88\u53d1\u5e03\uff0c\u8bf7\u7b49\u5f85\u8001\u5e08\u901a\u77e5",onOk:function(){return window.location.reload()}}):0===o.result&&e.props.history.push("/my-operation/operation-reviewed/".concat(t,"/").concat(a))}))},e.browseAnswerList=function(t,a,o){Object(L.a)({homeworkId:a,courseId:o}).then((function(o){1===o?d.a.info({content:"\u8be5\u4f5c\u4e1a\u5df2\u88ab\u6559\u5e08\u5220\u9664",onOk:function(){return window.location.reload()}}):2===o?d.a.info({content:"\u8be5\u5b66\u751f\u5df2\u88ab\u5220\u9664",onOk:function(){return window.location.reload()}}):3===o?d.a.info({content:"\u60a8\u7684\u8bfe\u7a0b\u5df2\u7ecf\u88ab\u53d6\u6d88\u53d1\u5e03\uff0c\u8bf7\u7b49\u5f85\u8001\u5e08\u901a\u77e5",onOk:function(){return window.location.reload()}}):0===o.result&&e.props.history.push("/my-operation/operation-message/".concat(t,"/").concat(a))}))},e.browseTestAnswerList=function(t,a,o){Object(L.a)({homeworkId:a,courseId:o}).then((function(o){1===o?d.a.info({content:"\u8be5\u4f5c\u4e1a\u5df2\u88ab\u6559\u5e08\u5220\u9664",onOk:function(){return window.location.reload()}}):2===o?d.a.info({content:"\u8be5\u5b66\u751f\u5df2\u88ab\u5220\u9664",onOk:function(){return window.location.reload()}}):3===o?d.a.info({content:"\u60a8\u7684\u8bfe\u7a0b\u5df2\u7ecf\u88ab\u53d6\u6d88\u53d1\u5e03\uff0c\u8bf7\u7b49\u5f85\u8001\u5e08\u901a\u77e5",onOk:function(){return window.location.reload()}}):0===o.result&&e.props.history.push("/my-operation/operation-finished/".concat(t,"/").concat(a))}))},e.courseList=function(){var t=Object(h.a)(l.a.mark((function t(a){var o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(L.b)({userId:e.state.userId});case 2:(o=t.sent)&&e.setState({courseList:o.courseList,yearList:o.yearList});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.nowYear=function(){var t=Object(h.a)(l.a.mark((function t(a){var o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(L.g)();case 2:(o=t.sent)&&e.setState({nowYear:o});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.changeNum=function(t){e.setState({homeworkNum:t})},e.homeworkSearch=function(t){sessionStorage.setItem("homeworkName",t),e.setState({homeworkName:t})},e.homeworkSearchChange=function(t){e.setState({searchValue:t.target.value},(function(){""===e.state.searchValue&&(sessionStorage.setItem("homeworkName",""),e.setState({homeworkName:""}))}))},e.courseHandleChange=function(t){sessionStorage.setItem("courseId",t),e.setState({courseId:t},(function(){}))},e.yearHandleChange=function(t){sessionStorage.setItem("yearId",t),e.setState({yearId:t},(function(){}))},e.getNowYear=function(){return console.log(e.state.nowYear.yearName),e.state.nowYear.yearName},e}return Object(k.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")).user.id:"";this.setState({userId:e})}},{key:"componentDidUpdate",value:function(e,t,a){t.userId!==this.state.userId&&(this.courseList(),this.nowYear())}},{key:"handleHomeworkTimeStatusChange",value:function(e){sessionStorage.setItem("homeworkTimeStatus",e),this.setState({homeworkTimeStatus:e})}},{key:"handleHomeworkStatusChange",value:function(e){sessionStorage.setItem("homeworkStatus",e),this.setState({homeworkStatus:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.searchValue,o=t.courseList,n=t.yearList,s=t.homeworkNum;return b.a.createElement("div",{className:"my-operation"},b.a.createElement(E.default,{navName:"my-operation"}),b.a.createElement("div",{className:"operation-pic"},b.a.createElement(c.a,{className:"center-title"},b.a.createElement(u.a,{span:24},b.a.createElement("span",null,"\u6211\u7684\u4f5c\u4e1a"))),b.a.createElement(c.a,{className:"center-content"},b.a.createElement(u.a,{span:24,className:"center-content-left"},b.a.createElement(r.a,{className:"left-pic"},b.a.createElement(c.a,{className:"search-title"},b.a.createElement(u.a,{span:12,className:"search-title-left"},b.a.createElement(I.a,{className:"Select1",defaultValue:"\u5168\u90e8\u5b66\u671f",key:this.state.nowYear.yearName,style:{width:120},onChange:this.yearHandleChange},b.a.createElement(C,{value:""},"\u5168\u90e8\u5b66\u671f"),n?n.map((function(e,t){return b.a.createElement(C,{value:e.yearId},e.yearName)})):""),b.a.createElement(I.a,{className:"Select2",showSearch:!0,optionFilterProp:"children",defaultValue:this.state.courseId,key:this.state.courseId,style:{width:150},onChange:this.courseHandleChange},b.a.createElement(C,{value:""},"\u5168\u90e8\u8bfe\u7a0b"),o?o.map((function(e,t){return b.a.createElement(C,{value:e.courseId},e.courseName)})):""),b.a.createElement(I.a,{className:"Select3",placeholder:"\u8bf7\u9009\u62e9\u4f5c\u4e1a\u72b6\u6001",style:{width:180},onChange:this.handleHomeworkTimeStatusChange.bind(this)},b.a.createElement(C,{value:""},"\u5168\u90e8\u72b6\u6001"),b.a.createElement(C,{value:"0"},"\u672a\u5f00\u59cb"),b.a.createElement(C,{value:"1"},"\u8fdb\u884c\u4e2d"),b.a.createElement(C,{value:"2"},"\u5df2\u7ed3\u675f"),b.a.createElement(C,{value:"3"},"\u5df2\u8fc7\u671f"))),b.a.createElement(u.a,{span:12,className:"search-title-right"},b.a.createElement("div",{className:"paper-common-search"},b.a.createElement(T,{style:{width:220},placeholder:"\u8bf7\u8f93\u5165\u4f5c\u4e1a\u540d\u79f0",value:a,onSearch:function(t){return e.homeworkSearch(t)},onChange:this.homeworkSearchChange}),b.a.createElement("span",{className:"paper-common-totale"},"\u5171",s,"\u4e2a\u4f5c\u4e1a")))),b.a.createElement(O.default,{courseId:this.state.courseId,yearId:this.state.yearId,homeworkNum:s,startAnswer:this.startAnswer,homeworkTimeStatus:this.state.homeworkTimeStatus,homeworkName:this.state.homeworkName,homeworkStatus:this.state.homeworkStatus,browseTestAnswerList:this.browseTestAnswerList,changeNum:this.changeNum,browseTestList:this.browseTestList,browseAnswerList:this.browseAnswerList}))))))}}]),a}(v.Component))||o;t.default=A}}]);