(this.webpackJsonpzjyz_admin=this.webpackJsonpzjyz_admin||[]).push([[142],{1948:function(e,t,a){"use strict";a.r(t);a(41);var s=a(8),r=a.n(s),n=(a(67),a(28)),o=a.n(n),c=(a(45),a(6)),l=a.n(c),i=(a(135),a(73)),u=a.n(i),m=(a(40),a(5)),p=a.n(m),f=(a(43),a(2)),h=a.n(f),d=(a(74),a(17)),v=a.n(d),E=a(3),w=a.n(E),g=a(7),T=(a(54),a(15)),y=a.n(T),F=a(9),k=a(12),b=a(11),A=a(10),N=a(0),x=a.n(N),M=(a(1949),a(241)),j=a(27),S=a(102),O=function(e){Object(b.a)(a,e);var t=Object(A.a)(a);function a(){var e;Object(F.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={ErrorTestModal:!1,testDetail:{},testRealMap:{},testReal:[],testDiffMap:{},testDiff:[],testFormMap:{},testForm:[],testBasketIdList:[],testBasketMax:0,testPointNameStr:""},e.testFormFilter=function(t){return e.state.testFormMap[t]},e.testDiffFilter=function(t){return e.state.testDiffMap[t]},e.errorTestModal=function(){e.setState({ErrorTestModal:!0})},e.errorTestSave=function(){e.ErrorTestForm.props.form.validateFields((function(t,a){if(!t){var s=e.ErrorTestForm.getItemsValue(),r={errorTypeList:s.patternValue.map((function(e){return{errorType:e}})),errorMemo:s.errorMemo,testId:e.state.testDetail.id};Object(S.b)(r).then((function(t){e.ErrorTestForm.resetFields(),e.setState({ErrorTestModal:!1}),y.a.success("\u63d0\u4ea4\u6210\u529f\uff01")}))}}))},e.saveTestBasket=function(t){var a=e.state,s=a.testBasketIdList,r=a.testBasketMax;if(s.length>=r)return y.a.error("\u8bd5\u9898\u7bee\u53ea\u80fd\u6dfb\u52a040\u9053\u9898\uff01");Object(S.k)({testId:t}).then((function(t){e.setState({testBasketIdList:t}),e.props.testBasketIdListChange()}))},e.errorTestCancel=function(){e.setState({ErrorTestModal:!1})},e.testRealFilter=function(t){return e.state.testRealMap[t]},e.getStem=function(t,a,s){var r=0===s?x.a.createElement("span",null,a+1+"\u3001"+(1===t.examFlag?"\uff08".concat(t.examYear," \xb7 ").concat(e.testRealFilter(t.examFrom),"\uff09"):"")):x.a.createElement("span",null,a+1+".");if("2"===t.testForm){var n=t.courseTestBlankAndAnwserVos,o=t.stem;return n.forEach((function(e){o=o.replace("___".concat(e.blankId,"___"),'<span class="blank-show-anwser">&nbsp;&nbsp;'.concat(e.anwserTexts[0],"&nbsp;&nbsp;</span>"))})),x.a.createElement("div",null,r,x.a.createElement("span",{dangerouslySetInnerHTML:{__html:o}}))}return x.a.createElement("div",null,r,x.a.createElement("span",{dangerouslySetInnerHTML:{__html:t.stem}}))},e}return Object(k.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.testId;this.getTest(e),this.testReal({groupName:"testReal"}),this.testForm({groupName:"testForm"}),this.testDiff({groupName:"testDiff"})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.getTest(e.testId)}},{key:"getTestPoint",value:function(){var e=Object(g.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.v)({resourceId:this.state.testDetail.resourceId});case 2:t=e.sent,a=t.map((function(e){return e.pointName})).join(","),this.setState({testPointNameStr:a});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTest",value:function(){var e=Object(g.a)(w.a.mark((function e(t){var a,s=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.d)(t);case 2:a=e.sent,this.setState({testDetail:a},(function(){s.getTestPoint()}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"testReal",value:function(){var e=Object(g.a)(w.a.mark((function e(t){var a,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.o)(t);case 2:a=e.sent,s={},a.forEach((function(e){s[e.value]=e.title})),this.setState({testReal:a,testRealMap:s});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"testForm",value:function(){var e=Object(g.a)(w.a.mark((function e(t){var a,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.o)(t);case 2:a=e.sent,s={},a.forEach((function(e){s[e.value]=e.title})),this.setState({testForm:a,testFormMap:s});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"testDiff",value:function(){var e=Object(g.a)(w.a.mark((function e(t){var a,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.o)(t);case 2:a=e.sent,s={},a.forEach((function(e){s[e.value]=e.title})),this.setState({testDiff:a,testDiffMap:s});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.ErrorTestModal,s=t.testDetail,r=t.testPointNameStr;return x.a.createElement("div",{className:"analyze-wrap-modal answer-wrap"},x.a.createElement("p",null,x.a.createElement("span",{className:"analyze-error",onClick:function(){return e.errorTestModal()}},x.a.createElement(v.a,{type:"schedule"}),"\u7ea0\u9519")),x.a.createElement(u.a,{className:"analyze-modal-card",title:this.getStem(s,0,0),bordered:!1},"1"===s.testForm||"3"===s.testForm?x.a.createElement(p.a,{type:"flex",className:"question-select",gutter:20},s.courseTestChooseAnwserVos.map((function(e){return x.a.createElement(h.a,{key:e.id,span:6,className:1===e.rightFlag?"showAnswerActive":""},e.optionName,".",e.memo)}))):"","4"===s.testForm?x.a.createElement(p.a,{type:"flex",className:"question-select judge",gutter:20},x.a.createElement(h.a,{span:6,className:s.courseTestJudgeAnwserVos&&1===s.courseTestJudgeAnwserVos.rightFlag?"showAnswerActive":""},"\u6b63\u786e"),x.a.createElement(h.a,{span:6,className:s.courseTestJudgeAnwserVos&&0===s.courseTestJudgeAnwserVos.rightFlag?"showAnswerActive":""},"\u9519\u8bef")):"","8"===s.testForm?x.a.createElement("div",{className:"question-select multiple-question"},s.courseTestChildren.map((function(t,a){return x.a.createElement("div",{key:a},x.a.createElement("div",{className:"multiple-tit"},e.getStem(t,a,1)),"1"===t.testForm||"3"===t.testForm?x.a.createElement(p.a,{type:"flex",className:"question-select",gutter:20},t.courseTestChooseAnwserVos?t.courseTestChooseAnwserVos.map((function(e){return x.a.createElement(h.a,{key:e.id,span:6,className:1===e.rightFlag?"showAnswerActive":""},e.optionName,".",e.memo)})):""):"","4"===t.testForm?x.a.createElement(p.a,{type:"flex",className:"question-select judge",gutter:20},x.a.createElement(h.a,{span:6,className:t.courseTestJudgeAnwserVos&&1===t.courseTestJudgeAnwserVos.rightFlag?"showAnswerActive":""},"\u6b63\u786e"),x.a.createElement(h.a,{span:6,className:t.courseTestJudgeAnwserVos&&0===t.courseTestJudgeAnwserVos.rightFlag?"showAnswerActive":""},"\u9519\u8bef")):"",x.a.createElement("div",null,void 0==t.anwserTexts||null===t.anwserTexts?"":t.anwserTexts))}))):"",x.a.createElement("p",null,null==s.courseTestEasyAnwserVos||""===s.courseTestEasyAnwserVos?"":s.courseTestEasyAnwserVos.anwserText),x.a.createElement("p",{className:"testing"},x.a.createElement("strong",null,"\u3010\u8003\u70b9\u3011"),x.a.createElement("span",{className:"testing-name"},r)),x.a.createElement("p",{className:"answer"},x.a.createElement("strong",null,"\u3010\u89e3\u6790\u3011"),x.a.createElement("span",null,s.resolution))),x.a.createElement(p.a,{gutter:16},x.a.createElement(h.a,{span:6},"\u9898\u578b\uff1a",this.testFormFilter(s.testForm)),x.a.createElement(h.a,{span:6},"\u96be\u5ea6\uff1a",this.testDiffFilter(s.difficulty)),x.a.createElement(h.a,{span:6},"\u7ec4\u5377\u6b21\u6570\uff1a",s.assembledNum)),x.a.createElement(o.a,{className:"modal-btn",visible:a,title:"\u8bd5\u9898\u7ea0\u9519",onOk:this.handleAccredit,onCancel:this.errorTestCancel,keyboard:!1,maskClosable:!1,footer:[x.a.createElement(l.a,{key:"back",onClick:this.errorTestCancel},"\u8fd4\u56de"),x.a.createElement(l.a,{key:"submit",type:"primary",onClick:this.errorTestSave},"\u786e\u8ba4")]},x.a.createElement(M.default,{wrappedComponentRef:function(t){e.ErrorTestForm=t}})))}}]),a}(N.Component),V=r.a.create()(O);t.default=V},1949:function(e,t,a){}}]);