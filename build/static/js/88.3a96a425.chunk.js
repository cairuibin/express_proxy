(this.webpackJsonpzjyz_admin=this.webpackJsonpzjyz_admin||[]).push([[88],{1766:function(e,t,a){"use strict";a.d(t,"f",(function(){return s})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return c})),a.d(t,"d",(function(){return i})),a.d(t,"k",(function(){return o})),a.d(t,"i",(function(){return l})),a.d(t,"j",(function(){return u})),a.d(t,"h",(function(){return m})),a.d(t,"e",(function(){return p})),a.d(t,"l",(function(){return f})),a.d(t,"g",(function(){return v})),a.d(t,"a",(function(){return g}));var n=a(4);function s(e){return Object(n.d)("/api/course/api/v1/web/studentHomework/getMyHomeworkList",e)}function r(e){return Object(n.c)("/api/course/api/v1/web/studentHomework/getMyCourseAndYearList",e)}function c(e){return Object(n.c)("/api/course/api/v1/web/studentHomework/getExamInfo",e)}function i(e){return Object(n.c)("/api/course/api/v1/web/studentHomework/getHomeworkDetail",e)}function o(e){return Object(n.d)("/api/course/api/v1/web/studentHomework/submitOneQuestion",e)}function l(e){return Object(n.c)("/api/course/api/v1/web/studentHomework/studentCheckFree",e)}function u(e){return Object(n.c)("/api/course/api/v1/web/studentHomework/studentSubmitHomework",e)}function m(e){return Object(n.c)("/api/course/api/v1/web/studentHomework/getStudentProgress",e)}function p(e){return Object(n.c)("/api/course/api/v1/web/studentHomework/getHomeworkTestInfoList",e)}function f(e){return Object(n.c)("/api/course/api/v1/web/studentHomework/updateStudySumSecond",e)}function v(){return Object(n.c)("/api/conf/api/v1/schoolClass/getNowSchoolYear")}function g(e){return Object(n.c)("/api/course/api/v1/web/studentHomework/checkHomework",e)}},1772:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAALCAYAAABcUvyWAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAC6SURBVHgBXY89C8IwEIYvjV9YB5UGK37Ura0oODhU7NDR0dGf4U/zJ3QQZ8dAHUrtoqTgKEgbGyESveEOnufuhcOuvd6bxGrcWRKDUloBiBYAwczxA1XgLEsuBhm0yx2vZ4xBXmLRGEuplH0yet7YNcXyVEhiWJMydkk6wwdWc/VWN65Wah5oyNFU0azrOzFfeXH4irm72gJCZhkVRtHpjCTMOV4ISOkxFKwytf1NzuEHfh7kwJ1/KOoNGXBC9BmMYsEAAAAASUVORK5CYII="},1876:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return r})),a.d(t,"d",(function(){return c})),a.d(t,"e",(function(){return i})),a.d(t,"c",(function(){return o}));var n=a(4);function s(e){return Object(n.d)("/api/interaction/api/v1/live/liveRoom/getStudentLiveRoomList",e)}function r(e){return Object(n.c)("/api/interaction/api/v1/live/liveRoom/getGroupId",e)}function c(e){return Object(n.c)("/api/interaction/api/v1/live/liveRoom/getVideoList",e)}function i(e){return Object(n.c)("/api/interaction/api/v1/live/liveRoom/webVerificationLive",e)}function o(e){return Object(n.c)("/api/interaction/api/v1/live/liveRoom/getSdkAppId",e)}},2406:function(e,t,a){},2762:function(e,t,a){"use strict";a.r(t);a(177);var n,s=a(110),r=a.n(s),c=(a(109),a(72)),i=a.n(c),o=(a(135),a(73)),l=a.n(o),u=(a(40),a(5)),m=a.n(u),p=(a(97),a(14)),f=a.n(p),v=(a(43),a(2)),g=a.n(v),E=(a(45),a(6)),d=a.n(E),k=(a(67),a(28)),h=a.n(k),S=a(3),b=a.n(S),N=a(7),w=a(9),I=a(12),y=a(11),A=a(10),C=(a(51),a(22)),L=a.n(C),O=a(0),j=a.n(O),P=a(523),R=(a(2406),a(35)),x=a(1766),V=a(1876),H=L.a.Search,z=Object(R.g)(n=function(e){Object(y.a)(n,e);var t=Object(A.a)(n);function n(){var e;Object(w.a)(this,n);for(var s=arguments.length,r=new Array(s),c=0;c<s;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={userId:"",visible:!1,confirmLoading:!1,total:0,pageNum:sessionStorage.getItem("pageNum")?sessionStorage.getItem("pageNum"):1,pageSize:12,searchValueLive:sessionStorage.getItem("searchValueLive")?sessionStorage.getItem("searchValueLive"):"",postParam:{},liveList:[],courseList:[],courseId:sessionStorage.getItem("liveCourseId")?sessionStorage.getItem("liveCourseId"):"",liveStatus:sessionStorage.getItem("liveStatus")?sessionStorage.getItem("liveStatus"):"0",params:{teachingId:"123"}},e.componentDidMount=Object(N.a)(b.a.mark((function t(){var a,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")).user.id:"",n={studentId:a,pageNum:e.state.pageNum,pageSize:10,liveStatus:e.state.liveStatus,subjectId:e.state.courseId,taskName:e.state.searchValueLive,initiator:""},t.next=4,e.setState({userId:a,postParam:n},(function(){e.courseList(a),e.liveList(e.state.postParam)}));case 4:case"end":return t.stop()}}),t)}))),e.courseList=function(){var t=Object(N.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(x.b)({userId:e.state.userId});case 2:(n=t.sent)&&e.setState({courseList:n.courseList});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.liveList=function(){var t=Object(N.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(V.b)(a).then((function(t){e.setState({liveList:t.data,total:t.total,pageNum:t.pageNum,pageSize:t.pageSize})}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.courseChange=function(t){var a=t.target.value;sessionStorage.setItem("liveCourseId",a),sessionStorage.setItem("liveListRefreshKey","true"),e.state.postParam.subjectId=a,e.setState({courseId:a}),e.liveList(e.state.postParam)},e.statusChange=function(t){var a=t.target.value;sessionStorage.setItem("liveStatus",a),sessionStorage.setItem("liveListRefreshKey","true"),e.state.postParam.liveStatus=a,e.setState({liveStatus:a}),e.liveList(e.state.postParam)},e.taskStatus=function(e){new Date,new Date(e.taskStartTime),new Date(e.taskEndTime);return 0===e.taskStatus?j.a.createElement("span",{className:"span"},"\u672a\u53d1\u5e03"):1===e.taskStatus?j.a.createElement("span",{className:"span"},"\u5df2\u53d1\u5e03"):2===e.taskStatus?j.a.createElement("span",{className:"span"},"\u5df2\u5f00\u59cb"):3===e.taskStatus?j.a.createElement("span",{className:"span"},"\u672a\u76f4\u64ad"):4===e.taskStatus?j.a.createElement("span",{className:"span"},"\u76f4\u64ad\u4e2d"):5===e.taskStatus?j.a.createElement("span",{className:"span",style:{color:"red"}},"\u5df2\u8fc7\u671f"):6===e.taskStatus?j.a.createElement("span",{className:"span"},"\u5df2\u7ed3\u675f"):void 0},e.pushLivePage=function(){var t=Object(N.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(V.e)({liveTaskId:a.id});case 2:-1===(n=t.sent).code?h.a.info({content:"\u76f4\u64ad\u4efb\u52a1\u5df2\u53d6\u6d88\uff0c\u8bf7\u7b49\u5f85\u8001\u5e08\u901a\u77e5",onOk:function(){return e.props.history.push("/my-live")}}):5===n.result.taskStatus?h.a.info({content:"\u76f4\u64ad\u4efb\u52a1\u5df2\u8fc7\u671f",onOk:function(){return e.props.history.push("/my-live")}}):6===n.result.taskStatus?h.a.info({content:"\u76f4\u64ad\u4efb\u52a1\u5df2\u7ed3\u675f",onOk:function(){return window.location.reload()}}):(e.setState({initiator:n.result.initiator}),sessionStorage.setItem("liveListRefreshKey","false"),sessionStorage.setItem("cancelModalKey","false"),e.props.history.push("/my-live/live-pageshow?".concat(encodeURI(JSON.stringify({startTime:a.taskStartTime,roomId:a.roomId,id:a.id,taskName:a.taskName,initiator:e.state.initiator,teacherStu:n.result.teacherJoinRoom})))));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.playbackPage=function(){var t=Object(N.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(V.e)({liveTaskId:a.id});case 2:0===t.sent.result.isView&&h.a.info({content:"\u6ca1\u6709\u89c2\u770b\u6743\u9650",onOk:function(){return window.location.reload()}}),sessionStorage.setItem("liveListRefreshKey","false"),e.props.history.push("/my-live/live-list?".concat(encodeURI(JSON.stringify({startTime:a.taskStartTime,roomId:a.roomId,id:a.id,taskName:a.taskName}))));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.liveStatus=function(t){var n=new Date,s=new Date(t.taskStartTime),r=new Date(t.taskEndTime);if(n<s){if(t.taskStatus<3)return j.a.createElement(g.a,{span:6},j.a.createElement(d.a,{className:"but-link",onClick:function(){return e.pushLivePage(t)}},j.a.createElement("span",null,t.taskStartTime,"\u5f00\u59cb",j.a.createElement("img",{src:a(1772),alt:""}))));if(3===t.taskStatus)return j.a.createElement(g.a,{span:6},j.a.createElement(d.a,{className:"but-link",onClick:function(){return e.pushLivePage(t)}},j.a.createElement("span",null,t.taskStartTime,"\u5f00\u59cb",j.a.createElement("img",{src:a(1772),alt:""}))));if(6===t.taskStatus)return 1===t.transcodingStatus?j.a.createElement(g.a,{span:6},j.a.createElement(d.a,{className:"but-link",onClick:function(){return e.playbackPage(t)}},j.a.createElement("span",null,"\u56de\u653e",j.a.createElement("img",{src:a(1772),alt:""})))):0===t.playbackSupported?j.a.createElement(g.a,{span:6},j.a.createElement(d.a,{className:"but-link",onClick:function(){h.a.info({content:"\u8be5\u76f4\u64ad\u65e0\u56de\u653e"})}},j.a.createElement("span",null,"\u5df2\u7ed3\u675f",j.a.createElement("img",{src:a(1772),alt:""})))):j.a.createElement(g.a,{span:6},j.a.createElement(d.a,{className:"but-link",onClick:function(){h.a.info({content:"\u5f55\u50cf\u8f6c\u7801\u4e2d"})}},j.a.createElement("span",null,"\u8f6c\u7801\u4e2d",j.a.createElement("img",{src:a(1772),alt:""}))));if(4===t.taskStatus)return j.a.createElement(g.a,{span:6},j.a.createElement(d.a,{className:"but-link",onClick:function(){return e.pushLivePage(t)}},j.a.createElement("span",null,"\u76f4\u64ad\u4e2d",j.a.createElement("img",{src:a(1772),alt:""}))))}else{if(n>r)return 6===t.taskStatus?1===t.transcodingStatus?j.a.createElement(g.a,{span:6},j.a.createElement(d.a,{className:"but-link",onClick:function(){return e.playbackPage(t)}},j.a.createElement("span",null,"\u56de\u653e",j.a.createElement("img",{src:a(1772),alt:""})))):0===t.playbackSupported?j.a.createElement(g.a,{span:6},j.a.createElement(d.a,{className:"but-link",onClick:function(){h.a.info({content:"\u8be5\u76f4\u64ad\u65e0\u56de\u653e"})}},j.a.createElement("span",null,"\u5df2\u7ed3\u675f",j.a.createElement("img",{src:a(1772),alt:""})))):j.a.createElement(g.a,{span:6},j.a.createElement(d.a,{className:"but-link",onClick:function(){h.a.info({content:"\u5f55\u50cf\u8f6c\u7801\u4e2d"})}},j.a.createElement("span",null,"\u8f6c\u7801\u4e2d",j.a.createElement("img",{src:a(1772),alt:""})))):4===t.taskStatus?j.a.createElement(g.a,{span:6},j.a.createElement(d.a,{className:"but-link",onClick:function(){return e.pushLivePage(t)}},j.a.createElement("span",null,"\u76f4\u64ad\u4e2d",j.a.createElement("img",{src:a(1772),alt:""})))):j.a.createElement(g.a,{span:6},j.a.createElement(d.a,{className:"but-link",onClick:function(){h.a.info({content:"\u8be5\u76f4\u64ad\u5df2\u8fc7\u671f"})}},j.a.createElement("span",null,"\u5df2\u8fc7\u671f",j.a.createElement("img",{src:a(1772),alt:""}))));if(n>s)return 4===t.taskStatus?j.a.createElement(g.a,{span:6},j.a.createElement(d.a,{className:"but-link",onClick:function(){return e.pushLivePage(t)}},j.a.createElement("span",null,"\u76f4\u64ad\u4e2d",j.a.createElement("img",{src:a(1772),alt:""})))):6===t.taskStatus?1===t.transcodingStatus?j.a.createElement(g.a,{span:6},j.a.createElement(d.a,{className:"but-link",onClick:function(){return e.playbackPage(t)}},j.a.createElement("span",null,"\u56de\u653e",j.a.createElement("img",{src:a(1772),alt:""})))):0===t.playbackSupported?j.a.createElement(g.a,{span:6},j.a.createElement(d.a,{className:"but-link",onClick:function(){h.a.info({content:"\u8be5\u76f4\u64ad\u65e0\u56de\u653e"})}},j.a.createElement("span",null,"\u5df2\u7ed3\u675f",j.a.createElement("img",{src:a(1772),alt:""})))):j.a.createElement(g.a,{span:6},j.a.createElement(d.a,{className:"but-link",onClick:function(){h.a.info({content:"\u5f55\u50cf\u8f6c\u7801\u4e2d"})}},j.a.createElement("span",null,"\u8f6c\u7801\u4e2d",j.a.createElement("img",{src:a(1772),alt:""})))):j.a.createElement(g.a,{span:6},j.a.createElement(d.a,{className:"but-link",onClick:function(){return e.pushLivePage(t)}},j.a.createElement("span",null,"\u672a\u76f4\u64ad",j.a.createElement("img",{src:a(1772),alt:""}))))}},e.searchChange=function(t){e.setState({searchValueLive:t.target.value},(function(){""===e.state.searchValueLive&&(e.state.postParam.taskName=e.state.searchValueLive.replace(/(^\s*)|(\s*$)/g,""),sessionStorage.setItem("searchValueLive",""),e.liveList(e.state.postParam))}))},e.searchCommit=function(t){sessionStorage.setItem("searchValueLive",t),e.state.postParam.taskName=e.state.searchValueLive,e.liveList(e.state.postParam)},e.pageChange=function(t,a){e.state.postParam.pageNum=t,sessionStorage.setItem("pageNum",t),e.state.postParam.pageSize=a,e.liveList(e.state.postParam)},e.onShowSizeChange=function(t,a){e.state.postParam.pageNum=t,e.state.postParam.pageSize=a,e.liveList(e.state.postParam)},e}return Object(I.a)(n,[{key:"componentWillUnmount",value:function(){"false"!==(sessionStorage.getItem("liveListRefreshKey")?sessionStorage.getItem("liveListRefreshKey"):"")&&sessionStorage.clear()}},{key:"render",value:function(){var e=this,t=this.state,a=t.pageNum,n=t.total,s=t.courseList,c=t.liveList;return j.a.createElement("div",{className:"Mylive-main"},j.a.createElement(P.default,{navName:"my-live"}),j.a.createElement("div",{className:"Mylive-pic"},j.a.createElement(m.a,{className:"center-content-search"},j.a.createElement(g.a,{span:24},j.a.createElement(l.a,{className:"center-content-paper"},j.a.createElement(m.a,{className:"paper-common ",id:"paperCommon"},j.a.createElement(g.a,{span:1,className:"paper-year"},"\u8bfe\u7a0b"),j.a.createElement(g.a,{span:20},j.a.createElement(f.a.Group,{defaultValue:this.state.courseId,key:this.state.courseId,onChange:this.courseChange},j.a.createElement(f.a.Button,{value:""},"\u5168\u90e8"),s.map((function(e){return j.a.createElement(f.a.Button,{value:e.courseId},e.courseName)}))))),j.a.createElement(m.a,{className:"paper-common"},j.a.createElement(g.a,{span:1,className:"paper-year"},"\u72b6\u6001"),j.a.createElement(g.a,{span:20},j.a.createElement(f.a.Group,{defaultValue:this.state.liveStatus,key:this.state.liveStatus,onChange:this.statusChange},j.a.createElement(f.a.Button,{value:"0"},"\u5168\u90e8"),j.a.createElement(f.a.Button,{value:"1"},"\u672a\u5f00\u59cb"),j.a.createElement(f.a.Button,{value:"2"},"\u5df2\u5f00\u59cb"),j.a.createElement(f.a.Button,{value:"3"},"\u76f4\u64ad\u4e2d"),j.a.createElement(f.a.Button,{value:"4"},"\u5df2\u7ed3\u675f"),j.a.createElement(f.a.Button,{value:"5"},"\u5df2\u8fc7\u671f"))))))),j.a.createElement(l.a,null,j.a.createElement("div",{className:"Mylive-pic-content"},j.a.createElement(m.a,null,j.a.createElement(g.a,{span:12},j.a.createElement("span",{className:"span"},"\u6d4f\u89c8\u5668\u652f\u6301\uff1aChrome 52+\u3001 QQ\u6d4f\u89c8\u5668 10.2+ \u3001 360\u5b89\u5168\u6d4f\u89c8\u566812+\u3001 360\u6781\u901f\u6d4f\u89c8\u566812+")),j.a.createElement(g.a,{span:12,className:"live-right"},j.a.createElement("div",{className:"paper-common-search"},j.a.createElement(H,{style:{width:220},placeholder:"\u8bf7\u8f93\u5165\u76f4\u64ad\u540d\u79f0",value:this.state.searchValueLive,onSearch:function(t){return e.searchCommit(t)},onChange:this.searchChange}))))),j.a.createElement("div",{className:"Mylive-pic-bottom"},c.length>0?c.map((function(t){return j.a.createElement(m.a,{className:"mylive-list"},j.a.createElement(g.a,{span:18},j.a.createElement("div",{className:"pic-img"},j.a.createElement("img",{src:"/api/media/api/v1/media/showImage/".concat(t.livePic),alt:""})),j.a.createElement("div",{className:"left"},j.a.createElement("div",{className:"title"},j.a.createElement("h2",{title:""},t.taskName),e.taskStatus(t)),j.a.createElement("p",null,j.a.createElement("span",null,"\u5f00\u59cb\u65f6\u95f4\uff1a",t.taskStartTime),j.a.createElement("span",null,"\u7ed3\u675f\u65f6\u95f4\uff1a",t.taskEndTime),j.a.createElement("span",null,"\u76f4\u64ad\u8bf4\u660e"),j.a.createElement("span",null,t.taskExplain?t.taskExplain:"\u6682\u65e0")))),e.liveStatus(t))})):j.a.createElement(i.a,null),j.a.createElement("div",{className:"course-list-lh"},j.a.createElement(m.a,null,j.a.createElement(g.a,{span:24,style:{textAlign:"right",marginTop:10,justifyContent:"flex-end"}},j.a.createElement(r.a,{defaultCurrent:1,onChange:this.pageChange,pageSize:this.state.pageSize,current:a,total:n,showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,showTotal:function(e){return"\u5171 ".concat(n," \u6761")},style:{textAlign:"right",marginRight:"10px",marginTop:"20px"}}))))))))}}]),n}(O.Component))||n;t.default=z}}]);