(this.webpackJsonpzjyz_admin=this.webpackJsonpzjyz_admin||[]).push([[115],{2397:function(e,t,a){},2398:function(e,t){e.exports="data:image/png;base64,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"},2753:function(e,t,a){"use strict";a.r(t);var r=a(3),n=a.n(r),s=a(7),c=a(9),i=a(12),o=a(52),l=a(11),m=a(10),d=a(0),u=a.n(d),p=a(522),g=a(111),f=(a(239),a(2397),a(75)),h=function(e){Object(l.a)(r,e);var t=Object(m.a)(r);function r(){var e;Object(c.a)(this,r);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={resourceId:"",resourceName:"",title:"",createUserName:"",browseNum:0,collectNum:0,unitName:"",createTime:"",collectFlag:"",fileId:"",portraitId:"",mediaType:"",content:"",usedNum:"",resourceFormat:"",activeKey:"",bigMajorId:"",medMajorId:"",majorId:"",resourceTypeCheck:"",resourceFormatCheck:"",stageId:"",parentId:"",userId:"",expandedKeys:[],imgArr:[],showFileId:"",isTxt:!1,planNum:0,filImgH:0,duration:1,studyProgressSecond:1,progress:0,enterTime:null,loadNum:0,filePath:""},e.goBack=function(){e.props.history.goBack()},e.collectChange=function(){var t=Object(s.a)(n.a.mark((function t(a){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(p.b)({userId:e.state.userId,objectId:a,collectType:2}).then((function(t){var a=e.state.collectFlag;"0"===a?e.state.collectFlag="1":"1"===a&&(e.state.collectFlag="0"),e.setState({collectFlag:a}),e.getOne()}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.scrollPic=function(){Object(o.a)(e);var t=document.getElementById("img_content"),a=document.getElementById("pic_parent"),r=t.offsetHeight,n=a.scrollTop,s=e.state.filImgH,c=parseInt(n/s);e.setState({planNum:c+1}),console.log("contentH++++++",r),console.log("picParent++++++",n),console.log("num**********************",e.state.planNum)},e.imgLoad=function(t){var a=e.state,r=(a.filImgH,a.planNum,a.progress);console.log("9999999999999",t);var n=document.getElementById("img_content"),s=document.getElementById("pic_parent");if(null!=document.getElementById("file_img0")){var c=document.getElementById("file_img0").offsetHeight;n.offsetHeight;e.setState({filImgH:c},(function(){console.log("filImgH%%%%%%%%%",e.state.filImgH),e.state.imgArr.length-1>t&&e.setState({loadNum:e.state.loadNum+1},(function(){e.state.imgArr.length-1==e.state.loadNum&&(console.log("666666666progress",r),s.scrollTop=c*r-c)}))}))}},e}return Object(i.a)(r,[{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("userInfo")),a=this.props.location.search;console.log("\u622a\u53d6\u4e4b\u540e\u5f97data",a);var r=a.split("?")[1],n=r.includes("%")?decodeURI(r):r,s=JSON.parse(n);console.log("\u89e3\u6790\u4e4b\u540e\u5f97jsonparam",s),this.setState({resourceId:s.id,portraitId:s.portraitId,activeKey:s.activeKey,bigMajorId:s.bigMajorId,medMajorId:s.medMajorId,majorId:s.majorId,resourceTypeCheck:s.resourceTypeCheck,resourceFormatCheck:s.resourceFormatCheck,stageId:s.stageId,parentId:s.parentId,expandedKeys:s.expandedKeys,userId:t.user.id,enterTime:(new Date).getTime()},(function(){e.getResourceLearning()}))}},{key:"componentWillUnmount",value:function(){if(console.log("#################",this.state.mediaType),1===this.state.mediaType||8===this.state.mediaType)this.state.studyProgressSecond=1,this.state.duration=1;else if(4===this.state.mediaType||5===this.state.mediaType){var e=document.getElementById("previewVideo");console.log("\u8fd4\u56de\u65f6state2222222222222222++++++",e),this.state.studyProgressSecond=Math.floor(e.currentTime),this.state.duration=Math.floor(e.duration)}if(console.log("\u8fd4\u56de\u65f6state++++++",this.state.duration,this.state.mediaType,this.state.resourceId,this.state.studyProgressSecond),this.state.studyProgressSecond>0){var t=(new Date).getTime();this.state.studySumSecond=t-this.state.enterTime,Object(p.s)({duration:this.state.duration,mediaType:this.state.mediaType,resourceFrom:1,studentId:this.state.userId,resourceId:this.state.resourceId,studyProgressSecond:this.state.studyProgressSecond,studySumSecond:this.state.studySumSecond/1e3})}var a={activeKey:this.state.activeKey,bigMajorId:this.state.bigMajorId,medMajorId:this.state.medMajorId,majorId:this.state.majorId,resourceTypeCheck:this.state.resourceTypeCheck,resourceFormatCheck:this.state.resourceFormatCheck,stageId:this.state.stageId,parentId:this.state.parentId,expandedKeys:this.state.expandedKeys};this.props.history.push("/resources-center?".concat(encodeURI(JSON.stringify(a))))}},{key:"init",value:function(){var e=Object(s.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getOne",value:function(){var e=Object(s.a)(n.a.mark((function e(){var t,a=this;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.g)({id:this.state.resourceId});case 2:t=e.sent,this.setState({resourceName:t.resourceName,title:t.title,createUserName:t.createUserName,unitName:t.unitName,browseNum:t.browseNum,collectNum:t.collectNum,createTime:t.createTime,collectFlag:t.collectFlag,fileId:t.fileId,mediaType:t.mediaType,content:t.content,usedNum:t.usedNum,resourceFormat:t.resourceFormat,filePath:t.filePath},(function(){a.getFileUrl()}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getResourceLearning",value:function(){var e=Object(s.a)(n.a.mark((function e(){var t,a=this;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.i)({resourceId:this.state.resourceId,studentId:this.state.userId,resourceFrom:1});case 2:t=e.sent,this.setState({progress:t.studyProgressSecond?t.studyProgressSecond:0},(function(){a.getOne()})),console.log("\u83b7\u53d6\u5230\u5f97\u8fdb\u5ea6",this.state.progress);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getFileUrl",value:function(){var e=document.documentElement.clientHeight-220,t=this.state,a=t.mediaType,r=t.fileId,n=t.resourceName,s=t.content,c=(t.resourceFormat,t.isTxt,t.filePath);if(5===a||4===a){var i=document.getElementById("previewVideo");i.src="".concat(g.f,"/").concat(c),i.play()}else if(9===a){var o=document.createElement("iframe"),l={resourceName:n,content:s};o.src="/#/student/safety-check?".concat(encodeURI(JSON.stringify(l))),o.width="100%",o.height=e+"px",o.parmas=l,document.getElementById("previewIframe").appendChild(o)}else if(1===a||8===a){var m="".concat(g.b,"&furl=").concat(g.d,"/api/media/api/v1/media/download/").concat(r),d=document.createElement("iframe");if(d.src=m,d.width="100%",d.id="iframeId",d.height=e+"px",!f.a.isEmpty(d)&&!f.a.isEmpty(document.getElementById("previewIframe"))){document.getElementById("previewIframe").appendChild(d);document.getElementById("iframeId").contentWindow.document.body;if(n){var u=n.split("."),p=u.length-1,h=u&&u.length>0?u[p]:"";-1!==g.h.indexOf(h)?document.getElementById("previewIframe").style.background="#ffffff":"pdf"==h&&(document.getElementById("previewIframe").style.background="#E6E6E6")}}}else if(99===a){var I=document.createElement("iframe"),y={resourceName:n,content:s,fileId:r};I.src="/#/student/safety-down?".concat(encodeURI(JSON.stringify(y))),I.width="100%",I.height=e+"px",I.parmas=y,document.getElementById("previewIframe").appendChild(I)}}},{key:"render",value:function(){var e=this,t=this.state,r=(t.isTxt,t.imgArr),n=t.title,s=t.resourceName,c=t.createUserName,i=t.browseNum,o=t.collectNum,l=t.unitName,m=t.createTime,d=t.collectFlag,p=t.fileId,g=t.mediaType,f=t.portraitId,h=t.resourceId;console.log("imgArr00000000",r);var I=document.documentElement.clientHeight-220;return u.a.createElement("div",{className:"resources-preview clearfix"},u.a.createElement("div",{className:"preview-pic clearfix"},u.a.createElement("div",{className:"top"},u.a.createElement("span",{className:"img",style:{width:"85px"}}," ",u.a.createElement("a",{className:"preview-f",onClick:this.goBack.bind(this)},u.a.createElement("img",{src:a(521),style:{float:"left"},alt:""}),u.a.createElement("span",{className:"text-back",style:{float:"left",fontSize:"16px",color:"#2A283D"}},"\u8fd4\u56de"))),n),u.a.createElement("div",{className:"preview-box clearfix"},u.a.createElement("div",{className:"left clearfix"},5===g?u.a.createElement("video",{style:{width:"100%"},height:I,id:"previewVideo",src:"",controls:"controls",controlsList:"nodownload"}):4===g?u.a.createElement("div",{className:"audio-flex",style:{height:I}},u.a.createElement("audio",{id:"previewVideo",src:"",controls:"controls",controlsList:"nodownload",className:"preview_audio"})):6===g?u.a.createElement("div",{className:"pic_img",style:{height:I}},u.a.createElement("embed",{src:"/api/media/api/v1/media/getMedia/".concat(p,"/").concat(s)})," "):3===g?u.a.createElement("div",{className:"pic_img",style:{height:I}},u.a.createElement("img",{src:"/api/media/api/v1/media/getMedia/".concat(p),alt:"",className:"preview_img"})," "):u.a.createElement("div",{id:"previewIframe",style:{height:I}})," "),u.a.createElement("div",{className:"right clearfix"},u.a.createElement("span",{className:"span"},"\u8d44\u6e90\u4fe1\u606f: "),u.a.createElement("div",{className:"text"},u.a.createElement("span",{className:"img"},""===f||null===f?u.a.createElement("img",{src:a(2398),alt:""}):u.a.createElement("img",{src:"/api/media/api/v1/media/getMedia/".concat(f),alt:""})),u.a.createElement("h4",{className:"h4"},c),u.a.createElement("p",{className:"p"},l),u.a.createElement("p",{className:"p"},"\u521b\u5efa\u65f6\u95f4\uff1a",m),u.a.createElement("p",{className:"p"},u.a.createElement("span",{className:"spana"},"\u6d4f\u89c8\u91cf\uff1a ",i),u.a.createElement("span",{className:"spana"},"\u6536\u85cf\u91cf\uff1a ",o))),u.a.createElement("div",{className:"Coll",onClick:function(){return e.collectChange(h)}},"1"===d?u.a.createElement("img",{src:a(538)}):u.a.createElement("img",{src:a(539)}),"\u6536\u85cf")))))}}]),r}(d.Component);t.default=h}}]);